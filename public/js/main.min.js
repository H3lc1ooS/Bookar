/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
!function (a, b) { "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (a) { if (!a.document) throw new Error("jQuery requires a window with a document"); return b(a) } : b(a) }("undefined" != typeof window ? window : this, function (a, b) {
  var c = [], d = a.document, e = c.slice, f = c.concat, g = c.push, h = c.indexOf, i = {}, j = i.toString, k = i.hasOwnProperty, l = {}, m = "2.2.4", n = function (a, b) { return new n.fn.init(a, b) }, o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, p = /^-ms-/, q = /-([\da-z])/gi, r = function (a, b) { return b.toUpperCase() }; n.fn = n.prototype = { jquery: m, constructor: n, selector: "", length: 0, toArray: function () { return e.call(this) }, get: function (a) { return null != a ? 0 > a ? this[a + this.length] : this[a] : e.call(this) }, pushStack: function (a) { var b = n.merge(this.constructor(), a); return b.prevObject = this, b.context = this.context, b }, each: function (a) { return n.each(this, a) }, map: function (a) { return this.pushStack(n.map(this, function (b, c) { return a.call(b, c, b) })) }, slice: function () { return this.pushStack(e.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (a) { var b = this.length, c = +a + (0 > a ? b : 0); return this.pushStack(c >= 0 && b > c ? [this[c]] : []) }, end: function () { return this.prevObject || this.constructor() }, push: g, sort: c.sort, splice: c.splice }, n.extend = n.fn.extend = function () { var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1; for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || n.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++)if (null != (a = arguments[h])) for (b in a) c = g[b], d = a[b], g !== d && (j && d && (n.isPlainObject(d) || (e = n.isArray(d))) ? (e ? (e = !1, f = c && n.isArray(c) ? c : []) : f = c && n.isPlainObject(c) ? c : {}, g[b] = n.extend(j, f, d)) : void 0 !== d && (g[b] = d)); return g }, n.extend({ expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (a) { throw new Error(a) }, noop: function () { }, isFunction: function (a) { return "function" === n.type(a) }, isArray: Array.isArray, isWindow: function (a) { return null != a && a === a.window }, isNumeric: function (a) { var b = a && a.toString(); return !n.isArray(a) && b - parseFloat(b) + 1 >= 0 }, isPlainObject: function (a) { var b; if ("object" !== n.type(a) || a.nodeType || n.isWindow(a)) return !1; if (a.constructor && !k.call(a, "constructor") && !k.call(a.constructor.prototype || {}, "isPrototypeOf")) return !1; for (b in a); return void 0 === b || k.call(a, b) }, isEmptyObject: function (a) { var b; for (b in a) return !1; return !0 }, type: function (a) { return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? i[j.call(a)] || "object" : typeof a }, globalEval: function (a) { var b, c = eval; a = n.trim(a), a && (1 === a.indexOf("use strict") ? (b = d.createElement("script"), b.text = a, d.head.appendChild(b).parentNode.removeChild(b)) : c(a)) }, camelCase: function (a) { return a.replace(p, "ms-").replace(q, r) }, nodeName: function (a, b) { return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase() }, each: function (a, b) { var c, d = 0; if (s(a)) { for (c = a.length; c > d; d++)if (b.call(a[d], d, a[d]) === !1) break } else for (d in a) if (b.call(a[d], d, a[d]) === !1) break; return a }, trim: function (a) { return null == a ? "" : (a + "").replace(o, "") }, makeArray: function (a, b) { var c = b || []; return null != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : g.call(c, a)), c }, inArray: function (a, b, c) { return null == b ? -1 : h.call(b, a, c) }, merge: function (a, b) { for (var c = +b.length, d = 0, e = a.length; c > d; d++)a[e++] = b[d]; return a.length = e, a }, grep: function (a, b, c) { for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)d = !b(a[f], f), d !== h && e.push(a[f]); return e }, map: function (a, b, c) { var d, e, g = 0, h = []; if (s(a)) for (d = a.length; d > g; g++)e = b(a[g], g, c), null != e && h.push(e); else for (g in a) e = b(a[g], g, c), null != e && h.push(e); return f.apply([], h) }, guid: 1, proxy: function (a, b) { var c, d, f; return "string" == typeof b && (c = a[b], b = a, a = c), n.isFunction(a) ? (d = e.call(arguments, 2), f = function () { return a.apply(b || this, d.concat(e.call(arguments))) }, f.guid = a.guid = a.guid || n.guid++, f) : void 0 }, now: Date.now, support: l }), "function" == typeof Symbol && (n.fn[Symbol.iterator] = c[Symbol.iterator]), n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (a, b) { i["[object " + b + "]"] = b.toLowerCase() }); function s(a) { var b = !!a && "length" in a && a.length, c = n.type(a); return "function" === c || n.isWindow(a) ? !1 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a } var t = function (a) { var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date, v = a.document, w = 0, x = 0, y = ga(), z = ga(), A = ga(), B = function (a, b) { return a === b && (l = !0), 0 }, C = 1 << 31, D = {}.hasOwnProperty, E = [], F = E.pop, G = E.push, H = E.push, I = E.slice, J = function (a, b) { for (var c = 0, d = a.length; d > c; c++)if (a[c] === b) return c; return -1 }, K = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", L = "[\\x20\\t\\r\\n\\f]", M = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", N = "\\[" + L + "*(" + M + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + M + "))|)" + L + "*\\]", O = ":(" + M + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + N + ")*)|.*)\\)|)", P = new RegExp(L + "+", "g"), Q = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$", "g"), R = new RegExp("^" + L + "*," + L + "*"), S = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"), T = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]", "g"), U = new RegExp(O), V = new RegExp("^" + M + "$"), W = { ID: new RegExp("^#(" + M + ")"), CLASS: new RegExp("^\\.(" + M + ")"), TAG: new RegExp("^(" + M + "|[*])"), ATTR: new RegExp("^" + N), PSEUDO: new RegExp("^" + O), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)", "i"), bool: new RegExp("^(?:" + K + ")$", "i"), needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)", "i") }, X = /^(?:input|select|textarea|button)$/i, Y = /^h\d$/i, Z = /^[^{]+\{\s*\[native \w/, $ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, _ = /[+~]/, aa = /'|\\/g, ba = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)", "ig"), ca = function (a, b, c) { var d = "0x" + b - 65536; return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320) }, da = function () { m() }; try { H.apply(E = I.call(v.childNodes), v.childNodes), E[v.childNodes.length].nodeType } catch (ea) { H = { apply: E.length ? function (a, b) { G.apply(a, I.call(b)) } : function (a, b) { var c = a.length, d = 0; while (a[c++] = b[d++]); a.length = c - 1 } } } function fa(a, b, d, e) { var f, h, j, k, l, o, r, s, w = b && b.ownerDocument, x = b ? b.nodeType : 9; if (d = d || [], "string" != typeof a || !a || 1 !== x && 9 !== x && 11 !== x) return d; if (!e && ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, p)) { if (11 !== x && (o = $.exec(a))) if (f = o[1]) { if (9 === x) { if (!(j = b.getElementById(f))) return d; if (j.id === f) return d.push(j), d } else if (w && (j = w.getElementById(f)) && t(b, j) && j.id === f) return d.push(j), d } else { if (o[2]) return H.apply(d, b.getElementsByTagName(a)), d; if ((f = o[3]) && c.getElementsByClassName && b.getElementsByClassName) return H.apply(d, b.getElementsByClassName(f)), d } if (c.qsa && !A[a + " "] && (!q || !q.test(a))) { if (1 !== x) w = b, s = a; else if ("object" !== b.nodeName.toLowerCase()) { (k = b.getAttribute("id")) ? k = k.replace(aa, "\\$&") : b.setAttribute("id", k = u), r = g(a), h = r.length, l = V.test(k) ? "#" + k : "[id='" + k + "']"; while (h--) r[h] = l + " " + qa(r[h]); s = r.join(","), w = _.test(a) && oa(b.parentNode) || b } if (s) try { return H.apply(d, w.querySelectorAll(s)), d } catch (y) { } finally { k === u && b.removeAttribute("id") } } } return i(a.replace(Q, "$1"), b, d, e) } function ga() { var a = []; function b(c, e) { return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e } return b } function ha(a) { return a[u] = !0, a } function ia(a) { var b = n.createElement("div"); try { return !!a(b) } catch (c) { return !1 } finally { b.parentNode && b.parentNode.removeChild(b), b = null } } function ja(a, b) { var c = a.split("|"), e = c.length; while (e--) d.attrHandle[c[e]] = b } function ka(a, b) { var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || C) - (~a.sourceIndex || C); if (d) return d; if (c) while (c = c.nextSibling) if (c === b) return -1; return a ? 1 : -1 } function la(a) { return function (b) { var c = b.nodeName.toLowerCase(); return "input" === c && b.type === a } } function ma(a) { return function (b) { var c = b.nodeName.toLowerCase(); return ("input" === c || "button" === c) && b.type === a } } function na(a) { return ha(function (b) { return b = +b, ha(function (c, d) { var e, f = a([], c.length, b), g = f.length; while (g--) c[e = f[g]] && (c[e] = !(d[e] = c[e])) }) }) } function oa(a) { return a && "undefined" != typeof a.getElementsByTagName && a } c = fa.support = {}, f = fa.isXML = function (a) { var b = a && (a.ownerDocument || a).documentElement; return b ? "HTML" !== b.nodeName : !1 }, m = fa.setDocument = function (a) { var b, e, g = a ? a.ownerDocument || a : v; return g !== n && 9 === g.nodeType && g.documentElement ? (n = g, o = n.documentElement, p = !f(n), (e = n.defaultView) && e.top !== e && (e.addEventListener ? e.addEventListener("unload", da, !1) : e.attachEvent && e.attachEvent("onunload", da)), c.attributes = ia(function (a) { return a.className = "i", !a.getAttribute("className") }), c.getElementsByTagName = ia(function (a) { return a.appendChild(n.createComment("")), !a.getElementsByTagName("*").length }), c.getElementsByClassName = Z.test(n.getElementsByClassName), c.getById = ia(function (a) { return o.appendChild(a).id = u, !n.getElementsByName || !n.getElementsByName(u).length }), c.getById ? (d.find.ID = function (a, b) { if ("undefined" != typeof b.getElementById && p) { var c = b.getElementById(a); return c ? [c] : [] } }, d.filter.ID = function (a) { var b = a.replace(ba, ca); return function (a) { return a.getAttribute("id") === b } }) : (delete d.find.ID, d.filter.ID = function (a) { var b = a.replace(ba, ca); return function (a) { var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id"); return c && c.value === b } }), d.find.TAG = c.getElementsByTagName ? function (a, b) { return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0 } : function (a, b) { var c, d = [], e = 0, f = b.getElementsByTagName(a); if ("*" === a) { while (c = f[e++]) 1 === c.nodeType && d.push(c); return d } return f }, d.find.CLASS = c.getElementsByClassName && function (a, b) { return "undefined" != typeof b.getElementsByClassName && p ? b.getElementsByClassName(a) : void 0 }, r = [], q = [], (c.qsa = Z.test(n.querySelectorAll)) && (ia(function (a) { o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\r\\' msallowcapture=''><option selected=''></option></select>", a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + L + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || q.push("\\[" + L + "*(?:value|" + K + ")"), a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="), a.querySelectorAll(":checked").length || q.push(":checked"), a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]") }), ia(function (a) { var b = n.createElement("input"); b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && q.push("name" + L + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), q.push(",.*:") })), (c.matchesSelector = Z.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ia(function (a) { c.disconnectedMatch = s.call(a, "div"), s.call(a, "[s!='']:x"), r.push("!=", O) }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r.join("|")), b = Z.test(o.compareDocumentPosition), t = b || Z.test(o.contains) ? function (a, b) { var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode; return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d))) } : function (a, b) { if (b) while (b = b.parentNode) if (b === a) return !0; return !1 }, B = b ? function (a, b) { if (a === b) return l = !0, 0; var d = !a.compareDocumentPosition - !b.compareDocumentPosition; return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === n || a.ownerDocument === v && t(v, a) ? -1 : b === n || b.ownerDocument === v && t(v, b) ? 1 : k ? J(k, a) - J(k, b) : 0 : 4 & d ? -1 : 1) } : function (a, b) { if (a === b) return l = !0, 0; var c, d = 0, e = a.parentNode, f = b.parentNode, g = [a], h = [b]; if (!e || !f) return a === n ? -1 : b === n ? 1 : e ? -1 : f ? 1 : k ? J(k, a) - J(k, b) : 0; if (e === f) return ka(a, b); c = a; while (c = c.parentNode) g.unshift(c); c = b; while (c = c.parentNode) h.unshift(c); while (g[d] === h[d]) d++; return d ? ka(g[d], h[d]) : g[d] === v ? -1 : h[d] === v ? 1 : 0 }, n) : n }, fa.matches = function (a, b) { return fa(a, null, null, b) }, fa.matchesSelector = function (a, b) { if ((a.ownerDocument || a) !== n && m(a), b = b.replace(T, "='$1']"), c.matchesSelector && p && !A[b + " "] && (!r || !r.test(b)) && (!q || !q.test(b))) try { var d = s.call(a, b); if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d } catch (e) { } return fa(b, n, null, [a]).length > 0 }, fa.contains = function (a, b) { return (a.ownerDocument || a) !== n && m(a), t(a, b) }, fa.attr = function (a, b) { (a.ownerDocument || a) !== n && m(a); var e = d.attrHandle[b.toLowerCase()], f = e && D.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0; return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null }, fa.error = function (a) { throw new Error("Syntax error, unrecognized expression: " + a) }, fa.uniqueSort = function (a) { var b, d = [], e = 0, f = 0; if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) { while (b = a[f++]) b === a[f] && (e = d.push(f)); while (e--) a.splice(d[e], 1) } return k = null, a }, e = fa.getText = function (a) { var b, c = "", d = 0, f = a.nodeType; if (f) { if (1 === f || 9 === f || 11 === f) { if ("string" == typeof a.textContent) return a.textContent; for (a = a.firstChild; a; a = a.nextSibling)c += e(a) } else if (3 === f || 4 === f) return a.nodeValue } else while (b = a[d++]) c += e(b); return c }, d = fa.selectors = { cacheLength: 50, createPseudo: ha, match: W, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (a) { return a[1] = a[1].replace(ba, ca), a[3] = (a[3] || a[4] || a[5] || "").replace(ba, ca), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4) }, CHILD: function (a) { return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || fa.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && fa.error(a[0]), a }, PSEUDO: function (a) { var b, c = !a[6] && a[2]; return W.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && U.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3)) } }, filter: { TAG: function (a) { var b = a.replace(ba, ca).toLowerCase(); return "*" === a ? function () { return !0 } : function (a) { return a.nodeName && a.nodeName.toLowerCase() === b } }, CLASS: function (a) { var b = y[a + " "]; return b || (b = new RegExp("(^|" + L + ")" + a + "(" + L + "|$)")) && y(a, function (a) { return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "") }) }, ATTR: function (a, b, c) { return function (d) { var e = fa.attr(d, a); return null == e ? "!=" === b : b ? (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e.replace(P, " ") + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0 } }, CHILD: function (a, b, c, d, e) { var f = "nth" !== a.slice(0, 3), g = "last" !== a.slice(-4), h = "of-type" === b; return 1 === d && 0 === e ? function (a) { return !!a.parentNode } : function (b, c, i) { var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h, t = !1; if (q) { if (f) { while (p) { m = b; while (m = m[p]) if (h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) return !1; o = p = "only" === a && !o && "nextSibling" } return !0 } if (o = [g ? q.firstChild : q.lastChild], g && s) { m = q, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n && j[2], m = n && q.childNodes[n]; while (m = ++n && m && m[p] || (t = n = 0) || o.pop()) if (1 === m.nodeType && ++t && m === b) { k[a] = [w, n, t]; break } } else if (s && (m = b, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n), t === !1) while (m = ++n && m && m[p] || (t = n = 0) || o.pop()) if ((h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) && ++t && (s && (l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), k[a] = [w, t]), m === b)) break; return t -= e, t === d || t % d === 0 && t / d >= 0 } } }, PSEUDO: function (a, b) { var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || fa.error("unsupported pseudo: " + a); return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? ha(function (a, c) { var d, f = e(a, b), g = f.length; while (g--) d = J(a, f[g]), a[d] = !(c[d] = f[g]) }) : function (a) { return e(a, 0, c) }) : e } }, pseudos: { not: ha(function (a) { var b = [], c = [], d = h(a.replace(Q, "$1")); return d[u] ? ha(function (a, b, c, e) { var f, g = d(a, null, e, []), h = a.length; while (h--) (f = g[h]) && (a[h] = !(b[h] = f)) }) : function (a, e, f) { return b[0] = a, d(b, null, f, c), b[0] = null, !c.pop() } }), has: ha(function (a) { return function (b) { return fa(a, b).length > 0 } }), contains: ha(function (a) { return a = a.replace(ba, ca), function (b) { return (b.textContent || b.innerText || e(b)).indexOf(a) > -1 } }), lang: ha(function (a) { return V.test(a || "") || fa.error("unsupported lang: " + a), a = a.replace(ba, ca).toLowerCase(), function (b) { var c; do if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType); return !1 } }), target: function (b) { var c = a.location && a.location.hash; return c && c.slice(1) === b.id }, root: function (a) { return a === o }, focus: function (a) { return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex) }, enabled: function (a) { return a.disabled === !1 }, disabled: function (a) { return a.disabled === !0 }, checked: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && !!a.checked || "option" === b && !!a.selected }, selected: function (a) { return a.parentNode && a.parentNode.selectedIndex, a.selected === !0 }, empty: function (a) { for (a = a.firstChild; a; a = a.nextSibling)if (a.nodeType < 6) return !1; return !0 }, parent: function (a) { return !d.pseudos.empty(a) }, header: function (a) { return Y.test(a.nodeName) }, input: function (a) { return X.test(a.nodeName) }, button: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && "button" === a.type || "button" === b }, text: function (a) { var b; return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase()) }, first: na(function () { return [0] }), last: na(function (a, b) { return [b - 1] }), eq: na(function (a, b, c) { return [0 > c ? c + b : c] }), even: na(function (a, b) { for (var c = 0; b > c; c += 2)a.push(c); return a }), odd: na(function (a, b) { for (var c = 1; b > c; c += 2)a.push(c); return a }), lt: na(function (a, b, c) { for (var d = 0 > c ? c + b : c; --d >= 0;)a.push(d); return a }), gt: na(function (a, b, c) { for (var d = 0 > c ? c + b : c; ++d < b;)a.push(d); return a }) } }, d.pseudos.nth = d.pseudos.eq; for (b in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) d.pseudos[b] = la(b); for (b in { submit: !0, reset: !0 }) d.pseudos[b] = ma(b); function pa() { } pa.prototype = d.filters = d.pseudos, d.setFilters = new pa, g = fa.tokenize = function (a, b) { var c, e, f, g, h, i, j, k = z[a + " "]; if (k) return b ? 0 : k.slice(0); h = a, i = [], j = d.preFilter; while (h) { c && !(e = R.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = S.exec(h)) && (c = e.shift(), f.push({ value: c, type: e[0].replace(Q, " ") }), h = h.slice(c.length)); for (g in d.filter) !(e = W[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({ value: c, type: g, matches: e }), h = h.slice(c.length)); if (!c) break } return b ? h.length : h ? fa.error(a) : z(a, i).slice(0) }; function qa(a) { for (var b = 0, c = a.length, d = ""; c > b; b++)d += a[b].value; return d } function ra(a, b, c) { var d = b.dir, e = c && "parentNode" === d, f = x++; return b.first ? function (b, c, f) { while (b = b[d]) if (1 === b.nodeType || e) return a(b, c, f) } : function (b, c, g) { var h, i, j, k = [w, f]; if (g) { while (b = b[d]) if ((1 === b.nodeType || e) && a(b, c, g)) return !0 } else while (b = b[d]) if (1 === b.nodeType || e) { if (j = b[u] || (b[u] = {}), i = j[b.uniqueID] || (j[b.uniqueID] = {}), (h = i[d]) && h[0] === w && h[1] === f) return k[2] = h[2]; if (i[d] = k, k[2] = a(b, c, g)) return !0 } } } function sa(a) { return a.length > 1 ? function (b, c, d) { var e = a.length; while (e--) if (!a[e](b, c, d)) return !1; return !0 } : a[0] } function ta(a, b, c) { for (var d = 0, e = b.length; e > d; d++)fa(a, b[d], c); return c } function ua(a, b, c, d, e) { for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)(f = a[h]) && (c && !c(f, d, e) || (g.push(f), j && b.push(h))); return g } function va(a, b, c, d, e, f) { return d && !d[u] && (d = va(d)), e && !e[u] && (e = va(e, f)), ha(function (f, g, h, i) { var j, k, l, m = [], n = [], o = g.length, p = f || ta(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : ua(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q; if (c && c(q, r, h, i), d) { j = ua(r, n), d(j, [], h, i), k = j.length; while (k--) (l = j[k]) && (r[n[k]] = !(q[n[k]] = l)) } if (f) { if (e || a) { if (e) { j = [], k = r.length; while (k--) (l = r[k]) && j.push(q[k] = l); e(null, r = [], j, i) } k = r.length; while (k--) (l = r[k]) && (j = e ? J(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l)) } } else r = ua(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : H.apply(g, r) }) } function wa(a) { for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = ra(function (a) { return a === b }, h, !0), l = ra(function (a) { return J(b, a) > -1 }, h, !0), m = [function (a, c, d) { var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d)); return b = null, e }]; f > i; i++)if (c = d.relative[a[i].type]) m = [ra(sa(m), c)]; else { if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) { for (e = ++i; f > e; e++)if (d.relative[a[e].type]) break; return va(i > 1 && sa(m), i > 1 && qa(a.slice(0, i - 1).concat({ value: " " === a[i - 2].type ? "*" : "" })).replace(Q, "$1"), c, e > i && wa(a.slice(i, e)), f > e && wa(a = a.slice(e)), f > e && qa(a)) } m.push(c) } return sa(m) } function xa(a, b) { var c = b.length > 0, e = a.length > 0, f = function (f, g, h, i, k) { var l, o, q, r = 0, s = "0", t = f && [], u = [], v = j, x = f || e && d.find.TAG("*", k), y = w += null == v ? 1 : Math.random() || .1, z = x.length; for (k && (j = g === n || g || k); s !== z && null != (l = x[s]); s++) { if (e && l) { o = 0, g || l.ownerDocument === n || (m(l), h = !p); while (q = a[o++]) if (q(l, g || n, h)) { i.push(l); break } k && (w = y) } c && ((l = !q && l) && r--, f && t.push(l)) } if (r += s, c && s !== r) { o = 0; while (q = b[o++]) q(t, u, g, h); if (f) { if (r > 0) while (s--) t[s] || u[s] || (u[s] = F.call(i)); u = ua(u) } H.apply(i, u), k && !f && u.length > 0 && r + b.length > 1 && fa.uniqueSort(i) } return k && (w = y, j = v), t }; return c ? ha(f) : f } return h = fa.compile = function (a, b) { var c, d = [], e = [], f = A[a + " "]; if (!f) { b || (b = g(a)), c = b.length; while (c--) f = wa(b[c]), f[u] ? d.push(f) : e.push(f); f = A(a, xa(e, d)), f.selector = a } return f }, i = fa.select = function (a, b, e, f) { var i, j, k, l, m, n = "function" == typeof a && a, o = !f && g(a = n.selector || a); if (e = e || [], 1 === o.length) { if (j = o[0] = o[0].slice(0), j.length > 2 && "ID" === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) { if (b = (d.find.ID(k.matches[0].replace(ba, ca), b) || [])[0], !b) return e; n && (b = b.parentNode), a = a.slice(j.shift().value.length) } i = W.needsContext.test(a) ? 0 : j.length; while (i--) { if (k = j[i], d.relative[l = k.type]) break; if ((m = d.find[l]) && (f = m(k.matches[0].replace(ba, ca), _.test(j[0].type) && oa(b.parentNode) || b))) { if (j.splice(i, 1), a = f.length && qa(j), !a) return H.apply(e, f), e; break } } } return (n || h(a, o))(f, b, !p, e, !b || _.test(a) && oa(b.parentNode) || b), e }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c.sortDetached = ia(function (a) { return 1 & a.compareDocumentPosition(n.createElement("div")) }), ia(function (a) { return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href") }) || ja("type|href|height|width", function (a, b, c) { return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2) }), c.attributes && ia(function (a) { return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value") }) || ja("value", function (a, b, c) { return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue }), ia(function (a) { return null == a.getAttribute("disabled") }) || ja(K, function (a, b, c) { var d; return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null }), fa }(a); n.find = t, n.expr = t.selectors, n.expr[":"] = n.expr.pseudos, n.uniqueSort = n.unique = t.uniqueSort, n.text = t.getText, n.isXMLDoc = t.isXML, n.contains = t.contains; var u = function (a, b, c) { var d = [], e = void 0 !== c; while ((a = a[b]) && 9 !== a.nodeType) if (1 === a.nodeType) { if (e && n(a).is(c)) break; d.push(a) } return d }, v = function (a, b) { for (var c = []; a; a = a.nextSibling)1 === a.nodeType && a !== b && c.push(a); return c }, w = n.expr.match.needsContext, x = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, y = /^.[^:#\[\.,]*$/; function z(a, b, c) { if (n.isFunction(b)) return n.grep(a, function (a, d) { return !!b.call(a, d, a) !== c }); if (b.nodeType) return n.grep(a, function (a) { return a === b !== c }); if ("string" == typeof b) { if (y.test(b)) return n.filter(b, a, c); b = n.filter(b, a) } return n.grep(a, function (a) { return h.call(b, a) > -1 !== c }) } n.filter = function (a, b, c) { var d = b[0]; return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function (a) { return 1 === a.nodeType })) }, n.fn.extend({ find: function (a) { var b, c = this.length, d = [], e = this; if ("string" != typeof a) return this.pushStack(n(a).filter(function () { for (b = 0; c > b; b++)if (n.contains(e[b], this)) return !0 })); for (b = 0; c > b; b++)n.find(a, e[b], d); return d = this.pushStack(c > 1 ? n.unique(d) : d), d.selector = this.selector ? this.selector + " " + a : a, d }, filter: function (a) { return this.pushStack(z(this, a || [], !1)) }, not: function (a) { return this.pushStack(z(this, a || [], !0)) }, is: function (a) { return !!z(this, "string" == typeof a && w.test(a) ? n(a) : a || [], !1).length } }); var A, B = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, C = n.fn.init = function (a, b, c) { var e, f; if (!a) return this; if (c = c || A, "string" == typeof a) { if (e = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : B.exec(a), !e || !e[1] && b) return !b || b.jquery ? (b || c).find(a) : this.constructor(b).find(a); if (e[1]) { if (b = b instanceof n ? b[0] : b, n.merge(this, n.parseHTML(e[1], b && b.nodeType ? b.ownerDocument || b : d, !0)), x.test(e[1]) && n.isPlainObject(b)) for (e in b) n.isFunction(this[e]) ? this[e](b[e]) : this.attr(e, b[e]); return this } return f = d.getElementById(e[2]), f && f.parentNode && (this.length = 1, this[0] = f), this.context = d, this.selector = a, this } return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : n.isFunction(a) ? void 0 !== c.ready ? c.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), n.makeArray(a, this)) }; C.prototype = n.fn, A = n(d); var D = /^(?:parents|prev(?:Until|All))/, E = { children: !0, contents: !0, next: !0, prev: !0 }; n.fn.extend({ has: function (a) { var b = n(a, this), c = b.length; return this.filter(function () { for (var a = 0; c > a; a++)if (n.contains(this, b[a])) return !0 }) }, closest: function (a, b) { for (var c, d = 0, e = this.length, f = [], g = w.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++)for (c = this[d]; c && c !== b; c = c.parentNode)if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && n.find.matchesSelector(c, a))) { f.push(c); break } return this.pushStack(f.length > 1 ? n.uniqueSort(f) : f) }, index: function (a) { return a ? "string" == typeof a ? h.call(n(a), this[0]) : h.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (a, b) { return this.pushStack(n.uniqueSort(n.merge(this.get(), n(a, b)))) }, addBack: function (a) { return this.add(null == a ? this.prevObject : this.prevObject.filter(a)) } }); function F(a, b) { while ((a = a[b]) && 1 !== a.nodeType); return a } n.each({ parent: function (a) { var b = a.parentNode; return b && 11 !== b.nodeType ? b : null }, parents: function (a) { return u(a, "parentNode") }, parentsUntil: function (a, b, c) { return u(a, "parentNode", c) }, next: function (a) { return F(a, "nextSibling") }, prev: function (a) { return F(a, "previousSibling") }, nextAll: function (a) { return u(a, "nextSibling") }, prevAll: function (a) { return u(a, "previousSibling") }, nextUntil: function (a, b, c) { return u(a, "nextSibling", c) }, prevUntil: function (a, b, c) { return u(a, "previousSibling", c) }, siblings: function (a) { return v((a.parentNode || {}).firstChild, a) }, children: function (a) { return v(a.firstChild) }, contents: function (a) { return a.contentDocument || n.merge([], a.childNodes) } }, function (a, b) { n.fn[a] = function (c, d) { var e = n.map(this, b, c); return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = n.filter(d, e)), this.length > 1 && (E[a] || n.uniqueSort(e), D.test(a) && e.reverse()), this.pushStack(e) } }); var G = /\S+/g; function H(a) { var b = {}; return n.each(a.match(G) || [], function (a, c) { b[c] = !0 }), b } n.Callbacks = function (a) { a = "string" == typeof a ? H(a) : n.extend({}, a); var b, c, d, e, f = [], g = [], h = -1, i = function () { for (e = a.once, d = b = !0; g.length; h = -1) { c = g.shift(); while (++h < f.length) f[h].apply(c[0], c[1]) === !1 && a.stopOnFalse && (h = f.length, c = !1) } a.memory || (c = !1), b = !1, e && (f = c ? [] : "") }, j = { add: function () { return f && (c && !b && (h = f.length - 1, g.push(c)), function d(b) { n.each(b, function (b, c) { n.isFunction(c) ? a.unique && j.has(c) || f.push(c) : c && c.length && "string" !== n.type(c) && d(c) }) }(arguments), c && !b && i()), this }, remove: function () { return n.each(arguments, function (a, b) { var c; while ((c = n.inArray(b, f, c)) > -1) f.splice(c, 1), h >= c && h-- }), this }, has: function (a) { return a ? n.inArray(a, f) > -1 : f.length > 0 }, empty: function () { return f && (f = []), this }, disable: function () { return e = g = [], f = c = "", this }, disabled: function () { return !f }, lock: function () { return e = g = [], c || (f = c = ""), this }, locked: function () { return !!e }, fireWith: function (a, c) { return e || (c = c || [], c = [a, c.slice ? c.slice() : c], g.push(c), b || i()), this }, fire: function () { return j.fireWith(this, arguments), this }, fired: function () { return !!d } }; return j }, n.extend({ Deferred: function (a) { var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]], c = "pending", d = { state: function () { return c }, always: function () { return e.done(arguments).fail(arguments), this }, then: function () { var a = arguments; return n.Deferred(function (c) { n.each(b, function (b, f) { var g = n.isFunction(a[b]) && a[b]; e[f[1]](function () { var a = g && g.apply(this, arguments); a && n.isFunction(a.promise) ? a.promise().progress(c.notify).done(c.resolve).fail(c.reject) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments) }) }), a = null }).promise() }, promise: function (a) { return null != a ? n.extend(a, d) : d } }, e = {}; return d.pipe = d.then, n.each(b, function (a, f) { var g = f[2], h = f[3]; d[f[1]] = g.add, h && g.add(function () { c = h }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () { return e[f[0] + "With"](this === e ? d : this, arguments), this }, e[f[0] + "With"] = g.fireWith }), d.promise(e), a && a.call(e, e), e }, when: function (a) { var b = 0, c = e.call(arguments), d = c.length, f = 1 !== d || a && n.isFunction(a.promise) ? d : 0, g = 1 === f ? a : n.Deferred(), h = function (a, b, c) { return function (d) { b[a] = this, c[a] = arguments.length > 1 ? e.call(arguments) : d, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c) } }, i, j, k; if (d > 1) for (i = new Array(d), j = new Array(d), k = new Array(d); d > b; b++)c[b] && n.isFunction(c[b].promise) ? c[b].promise().progress(h(b, j, i)).done(h(b, k, c)).fail(g.reject) : --f; return f || g.resolveWith(k, c), g.promise() } }); var I; n.fn.ready = function (a) { return n.ready.promise().done(a), this }, n.extend({ isReady: !1, readyWait: 1, holdReady: function (a) { a ? n.readyWait++ : n.ready(!0) }, ready: function (a) { (a === !0 ? --n.readyWait : n.isReady) || (n.isReady = !0, a !== !0 && --n.readyWait > 0 || (I.resolveWith(d, [n]), n.fn.triggerHandler && (n(d).triggerHandler("ready"), n(d).off("ready")))) } }); function J() { d.removeEventListener("DOMContentLoaded", J), a.removeEventListener("load", J), n.ready() } n.ready.promise = function (b) { return I || (I = n.Deferred(), "complete" === d.readyState || "loading" !== d.readyState && !d.documentElement.doScroll ? a.setTimeout(n.ready) : (d.addEventListener("DOMContentLoaded", J), a.addEventListener("load", J))), I.promise(b) }, n.ready.promise(); var K = function (a, b, c, d, e, f, g) { var h = 0, i = a.length, j = null == c; if ("object" === n.type(c)) { e = !0; for (h in c) K(a, b, h, c[h], !0, f, g) } else if (void 0 !== d && (e = !0, n.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) { return j.call(n(a), c) })), b)) for (; i > h; h++)b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c))); return e ? a : j ? b.call(a) : i ? b(a[0], c) : f }, L = function (a) { return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType }; function M() { this.expando = n.expando + M.uid++ } M.uid = 1, M.prototype = { register: function (a, b) { var c = b || {}; return a.nodeType ? a[this.expando] = c : Object.defineProperty(a, this.expando, { value: c, writable: !0, configurable: !0 }), a[this.expando] }, cache: function (a) { if (!L(a)) return {}; var b = a[this.expando]; return b || (b = {}, L(a) && (a.nodeType ? a[this.expando] = b : Object.defineProperty(a, this.expando, { value: b, configurable: !0 }))), b }, set: function (a, b, c) { var d, e = this.cache(a); if ("string" == typeof b) e[b] = c; else for (d in b) e[d] = b[d]; return e }, get: function (a, b) { return void 0 === b ? this.cache(a) : a[this.expando] && a[this.expando][b] }, access: function (a, b, c) { var d; return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b), void 0 !== d ? d : this.get(a, n.camelCase(b))) : (this.set(a, b, c), void 0 !== c ? c : b) }, remove: function (a, b) { var c, d, e, f = a[this.expando]; if (void 0 !== f) { if (void 0 === b) this.register(a); else { n.isArray(b) ? d = b.concat(b.map(n.camelCase)) : (e = n.camelCase(b), b in f ? d = [b, e] : (d = e, d = d in f ? [d] : d.match(G) || [])), c = d.length; while (c--) delete f[d[c]] } (void 0 === b || n.isEmptyObject(f)) && (a.nodeType ? a[this.expando] = void 0 : delete a[this.expando]) } }, hasData: function (a) { var b = a[this.expando]; return void 0 !== b && !n.isEmptyObject(b) } }; var N = new M, O = new M, P = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, Q = /[A-Z]/g; function R(a, b, c) {
    var d; if (void 0 === c && 1 === a.nodeType) if (d = "data-" + b.replace(Q, "-$&").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
      try {
        c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : P.test(c) ? n.parseJSON(c) : c;
      } catch (e) { } O.set(a, b, c)
    } else c = void 0; return c
  } n.extend({ hasData: function (a) { return O.hasData(a) || N.hasData(a) }, data: function (a, b, c) { return O.access(a, b, c) }, removeData: function (a, b) { O.remove(a, b) }, _data: function (a, b, c) { return N.access(a, b, c) }, _removeData: function (a, b) { N.remove(a, b) } }), n.fn.extend({ data: function (a, b) { var c, d, e, f = this[0], g = f && f.attributes; if (void 0 === a) { if (this.length && (e = O.get(f), 1 === f.nodeType && !N.get(f, "hasDataAttrs"))) { c = g.length; while (c--) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)), R(f, d, e[d]))); N.set(f, "hasDataAttrs", !0) } return e } return "object" == typeof a ? this.each(function () { O.set(this, a) }) : K(this, function (b) { var c, d; if (f && void 0 === b) { if (c = O.get(f, a) || O.get(f, a.replace(Q, "-$&").toLowerCase()), void 0 !== c) return c; if (d = n.camelCase(a), c = O.get(f, d), void 0 !== c) return c; if (c = R(f, d, void 0), void 0 !== c) return c } else d = n.camelCase(a), this.each(function () { var c = O.get(this, d); O.set(this, d, b), a.indexOf("-") > -1 && void 0 !== c && O.set(this, a, b) }) }, null, b, arguments.length > 1, null, !0) }, removeData: function (a) { return this.each(function () { O.remove(this, a) }) } }), n.extend({ queue: function (a, b, c) { var d; return a ? (b = (b || "fx") + "queue", d = N.get(a, b), c && (!d || n.isArray(c) ? d = N.access(a, b, n.makeArray(c)) : d.push(c)), d || []) : void 0 }, dequeue: function (a, b) { b = b || "fx"; var c = n.queue(a, b), d = c.length, e = c.shift(), f = n._queueHooks(a, b), g = function () { n.dequeue(a, b) }; "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire() }, _queueHooks: function (a, b) { var c = b + "queueHooks"; return N.get(a, c) || N.access(a, c, { empty: n.Callbacks("once memory").add(function () { N.remove(a, [b + "queue", c]) }) }) } }), n.fn.extend({ queue: function (a, b) { var c = 2; return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function () { var c = n.queue(this, a, b); n._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a) }) }, dequeue: function (a) { return this.each(function () { n.dequeue(this, a) }) }, clearQueue: function (a) { return this.queue(a || "fx", []) }, promise: function (a, b) { var c, d = 1, e = n.Deferred(), f = this, g = this.length, h = function () { --d || e.resolveWith(f, [f]) }; "string" != typeof a && (b = a, a = void 0), a = a || "fx"; while (g--) c = N.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h)); return h(), e.promise(b) } }); var S = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, T = new RegExp("^(?:([+-])=|)(" + S + ")([a-z%]*)$", "i"), U = ["Top", "Right", "Bottom", "Left"], V = function (a, b) { return a = b || a, "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a) }; function W(a, b, c, d) { var e, f = 1, g = 20, h = d ? function () { return d.cur() } : function () { return n.css(a, b, "") }, i = h(), j = c && c[3] || (n.cssNumber[b] ? "" : "px"), k = (n.cssNumber[b] || "px" !== j && +i) && T.exec(n.css(a, b)); if (k && k[3] !== j) { j = j || k[3], c = c || [], k = +i || 1; do f = f || ".5", k /= f, n.style(a, b, k + j); while (f !== (f = h() / i) && 1 !== f && --g) } return c && (k = +k || +i || 0, e = c[1] ? k + (c[1] + 1) * c[2] : +c[2], d && (d.unit = j, d.start = k, d.end = e)), e } var X = /^(?:checkbox|radio)$/i, Y = /<([\w:-]+)/, Z = /^$|\/(?:java|ecma)script/i, $ = { option: [1, "<select multiple='multiple'>", "</select>"], thead: [1, "<table>", "</table>"], col: [2, "<table><colgroup>", "</colgroup></table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: [0, "", ""] }; $.optgroup = $.option, $.tbody = $.tfoot = $.colgroup = $.caption = $.thead, $.th = $.td; function _(a, b) { var c = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : []; return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], c) : c } function aa(a, b) { for (var c = 0, d = a.length; d > c; c++)N.set(a[c], "globalEval", !b || N.get(b[c], "globalEval")) } var ba = /<|&#?\w+;/; function ca(a, b, c, d, e) { for (var f, g, h, i, j, k, l = b.createDocumentFragment(), m = [], o = 0, p = a.length; p > o; o++)if (f = a[o], f || 0 === f) if ("object" === n.type(f)) n.merge(m, f.nodeType ? [f] : f); else if (ba.test(f)) { g = g || l.appendChild(b.createElement("div")), h = (Y.exec(f) || ["", ""])[1].toLowerCase(), i = $[h] || $._default, g.innerHTML = i[1] + n.htmlPrefilter(f) + i[2], k = i[0]; while (k--) g = g.lastChild; n.merge(m, g.childNodes), g = l.firstChild, g.textContent = "" } else m.push(b.createTextNode(f)); l.textContent = "", o = 0; while (f = m[o++]) if (d && n.inArray(f, d) > -1) e && e.push(f); else if (j = n.contains(f.ownerDocument, f), g = _(l.appendChild(f), "script"), j && aa(g), c) { k = 0; while (f = g[k++]) Z.test(f.type || "") && c.push(f) } return l } !function () { var a = d.createDocumentFragment(), b = a.appendChild(d.createElement("div")), c = d.createElement("input"); c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), b.appendChild(c), l.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", l.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue }(); var da = /^key/, ea = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, fa = /^([^.]*)(?:\.(.+)|)/; function ga() { return !0 } function ha() { return !1 } function ia() { try { return d.activeElement } catch (a) { } } function ja(a, b, c, d, e, f) { var g, h; if ("object" == typeof b) { "string" != typeof c && (d = d || c, c = void 0); for (h in b) ja(a, h, c, d, b[h], f); return a } if (null == d && null == e ? (e = c, d = c = void 0) : null == e && ("string" == typeof c ? (e = d, d = void 0) : (e = d, d = c, c = void 0)), e === !1) e = ha; else if (!e) return a; return 1 === f && (g = e, e = function (a) { return n().off(a), g.apply(this, arguments) }, e.guid = g.guid || (g.guid = n.guid++)), a.each(function () { n.event.add(this, b, e, d, c) }) } n.event = { global: {}, add: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, o, p, q, r = N.get(a); if (r) { c.handler && (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = n.guid++), (i = r.events) || (i = r.events = {}), (g = r.handle) || (g = r.handle = function (b) { return "undefined" != typeof n && n.event.triggered !== b.type ? n.event.dispatch.apply(a, arguments) : void 0 }), b = (b || "").match(G) || [""], j = b.length; while (j--) h = fa.exec(b[j]) || [], o = q = h[1], p = (h[2] || "").split(".").sort(), o && (l = n.event.special[o] || {}, o = (e ? l.delegateType : l.bindType) || o, l = n.event.special[o] || {}, k = n.extend({ type: o, origType: q, data: d, handler: c, guid: c.guid, selector: e, needsContext: e && n.expr.match.needsContext.test(e), namespace: p.join(".") }, f), (m = i[o]) || (m = i[o] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, p, g) !== !1 || a.addEventListener && a.addEventListener(o, g)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), n.event.global[o] = !0) } }, remove: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, o, p, q, r = N.hasData(a) && N.get(a); if (r && (i = r.events)) { b = (b || "").match(G) || [""], j = b.length; while (j--) if (h = fa.exec(b[j]) || [], o = q = h[1], p = (h[2] || "").split(".").sort(), o) { l = n.event.special[o] || {}, o = (d ? l.delegateType : l.bindType) || o, m = i[o] || [], h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; while (f--) k = m[f], !e && q !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k)); g && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || n.removeEvent(a, o, r.handle), delete i[o]) } else for (o in i) n.event.remove(a, o + b[j], c, d, !0); n.isEmptyObject(i) && N.remove(a, "handle events") } }, dispatch: function (a) { a = n.event.fix(a); var b, c, d, f, g, h = [], i = e.call(arguments), j = (N.get(this, "events") || {})[a.type] || [], k = n.event.special[a.type] || {}; if (i[0] = a, a.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, a) !== !1) { h = n.event.handlers.call(this, a, j), b = 0; while ((f = h[b++]) && !a.isPropagationStopped()) { a.currentTarget = f.elem, c = 0; while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped()) a.rnamespace && !a.rnamespace.test(g.namespace) || (a.handleObj = g, a.data = g.data, d = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), void 0 !== d && (a.result = d) === !1 && (a.preventDefault(), a.stopPropagation())) } return k.postDispatch && k.postDispatch.call(this, a), a.result } }, handlers: function (a, b) { var c, d, e, f, g = [], h = b.delegateCount, i = a.target; if (h && i.nodeType && ("click" !== a.type || isNaN(a.button) || a.button < 1)) for (; i !== this; i = i.parentNode || this)if (1 === i.nodeType && (i.disabled !== !0 || "click" !== a.type)) { for (d = [], c = 0; h > c; c++)f = b[c], e = f.selector + " ", void 0 === d[e] && (d[e] = f.needsContext ? n(e, this).index(i) > -1 : n.find(e, this, null, [i]).length), d[e] && d.push(f); d.length && g.push({ elem: i, handlers: d }) } return h < b.length && g.push({ elem: this, handlers: b.slice(h) }), g }, props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function (a, b) { return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a } }, mouseHooks: { props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "), filter: function (a, b) { var c, e, f, g = b.button; return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || d, e = c.documentElement, f = c.body, a.pageX = b.clientX + (e && e.scrollLeft || f && f.scrollLeft || 0) - (e && e.clientLeft || f && f.clientLeft || 0), a.pageY = b.clientY + (e && e.scrollTop || f && f.scrollTop || 0) - (e && e.clientTop || f && f.clientTop || 0)), a.which || void 0 === g || (a.which = 1 & g ? 1 : 2 & g ? 3 : 4 & g ? 2 : 0), a } }, fix: function (a) { if (a[n.expando]) return a; var b, c, e, f = a.type, g = a, h = this.fixHooks[f]; h || (this.fixHooks[f] = h = ea.test(f) ? this.mouseHooks : da.test(f) ? this.keyHooks : {}), e = h.props ? this.props.concat(h.props) : this.props, a = new n.Event(g), b = e.length; while (b--) c = e[b], a[c] = g[c]; return a.target || (a.target = d), 3 === a.target.nodeType && (a.target = a.target.parentNode), h.filter ? h.filter(a, g) : a }, special: { load: { noBubble: !0 }, focus: { trigger: function () { return this !== ia() && this.focus ? (this.focus(), !1) : void 0 }, delegateType: "focusin" }, blur: { trigger: function () { return this === ia() && this.blur ? (this.blur(), !1) : void 0 }, delegateType: "focusout" }, click: { trigger: function () { return "checkbox" === this.type && this.click && n.nodeName(this, "input") ? (this.click(), !1) : void 0 }, _default: function (a) { return n.nodeName(a.target, "a") } }, beforeunload: { postDispatch: function (a) { void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result) } } } }, n.removeEvent = function (a, b, c) { a.removeEventListener && a.removeEventListener(b, c) }, n.Event = function (a, b) { return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? ga : ha) : this.type = a, b && n.extend(this, b), this.timeStamp = a && a.timeStamp || n.now(), void (this[n.expando] = !0)) : new n.Event(a, b) }, n.Event.prototype = { constructor: n.Event, isDefaultPrevented: ha, isPropagationStopped: ha, isImmediatePropagationStopped: ha, isSimulated: !1, preventDefault: function () { var a = this.originalEvent; this.isDefaultPrevented = ga, a && !this.isSimulated && a.preventDefault() }, stopPropagation: function () { var a = this.originalEvent; this.isPropagationStopped = ga, a && !this.isSimulated && a.stopPropagation() }, stopImmediatePropagation: function () { var a = this.originalEvent; this.isImmediatePropagationStopped = ga, a && !this.isSimulated && a.stopImmediatePropagation(), this.stopPropagation() } }, n.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (a, b) { n.event.special[a] = { delegateType: b, bindType: b, handle: function (a) { var c, d = this, e = a.relatedTarget, f = a.handleObj; return e && (e === d || n.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c } } }), n.fn.extend({ on: function (a, b, c, d) { return ja(this, a, b, c, d) }, one: function (a, b, c, d) { return ja(this, a, b, c, d, 1) }, off: function (a, b, c) { var d, e; if (a && a.preventDefault && a.handleObj) return d = a.handleObj, n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this; if ("object" == typeof a) { for (e in a) this.off(e, b, a[e]); return this } return b !== !1 && "function" != typeof b || (c = b, b = void 0), c === !1 && (c = ha), this.each(function () { n.event.remove(this, a, c, b) }) } }); var ka = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi, la = /<script|<style|<link/i, ma = /checked\s*(?:[^=]|=\s*.checked.)/i, na = /^true\/(.*)/, oa = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; function pa(a, b) { return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a } function qa(a) { return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a } function ra(a) { var b = na.exec(a.type); return b ? a.type = b[1] : a.removeAttribute("type"), a } function sa(a, b) { var c, d, e, f, g, h, i, j; if (1 === b.nodeType) { if (N.hasData(a) && (f = N.access(a), g = N.set(b, f), j = f.events)) { delete g.handle, g.events = {}; for (e in j) for (c = 0, d = j[e].length; d > c; c++)n.event.add(b, e, j[e][c]) } O.hasData(a) && (h = O.access(a), i = n.extend({}, h), O.set(b, i)) } } function ta(a, b) { var c = b.nodeName.toLowerCase(); "input" === c && X.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue) } function ua(a, b, c, d) { b = f.apply([], b); var e, g, h, i, j, k, m = 0, o = a.length, p = o - 1, q = b[0], r = n.isFunction(q); if (r || o > 1 && "string" == typeof q && !l.checkClone && ma.test(q)) return a.each(function (e) { var f = a.eq(e); r && (b[0] = q.call(this, e, f.html())), ua(f, b, c, d) }); if (o && (e = ca(b, a[0].ownerDocument, !1, a, d), g = e.firstChild, 1 === e.childNodes.length && (e = g), g || d)) { for (h = n.map(_(e, "script"), qa), i = h.length; o > m; m++)j = e, m !== p && (j = n.clone(j, !0, !0), i && n.merge(h, _(j, "script"))), c.call(a[m], j, m); if (i) for (k = h[h.length - 1].ownerDocument, n.map(h, ra), m = 0; i > m; m++)j = h[m], Z.test(j.type || "") && !N.access(j, "globalEval") && n.contains(k, j) && (j.src ? n._evalUrl && n._evalUrl(j.src) : n.globalEval(j.textContent.replace(oa, ""))) } return a } function va(a, b, c) { for (var d, e = b ? n.filter(b, a) : a, f = 0; null != (d = e[f]); f++)c || 1 !== d.nodeType || n.cleanData(_(d)), d.parentNode && (c && n.contains(d.ownerDocument, d) && aa(_(d, "script")), d.parentNode.removeChild(d)); return a } n.extend({ htmlPrefilter: function (a) { return a.replace(ka, "<$1></$2>") }, clone: function (a, b, c) { var d, e, f, g, h = a.cloneNode(!0), i = n.contains(a.ownerDocument, a); if (!(l.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a))) for (g = _(h), f = _(a), d = 0, e = f.length; e > d; d++)ta(f[d], g[d]); if (b) if (c) for (f = f || _(a), g = g || _(h), d = 0, e = f.length; e > d; d++)sa(f[d], g[d]); else sa(a, h); return g = _(h, "script"), g.length > 0 && aa(g, !i && _(a, "script")), h }, cleanData: function (a) { for (var b, c, d, e = n.event.special, f = 0; void 0 !== (c = a[f]); f++)if (L(c)) { if (b = c[N.expando]) { if (b.events) for (d in b.events) e[d] ? n.event.remove(c, d) : n.removeEvent(c, d, b.handle); c[N.expando] = void 0 } c[O.expando] && (c[O.expando] = void 0) } } }), n.fn.extend({ domManip: ua, detach: function (a) { return va(this, a, !0) }, remove: function (a) { return va(this, a) }, text: function (a) { return K(this, function (a) { return void 0 === a ? n.text(this) : this.empty().each(function () { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a) }) }, null, a, arguments.length) }, append: function () { return ua(this, arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = pa(this, a); b.appendChild(a) } }) }, prepend: function () { return ua(this, arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = pa(this, a); b.insertBefore(a, b.firstChild) } }) }, before: function () { return ua(this, arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this) }) }, after: function () { return ua(this, arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this.nextSibling) }) }, empty: function () { for (var a, b = 0; null != (a = this[b]); b++)1 === a.nodeType && (n.cleanData(_(a, !1)), a.textContent = ""); return this }, clone: function (a, b) { return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function () { return n.clone(this, a, b) }) }, html: function (a) { return K(this, function (a) { var b = this[0] || {}, c = 0, d = this.length; if (void 0 === a && 1 === b.nodeType) return b.innerHTML; if ("string" == typeof a && !la.test(a) && !$[(Y.exec(a) || ["", ""])[1].toLowerCase()]) { a = n.htmlPrefilter(a); try { for (; d > c; c++)b = this[c] || {}, 1 === b.nodeType && (n.cleanData(_(b, !1)), b.innerHTML = a); b = 0 } catch (e) { } } b && this.empty().append(a) }, null, a, arguments.length) }, replaceWith: function () { var a = []; return ua(this, arguments, function (b) { var c = this.parentNode; n.inArray(this, a) < 0 && (n.cleanData(_(this)), c && c.replaceChild(b, this)) }, a) } }), n.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (a, b) { n.fn[a] = function (a) { for (var c, d = [], e = n(a), f = e.length - 1, h = 0; f >= h; h++)c = h === f ? this : this.clone(!0), n(e[h])[b](c), g.apply(d, c.get()); return this.pushStack(d) } }); var wa, xa = { HTML: "block", BODY: "block" }; function ya(a, b) { var c = n(b.createElement(a)).appendTo(b.body), d = n.css(c[0], "display"); return c.detach(), d } function za(a) { var b = d, c = xa[a]; return c || (c = ya(a, b), "none" !== c && c || (wa = (wa || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = wa[0].contentDocument, b.write(), b.close(), c = ya(a, b), wa.detach()), xa[a] = c), c } var Aa = /^margin/, Ba = new RegExp("^(" + S + ")(?!px)[a-z%]+$", "i"), Ca = function (b) { var c = b.ownerDocument.defaultView; return c && c.opener || (c = a), c.getComputedStyle(b) }, Da = function (a, b, c, d) { var e, f, g = {}; for (f in b) g[f] = a.style[f], a.style[f] = b[f]; e = c.apply(a, d || []); for (f in b) a.style[f] = g[f]; return e }, Ea = d.documentElement; !function () { var b, c, e, f, g = d.createElement("div"), h = d.createElement("div"); if (h.style) { h.style.backgroundClip = "content-box", h.cloneNode(!0).style.backgroundClip = "", l.clearCloneStyle = "content-box" === h.style.backgroundClip, g.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", g.appendChild(h); function i() { h.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", h.innerHTML = "", Ea.appendChild(g); var d = a.getComputedStyle(h); b = "1%" !== d.top, f = "2px" === d.marginLeft, c = "4px" === d.width, h.style.marginRight = "50%", e = "4px" === d.marginRight, Ea.removeChild(g) } n.extend(l, { pixelPosition: function () { return i(), b }, boxSizingReliable: function () { return null == c && i(), c }, pixelMarginRight: function () { return null == c && i(), e }, reliableMarginLeft: function () { return null == c && i(), f }, reliableMarginRight: function () { var b, c = h.appendChild(d.createElement("div")); return c.style.cssText = h.style.cssText = "-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", c.style.marginRight = c.style.width = "0", h.style.width = "1px", Ea.appendChild(g), b = !parseFloat(a.getComputedStyle(c).marginRight), Ea.removeChild(g), h.removeChild(c), b } }) } }(); function Fa(a, b, c) { var d, e, f, g, h = a.style; return c = c || Ca(a), g = c ? c.getPropertyValue(b) || c[b] : void 0, "" !== g && void 0 !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)), c && !l.pixelMarginRight() && Ba.test(g) && Aa.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f), void 0 !== g ? g + "" : g } function Ga(a, b) { return { get: function () { return a() ? void delete this.get : (this.get = b).apply(this, arguments) } } } var Ha = /^(none|table(?!-c[ea]).+)/, Ia = { position: "absolute", visibility: "hidden", display: "block" }, Ja = { letterSpacing: "0", fontWeight: "400" }, Ka = ["Webkit", "O", "Moz", "ms"], La = d.createElement("div").style; function Ma(a) { if (a in La) return a; var b = a[0].toUpperCase() + a.slice(1), c = Ka.length; while (c--) if (a = Ka[c] + b, a in La) return a } function Na(a, b, c) { var d = T.exec(b); return d ? Math.max(0, d[2] - (c || 0)) + (d[3] || "px") : b } function Oa(a, b, c, d, e) { for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)"margin" === c && (g += n.css(a, c + U[f], !0, e)), d ? ("content" === c && (g -= n.css(a, "padding" + U[f], !0, e)), "margin" !== c && (g -= n.css(a, "border" + U[f] + "Width", !0, e))) : (g += n.css(a, "padding" + U[f], !0, e), "padding" !== c && (g += n.css(a, "border" + U[f] + "Width", !0, e))); return g } function Pa(a, b, c) { var d = !0, e = "width" === b ? a.offsetWidth : a.offsetHeight, f = Ca(a), g = "border-box" === n.css(a, "boxSizing", !1, f); if (0 >= e || null == e) { if (e = Fa(a, b, f), (0 > e || null == e) && (e = a.style[b]), Ba.test(e)) return e; d = g && (l.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0 } return e + Oa(a, b, c || (g ? "border" : "content"), d, f) + "px" } function Qa(a, b) { for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)d = a[g], d.style && (f[g] = N.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && V(d) && (f[g] = N.access(d, "olddisplay", za(d.nodeName)))) : (e = V(d), "none" === c && e || N.set(d, "olddisplay", e ? c : n.css(d, "display")))); for (g = 0; h > g; g++)d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none")); return a } n.extend({ cssHooks: { opacity: { get: function (a, b) { if (b) { var c = Fa(a, "opacity"); return "" === c ? "1" : c } } } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { "float": "cssFloat" }, style: function (a, b, c, d) { if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) { var e, f, g, h = n.camelCase(b), i = a.style; return b = n.cssProps[h] || (n.cssProps[h] = Ma(h) || h), g = n.cssHooks[b] || n.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c, "string" === f && (e = T.exec(c)) && e[1] && (c = W(a, b, e), f = "number"), null != c && c === c && ("number" === f && (c += e && e[3] || (n.cssNumber[h] ? "" : "px")), l.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c)), void 0) } }, css: function (a, b, c, d) { var e, f, g, h = n.camelCase(b); return b = n.cssProps[h] || (n.cssProps[h] = Ma(h) || h), g = n.cssHooks[b] || n.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = Fa(a, b, d)), "normal" === e && b in Ja && (e = Ja[b]), "" === c || c ? (f = parseFloat(e), c === !0 || isFinite(f) ? f || 0 : e) : e } }), n.each(["height", "width"], function (a, b) { n.cssHooks[b] = { get: function (a, c, d) { return c ? Ha.test(n.css(a, "display")) && 0 === a.offsetWidth ? Da(a, Ia, function () { return Pa(a, b, d) }) : Pa(a, b, d) : void 0 }, set: function (a, c, d) { var e, f = d && Ca(a), g = d && Oa(a, b, d, "border-box" === n.css(a, "boxSizing", !1, f), f); return g && (e = T.exec(c)) && "px" !== (e[3] || "px") && (a.style[b] = c, c = n.css(a, b)), Na(a, c, g) } } }), n.cssHooks.marginLeft = Ga(l.reliableMarginLeft, function (a, b) { return b ? (parseFloat(Fa(a, "marginLeft")) || a.getBoundingClientRect().left - Da(a, { marginLeft: 0 }, function () { return a.getBoundingClientRect().left })) + "px" : void 0 }), n.cssHooks.marginRight = Ga(l.reliableMarginRight, function (a, b) { return b ? Da(a, { display: "inline-block" }, Fa, [a, "marginRight"]) : void 0 }), n.each({ margin: "", padding: "", border: "Width" }, function (a, b) { n.cssHooks[a + b] = { expand: function (c) { for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)e[a + U[d] + b] = f[d] || f[d - 2] || f[0]; return e } }, Aa.test(a) || (n.cssHooks[a + b].set = Na) }), n.fn.extend({ css: function (a, b) { return K(this, function (a, b, c) { var d, e, f = {}, g = 0; if (n.isArray(b)) { for (d = Ca(a), e = b.length; e > g; g++)f[b[g]] = n.css(a, b[g], !1, d); return f } return void 0 !== c ? n.style(a, b, c) : n.css(a, b) }, a, b, arguments.length > 1) }, show: function () { return Qa(this, !0) }, hide: function () { return Qa(this) }, toggle: function (a) { return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () { V(this) ? n(this).show() : n(this).hide() }) } }); function Ra(a, b, c, d, e) { return new Ra.prototype.init(a, b, c, d, e) } n.Tween = Ra, Ra.prototype = { constructor: Ra, init: function (a, b, c, d, e, f) { this.elem = a, this.prop = c, this.easing = e || n.easing._default, this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (n.cssNumber[c] ? "" : "px") }, cur: function () { var a = Ra.propHooks[this.prop]; return a && a.get ? a.get(this) : Ra.propHooks._default.get(this) }, run: function (a) { var b, c = Ra.propHooks[this.prop]; return this.options.duration ? this.pos = b = n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : Ra.propHooks._default.set(this), this } }, Ra.prototype.init.prototype = Ra.prototype, Ra.propHooks = { _default: { get: function (a) { var b; return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (b = n.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) }, set: function (a) { n.fx.step[a.prop] ? n.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[n.cssProps[a.prop]] && !n.cssHooks[a.prop] ? a.elem[a.prop] = a.now : n.style(a.elem, a.prop, a.now + a.unit) } } }, Ra.propHooks.scrollTop = Ra.propHooks.scrollLeft = { set: function (a) { a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now) } }, n.easing = { linear: function (a) { return a }, swing: function (a) { return .5 - Math.cos(a * Math.PI) / 2 }, _default: "swing" }, n.fx = Ra.prototype.init, n.fx.step = {}; var Sa, Ta, Ua = /^(?:toggle|show|hide)$/, Va = /queueHooks$/; function Wa() { return a.setTimeout(function () { Sa = void 0 }), Sa = n.now() } function Xa(a, b) { var c, d = 0, e = { height: a }; for (b = b ? 1 : 0; 4 > d; d += 2 - b)c = U[d], e["margin" + c] = e["padding" + c] = a; return b && (e.opacity = e.width = a), e } function Ya(a, b, c) { for (var d, e = (_a.tweeners[b] || []).concat(_a.tweeners["*"]), f = 0, g = e.length; g > f; f++)if (d = e[f].call(c, b, a)) return d } function Za(a, b, c) { var d, e, f, g, h, i, j, k, l = this, m = {}, o = a.style, p = a.nodeType && V(a), q = N.get(a, "fxshow"); c.queue || (h = n._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () { h.unqueued || i() }), h.unqueued++, l.always(function () { l.always(function () { h.unqueued--, n.queue(a, "fx").length || h.empty.fire() }) })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = n.css(a, "display"), k = "none" === j ? N.get(a, "olddisplay") || za(a.nodeName) : j, "inline" === k && "none" === n.css(a, "float") && (o.display = "inline-block")), c.overflow && (o.overflow = "hidden", l.always(function () { o.overflow = c.overflow[0], o.overflowX = c.overflow[1], o.overflowY = c.overflow[2] })); for (d in b) if (e = b[d], Ua.exec(e)) { if (delete b[d], f = f || "toggle" === e, e === (p ? "hide" : "show")) { if ("show" !== e || !q || void 0 === q[d]) continue; p = !0 } m[d] = q && q[d] || n.style(a, d) } else j = void 0; if (n.isEmptyObject(m)) "inline" === ("none" === j ? za(a.nodeName) : j) && (o.display = j); else { q ? "hidden" in q && (p = q.hidden) : q = N.access(a, "fxshow", {}), f && (q.hidden = !p), p ? n(a).show() : l.done(function () { n(a).hide() }), l.done(function () { var b; N.remove(a, "fxshow"); for (b in m) n.style(a, b, m[b]) }); for (d in m) g = Ya(p ? q[d] : 0, d, l), d in q || (q[d] = g.start, p && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0)) } } function $a(a, b) { var c, d, e, f, g; for (c in a) if (d = n.camelCase(c), e = b[d], f = a[c], n.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = n.cssHooks[d], g && "expand" in g) { f = g.expand(f), delete a[d]; for (c in f) c in a || (a[c] = f[c], b[c] = e) } else b[d] = e } function _a(a, b, c) { var d, e, f = 0, g = _a.prefilters.length, h = n.Deferred().always(function () { delete i.elem }), i = function () { if (e) return !1; for (var b = Sa || Wa(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)j.tweens[g].run(f); return h.notifyWith(a, [j, f, c]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1) }, j = h.promise({ elem: a, props: n.extend({}, b), opts: n.extend(!0, { specialEasing: {}, easing: n.easing._default }, c), originalProperties: b, originalOptions: c, startTime: Sa || Wa(), duration: c.duration, tweens: [], createTween: function (b, c) { var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing); return j.tweens.push(d), d }, stop: function (b) { var c = 0, d = b ? j.tweens.length : 0; if (e) return this; for (e = !0; d > c; c++)j.tweens[c].run(1); return b ? (h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]), this } }), k = j.props; for ($a(k, j.opts.specialEasing); g > f; f++)if (d = _a.prefilters[f].call(j, a, k, j.opts)) return n.isFunction(d.stop) && (n._queueHooks(j.elem, j.opts.queue).stop = n.proxy(d.stop, d)), d; return n.map(k, Ya, j), n.isFunction(j.opts.start) && j.opts.start.call(a, j), n.fx.timer(n.extend(i, { elem: a, anim: j, queue: j.opts.queue })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always) } n.Animation = n.extend(_a, { tweeners: { "*": [function (a, b) { var c = this.createTween(a, b); return W(c.elem, a, T.exec(b), c), c }] }, tweener: function (a, b) { n.isFunction(a) ? (b = a, a = ["*"]) : a = a.match(G); for (var c, d = 0, e = a.length; e > d; d++)c = a[d], _a.tweeners[c] = _a.tweeners[c] || [], _a.tweeners[c].unshift(b) }, prefilters: [Za], prefilter: function (a, b) { b ? _a.prefilters.unshift(a) : _a.prefilters.push(a) } }), n.speed = function (a, b, c) { var d = a && "object" == typeof a ? n.extend({}, a) : { complete: c || !c && b || n.isFunction(a) && a, duration: a, easing: c && b || b && !n.isFunction(b) && b }; return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default, null != d.queue && d.queue !== !0 || (d.queue = "fx"), d.old = d.complete, d.complete = function () { n.isFunction(d.old) && d.old.call(this), d.queue && n.dequeue(this, d.queue) }, d }, n.fn.extend({ fadeTo: function (a, b, c, d) { return this.filter(V).css("opacity", 0).show().end().animate({ opacity: b }, a, c, d) }, animate: function (a, b, c, d) { var e = n.isEmptyObject(a), f = n.speed(b, c, d), g = function () { var b = _a(this, n.extend({}, a), f); (e || N.get(this, "finish")) && b.stop(!0) }; return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g) }, stop: function (a, b, c) { var d = function (a) { var b = a.stop; delete a.stop, b(c) }; return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () { var b = !0, e = null != a && a + "queueHooks", f = n.timers, g = N.get(this); if (e) g[e] && g[e].stop && d(g[e]); else for (e in g) g[e] && g[e].stop && Va.test(e) && d(g[e]); for (e = f.length; e--;)f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1)); !b && c || n.dequeue(this, a) }) }, finish: function (a) { return a !== !1 && (a = a || "fx"), this.each(function () { var b, c = N.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = n.timers, g = d ? d.length : 0; for (c.finish = !0, n.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;)f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1)); for (b = 0; g > b; b++)d[b] && d[b].finish && d[b].finish.call(this); delete c.finish }) } }), n.each(["toggle", "show", "hide"], function (a, b) { var c = n.fn[b]; n.fn[b] = function (a, d, e) { return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(Xa(b, !0), a, d, e) } }), n.each({ slideDown: Xa("show"), slideUp: Xa("hide"), slideToggle: Xa("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (a, b) { n.fn[a] = function (a, c, d) { return this.animate(b, a, c, d) } }), n.timers = [], n.fx.tick = function () { var a, b = 0, c = n.timers; for (Sa = n.now(); b < c.length; b++)a = c[b], a() || c[b] !== a || c.splice(b--, 1); c.length || n.fx.stop(), Sa = void 0 }, n.fx.timer = function (a) { n.timers.push(a), a() ? n.fx.start() : n.timers.pop() }, n.fx.interval = 13, n.fx.start = function () { Ta || (Ta = a.setInterval(n.fx.tick, n.fx.interval)) }, n.fx.stop = function () { a.clearInterval(Ta), Ta = null }, n.fx.speeds = { slow: 600, fast: 200, _default: 400 }, n.fn.delay = function (b, c) { return b = n.fx ? n.fx.speeds[b] || b : b, c = c || "fx", this.queue(c, function (c, d) { var e = a.setTimeout(c, b); d.stop = function () { a.clearTimeout(e) } }) }, function () { var a = d.createElement("input"), b = d.createElement("select"), c = b.appendChild(d.createElement("option")); a.type = "checkbox", l.checkOn = "" !== a.value, l.optSelected = c.selected, b.disabled = !0, l.optDisabled = !c.disabled, a = d.createElement("input"), a.value = "t", a.type = "radio", l.radioValue = "t" === a.value }(); var ab, bb = n.expr.attrHandle; n.fn.extend({ attr: function (a, b) { return K(this, n.attr, a, b, arguments.length > 1) }, removeAttr: function (a) { return this.each(function () { n.removeAttr(this, a) }) } }), n.extend({ attr: function (a, b, c) { var d, e, f = a.nodeType; if (3 !== f && 8 !== f && 2 !== f) return "undefined" == typeof a.getAttribute ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(), e = n.attrHooks[b] || (n.expr.match.bool.test(b) ? ab : void 0)), void 0 !== c ? null === c ? void n.removeAttr(a, b) : e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + ""), c) : e && "get" in e && null !== (d = e.get(a, b)) ? d : (d = n.find.attr(a, b), null == d ? void 0 : d)) }, attrHooks: { type: { set: function (a, b) { if (!l.radioValue && "radio" === b && n.nodeName(a, "input")) { var c = a.value; return a.setAttribute("type", b), c && (a.value = c), b } } } }, removeAttr: function (a, b) { var c, d, e = 0, f = b && b.match(G); if (f && 1 === a.nodeType) while (c = f[e++]) d = n.propFix[c] || c, n.expr.match.bool.test(c) && (a[d] = !1), a.removeAttribute(c) } }), ab = { set: function (a, b, c) { return b === !1 ? n.removeAttr(a, c) : a.setAttribute(c, c), c } }, n.each(n.expr.match.bool.source.match(/\w+/g), function (a, b) { var c = bb[b] || n.find.attr; bb[b] = function (a, b, d) { var e, f; return d || (f = bb[b], bb[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, bb[b] = f), e } }); var cb = /^(?:input|select|textarea|button)$/i, db = /^(?:a|area)$/i; n.fn.extend({ prop: function (a, b) { return K(this, n.prop, a, b, arguments.length > 1) }, removeProp: function (a) { return this.each(function () { delete this[n.propFix[a] || a] }) } }), n.extend({
    prop: function (a, b, c) {
      var d, e, f = a.nodeType; if (3 !== f && 8 !== f && 2 !== f) return 1 === f && n.isXMLDoc(a) || (b = n.propFix[b] || b, e = n.propHooks[b]),
        void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]
    }, propHooks: { tabIndex: { get: function (a) { var b = n.find.attr(a, "tabindex"); return b ? parseInt(b, 10) : cb.test(a.nodeName) || db.test(a.nodeName) && a.href ? 0 : -1 } } }, propFix: { "for": "htmlFor", "class": "className" }
  }), l.optSelected || (n.propHooks.selected = { get: function (a) { var b = a.parentNode; return b && b.parentNode && b.parentNode.selectedIndex, null }, set: function (a) { var b = a.parentNode; b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex) } }), n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { n.propFix[this.toLowerCase()] = this }); var eb = /[\t\r\n\f]/g; function fb(a) { return a.getAttribute && a.getAttribute("class") || "" } n.fn.extend({ addClass: function (a) { var b, c, d, e, f, g, h, i = 0; if (n.isFunction(a)) return this.each(function (b) { n(this).addClass(a.call(this, b, fb(this))) }); if ("string" == typeof a && a) { b = a.match(G) || []; while (c = this[i++]) if (e = fb(c), d = 1 === c.nodeType && (" " + e + " ").replace(eb, " ")) { g = 0; while (f = b[g++]) d.indexOf(" " + f + " ") < 0 && (d += f + " "); h = n.trim(d), e !== h && c.setAttribute("class", h) } } return this }, removeClass: function (a) { var b, c, d, e, f, g, h, i = 0; if (n.isFunction(a)) return this.each(function (b) { n(this).removeClass(a.call(this, b, fb(this))) }); if (!arguments.length) return this.attr("class", ""); if ("string" == typeof a && a) { b = a.match(G) || []; while (c = this[i++]) if (e = fb(c), d = 1 === c.nodeType && (" " + e + " ").replace(eb, " ")) { g = 0; while (f = b[g++]) while (d.indexOf(" " + f + " ") > -1) d = d.replace(" " + f + " ", " "); h = n.trim(d), e !== h && c.setAttribute("class", h) } } return this }, toggleClass: function (a, b) { var c = typeof a; return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : n.isFunction(a) ? this.each(function (c) { n(this).toggleClass(a.call(this, c, fb(this), b), b) }) : this.each(function () { var b, d, e, f; if ("string" === c) { d = 0, e = n(this), f = a.match(G) || []; while (b = f[d++]) e.hasClass(b) ? e.removeClass(b) : e.addClass(b) } else void 0 !== a && "boolean" !== c || (b = fb(this), b && N.set(this, "__className__", b), this.setAttribute && this.setAttribute("class", b || a === !1 ? "" : N.get(this, "__className__") || "")) }) }, hasClass: function (a) { var b, c, d = 0; b = " " + a + " "; while (c = this[d++]) if (1 === c.nodeType && (" " + fb(c) + " ").replace(eb, " ").indexOf(b) > -1) return !0; return !1 } }); var gb = /\r/g, hb = /[\x20\t\r\n\f]+/g; n.fn.extend({ val: function (a) { var b, c, d, e = this[0]; { if (arguments.length) return d = n.isFunction(a), this.each(function (c) { var e; 1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function (a) { return null == a ? "" : a + "" })), b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e)) }); if (e) return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(gb, "") : null == c ? "" : c) } } }), n.extend({ valHooks: { option: { get: function (a) { var b = n.find.attr(a, "value"); return null != b ? b : n.trim(n.text(a)).replace(hb, " ") } }, select: { get: function (a) { for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)if (c = d[i], (c.selected || i === e) && (l.optDisabled ? !c.disabled : null === c.getAttribute("disabled")) && (!c.parentNode.disabled || !n.nodeName(c.parentNode, "optgroup"))) { if (b = n(c).val(), f) return b; g.push(b) } return g }, set: function (a, b) { var c, d, e = a.options, f = n.makeArray(b), g = e.length; while (g--) d = e[g], (d.selected = n.inArray(n.valHooks.option.get(d), f) > -1) && (c = !0); return c || (a.selectedIndex = -1), f } } } }), n.each(["radio", "checkbox"], function () { n.valHooks[this] = { set: function (a, b) { return n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) > -1 : void 0 } }, l.checkOn || (n.valHooks[this].get = function (a) { return null === a.getAttribute("value") ? "on" : a.value }) }); var ib = /^(?:focusinfocus|focusoutblur)$/; n.extend(n.event, { trigger: function (b, c, e, f) { var g, h, i, j, l, m, o, p = [e || d], q = k.call(b, "type") ? b.type : b, r = k.call(b, "namespace") ? b.namespace.split(".") : []; if (h = i = e = e || d, 3 !== e.nodeType && 8 !== e.nodeType && !ib.test(q + n.event.triggered) && (q.indexOf(".") > -1 && (r = q.split("."), q = r.shift(), r.sort()), l = q.indexOf(":") < 0 && "on" + q, b = b[n.expando] ? b : new n.Event(q, "object" == typeof b && b), b.isTrigger = f ? 2 : 3, b.namespace = r.join("."), b.rnamespace = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = e), c = null == c ? [b] : n.makeArray(c, [b]), o = n.event.special[q] || {}, f || !o.trigger || o.trigger.apply(e, c) !== !1)) { if (!f && !o.noBubble && !n.isWindow(e)) { for (j = o.delegateType || q, ib.test(j + q) || (h = h.parentNode); h; h = h.parentNode)p.push(h), i = h; i === (e.ownerDocument || d) && p.push(i.defaultView || i.parentWindow || a) } g = 0; while ((h = p[g++]) && !b.isPropagationStopped()) b.type = g > 1 ? j : o.bindType || q, m = (N.get(h, "events") || {})[b.type] && N.get(h, "handle"), m && m.apply(h, c), m = l && h[l], m && m.apply && L(h) && (b.result = m.apply(h, c), b.result === !1 && b.preventDefault()); return b.type = q, f || b.isDefaultPrevented() || o._default && o._default.apply(p.pop(), c) !== !1 || !L(e) || l && n.isFunction(e[q]) && !n.isWindow(e) && (i = e[l], i && (e[l] = null), n.event.triggered = q, e[q](), n.event.triggered = void 0, i && (e[l] = i)), b.result } }, simulate: function (a, b, c) { var d = n.extend(new n.Event, c, { type: a, isSimulated: !0 }); n.event.trigger(d, null, b) } }), n.fn.extend({ trigger: function (a, b) { return this.each(function () { n.event.trigger(a, b, this) }) }, triggerHandler: function (a, b) { var c = this[0]; return c ? n.event.trigger(a, b, c, !0) : void 0 } }), n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) { n.fn[b] = function (a, c) { return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b) } }), n.fn.extend({ hover: function (a, b) { return this.mouseenter(a).mouseleave(b || a) } }), l.focusin = "onfocusin" in a, l.focusin || n.each({ focus: "focusin", blur: "focusout" }, function (a, b) { var c = function (a) { n.event.simulate(b, a.target, n.event.fix(a)) }; n.event.special[b] = { setup: function () { var d = this.ownerDocument || this, e = N.access(d, b); e || d.addEventListener(a, c, !0), N.access(d, b, (e || 0) + 1) }, teardown: function () { var d = this.ownerDocument || this, e = N.access(d, b) - 1; e ? N.access(d, b, e) : (d.removeEventListener(a, c, !0), N.remove(d, b)) } } }); var jb = a.location, kb = n.now(), lb = /\?/; n.parseJSON = function (a) { return JSON.parse(a + "") }, n.parseXML = function (b) { var c; if (!b || "string" != typeof b) return null; try { c = (new a.DOMParser).parseFromString(b, "text/xml") } catch (d) { c = void 0 } return c && !c.getElementsByTagName("parsererror").length || n.error("Invalid XML: " + b), c }; var mb = /#.*$/, nb = /([?&])_=[^&]*/, ob = /^(.*?):[ \t]*([^\r\n]*)$/gm, pb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, qb = /^(?:GET|HEAD)$/, rb = /^\/\//, sb = {}, tb = {}, ub = "*/".concat("*"), vb = d.createElement("a"); vb.href = jb.href; function wb(a) { return function (b, c) { "string" != typeof b && (c = b, b = "*"); var d, e = 0, f = b.toLowerCase().match(G) || []; if (n.isFunction(c)) while (d = f[e++]) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c) } } function xb(a, b, c, d) { var e = {}, f = a === tb; function g(h) { var i; return e[h] = !0, n.each(a[h] || [], function (a, h) { var j = h(b, c, d); return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1) }), i } return g(b.dataTypes[0]) || !e["*"] && g("*") } function yb(a, b) { var c, d, e = n.ajaxSettings.flatOptions || {}; for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]); return d && n.extend(!0, a, d), a } function zb(a, b, c) { var d, e, f, g, h = a.contents, i = a.dataTypes; while ("*" === i[0]) i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type")); if (d) for (e in h) if (h[e] && h[e].test(d)) { i.unshift(e); break } if (i[0] in c) f = i[0]; else { for (e in c) { if (!i[0] || a.converters[e + " " + i[0]]) { f = e; break } g || (g = e) } f = f || g } return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0 } function Ab(a, b, c, d) { var e, f, g, h, i, j = {}, k = a.dataTypes.slice(); if (k[1]) for (g in a.converters) j[g.toLowerCase()] = a.converters[g]; f = k.shift(); while (f) if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift()) if ("*" === f) f = i; else if ("*" !== i && i !== f) { if (g = j[i + " " + f] || j["* " + f], !g) for (e in j) if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) { g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1])); break } if (g !== !0) if (g && a["throws"]) b = g(b); else try { b = g(b) } catch (l) { return { state: "parsererror", error: g ? l : "No conversion from " + i + " to " + f } } } return { state: "success", data: b } } n.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: jb.href, type: "GET", isLocal: pb.test(jb.protocol), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": ub, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": n.parseJSON, "text xml": n.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (a, b) { return b ? yb(yb(a, n.ajaxSettings), b) : yb(n.ajaxSettings, a) }, ajaxPrefilter: wb(sb), ajaxTransport: wb(tb), ajax: function (b, c) { "object" == typeof b && (c = b, b = void 0), c = c || {}; var e, f, g, h, i, j, k, l, m = n.ajaxSetup({}, c), o = m.context || m, p = m.context && (o.nodeType || o.jquery) ? n(o) : n.event, q = n.Deferred(), r = n.Callbacks("once memory"), s = m.statusCode || {}, t = {}, u = {}, v = 0, w = "canceled", x = { readyState: 0, getResponseHeader: function (a) { var b; if (2 === v) { if (!h) { h = {}; while (b = ob.exec(g)) h[b[1].toLowerCase()] = b[2] } b = h[a.toLowerCase()] } return null == b ? null : b }, getAllResponseHeaders: function () { return 2 === v ? g : null }, setRequestHeader: function (a, b) { var c = a.toLowerCase(); return v || (a = u[c] = u[c] || a, t[a] = b), this }, overrideMimeType: function (a) { return v || (m.mimeType = a), this }, statusCode: function (a) { var b; if (a) if (2 > v) for (b in a) s[b] = [s[b], a[b]]; else x.always(a[x.status]); return this }, abort: function (a) { var b = a || w; return e && e.abort(b), z(0, b), this } }; if (q.promise(x).complete = r.add, x.success = x.done, x.error = x.fail, m.url = ((b || m.url || jb.href) + "").replace(mb, "").replace(rb, jb.protocol + "//"), m.type = c.method || c.type || m.method || m.type, m.dataTypes = n.trim(m.dataType || "*").toLowerCase().match(G) || [""], null == m.crossDomain) { j = d.createElement("a"); try { j.href = m.url, j.href = j.href, m.crossDomain = vb.protocol + "//" + vb.host != j.protocol + "//" + j.host } catch (y) { m.crossDomain = !0 } } if (m.data && m.processData && "string" != typeof m.data && (m.data = n.param(m.data, m.traditional)), xb(sb, m, c, x), 2 === v) return x; k = n.event && m.global, k && 0 === n.active++ && n.event.trigger("ajaxStart"), m.type = m.type.toUpperCase(), m.hasContent = !qb.test(m.type), f = m.url, m.hasContent || (m.data && (f = m.url += (lb.test(f) ? "&" : "?") + m.data, delete m.data), m.cache === !1 && (m.url = nb.test(f) ? f.replace(nb, "$1_=" + kb++) : f + (lb.test(f) ? "&" : "?") + "_=" + kb++)), m.ifModified && (n.lastModified[f] && x.setRequestHeader("If-Modified-Since", n.lastModified[f]), n.etag[f] && x.setRequestHeader("If-None-Match", n.etag[f])), (m.data && m.hasContent && m.contentType !== !1 || c.contentType) && x.setRequestHeader("Content-Type", m.contentType), x.setRequestHeader("Accept", m.dataTypes[0] && m.accepts[m.dataTypes[0]] ? m.accepts[m.dataTypes[0]] + ("*" !== m.dataTypes[0] ? ", " + ub + "; q=0.01" : "") : m.accepts["*"]); for (l in m.headers) x.setRequestHeader(l, m.headers[l]); if (m.beforeSend && (m.beforeSend.call(o, x, m) === !1 || 2 === v)) return x.abort(); w = "abort"; for (l in { success: 1, error: 1, complete: 1 }) x[l](m[l]); if (e = xb(tb, m, c, x)) { if (x.readyState = 1, k && p.trigger("ajaxSend", [x, m]), 2 === v) return x; m.async && m.timeout > 0 && (i = a.setTimeout(function () { x.abort("timeout") }, m.timeout)); try { v = 1, e.send(t, z) } catch (y) { if (!(2 > v)) throw y; z(-1, y) } } else z(-1, "No Transport"); function z(b, c, d, h) { var j, l, t, u, w, y = c; 2 !== v && (v = 2, i && a.clearTimeout(i), e = void 0, g = h || "", x.readyState = b > 0 ? 4 : 0, j = b >= 200 && 300 > b || 304 === b, d && (u = zb(m, x, d)), u = Ab(m, u, x, j), j ? (m.ifModified && (w = x.getResponseHeader("Last-Modified"), w && (n.lastModified[f] = w), w = x.getResponseHeader("etag"), w && (n.etag[f] = w)), 204 === b || "HEAD" === m.type ? y = "nocontent" : 304 === b ? y = "notmodified" : (y = u.state, l = u.data, t = u.error, j = !t)) : (t = y, !b && y || (y = "error", 0 > b && (b = 0))), x.status = b, x.statusText = (c || y) + "", j ? q.resolveWith(o, [l, y, x]) : q.rejectWith(o, [x, y, t]), x.statusCode(s), s = void 0, k && p.trigger(j ? "ajaxSuccess" : "ajaxError", [x, m, j ? l : t]), r.fireWith(o, [x, y]), k && (p.trigger("ajaxComplete", [x, m]), --n.active || n.event.trigger("ajaxStop"))) } return x }, getJSON: function (a, b, c) { return n.get(a, b, c, "json") }, getScript: function (a, b) { return n.get(a, void 0, b, "script") } }), n.each(["get", "post"], function (a, b) { n[b] = function (a, c, d, e) { return n.isFunction(c) && (e = e || d, d = c, c = void 0), n.ajax(n.extend({ url: a, type: b, dataType: e, data: c, success: d }, n.isPlainObject(a) && a)) } }), n._evalUrl = function (a) { return n.ajax({ url: a, type: "GET", dataType: "script", async: !1, global: !1, "throws": !0 }) }, n.fn.extend({ wrapAll: function (a) { var b; return n.isFunction(a) ? this.each(function (b) { n(this).wrapAll(a.call(this, b)) }) : (this[0] && (b = n(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function () { var a = this; while (a.firstElementChild) a = a.firstElementChild; return a }).append(this)), this) }, wrapInner: function (a) { return n.isFunction(a) ? this.each(function (b) { n(this).wrapInner(a.call(this, b)) }) : this.each(function () { var b = n(this), c = b.contents(); c.length ? c.wrapAll(a) : b.append(a) }) }, wrap: function (a) { var b = n.isFunction(a); return this.each(function (c) { n(this).wrapAll(b ? a.call(this, c) : a) }) }, unwrap: function () { return this.parent().each(function () { n.nodeName(this, "body") || n(this).replaceWith(this.childNodes) }).end() } }), n.expr.filters.hidden = function (a) { return !n.expr.filters.visible(a) }, n.expr.filters.visible = function (a) { return a.offsetWidth > 0 || a.offsetHeight > 0 || a.getClientRects().length > 0 }; var Bb = /%20/g, Cb = /\[\]$/, Db = /\r?\n/g, Eb = /^(?:submit|button|image|reset|file)$/i, Fb = /^(?:input|select|textarea|keygen)/i; function Gb(a, b, c, d) { var e; if (n.isArray(b)) n.each(b, function (b, e) { c || Cb.test(a) ? d(a, e) : Gb(a + "[" + ("object" == typeof e && null != e ? b : "") + "]", e, c, d) }); else if (c || "object" !== n.type(b)) d(a, b); else for (e in b) Gb(a + "[" + e + "]", b[e], c, d) } n.param = function (a, b) { var c, d = [], e = function (a, b) { b = n.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b) }; if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional), n.isArray(a) || a.jquery && !n.isPlainObject(a)) n.each(a, function () { e(this.name, this.value) }); else for (c in a) Gb(c, a[c], b, e); return d.join("&").replace(Bb, "+") }, n.fn.extend({ serialize: function () { return n.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var a = n.prop(this, "elements"); return a ? n.makeArray(a) : this }).filter(function () { var a = this.type; return this.name && !n(this).is(":disabled") && Fb.test(this.nodeName) && !Eb.test(a) && (this.checked || !X.test(a)) }).map(function (a, b) { var c = n(this).val(); return null == c ? null : n.isArray(c) ? n.map(c, function (a) { return { name: b.name, value: a.replace(Db, "\r\n") } }) : { name: b.name, value: c.replace(Db, "\r\n") } }).get() } }), n.ajaxSettings.xhr = function () { try { return new a.XMLHttpRequest } catch (b) { } }; var Hb = { 0: 200, 1223: 204 }, Ib = n.ajaxSettings.xhr(); l.cors = !!Ib && "withCredentials" in Ib, l.ajax = Ib = !!Ib, n.ajaxTransport(function (b) { var c, d; return l.cors || Ib && !b.crossDomain ? { send: function (e, f) { var g, h = b.xhr(); if (h.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields) for (g in b.xhrFields) h[g] = b.xhrFields[g]; b.mimeType && h.overrideMimeType && h.overrideMimeType(b.mimeType), b.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest"); for (g in e) h.setRequestHeader(g, e[g]); c = function (a) { return function () { c && (c = d = h.onload = h.onerror = h.onabort = h.onreadystatechange = null, "abort" === a ? h.abort() : "error" === a ? "number" != typeof h.status ? f(0, "error") : f(h.status, h.statusText) : f(Hb[h.status] || h.status, h.statusText, "text" !== (h.responseType || "text") || "string" != typeof h.responseText ? { binary: h.response } : { text: h.responseText }, h.getAllResponseHeaders())) } }, h.onload = c(), d = h.onerror = c("error"), void 0 !== h.onabort ? h.onabort = d : h.onreadystatechange = function () { 4 === h.readyState && a.setTimeout(function () { c && d() }) }, c = c("abort"); try { h.send(b.hasContent && b.data || null) } catch (i) { if (c) throw i } }, abort: function () { c && c() } } : void 0 }), n.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /\b(?:java|ecma)script\b/ }, converters: { "text script": function (a) { return n.globalEval(a), a } } }), n.ajaxPrefilter("script", function (a) { void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET") }), n.ajaxTransport("script", function (a) { if (a.crossDomain) { var b, c; return { send: function (e, f) { b = n("<script>").prop({ charset: a.scriptCharset, src: a.url }).on("load error", c = function (a) { b.remove(), c = null, a && f("error" === a.type ? 404 : 200, a.type) }), d.head.appendChild(b[0]) }, abort: function () { c && c() } } } }); var Jb = [], Kb = /(=)\?(?=&|$)|\?\?/; n.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var a = Jb.pop() || n.expando + "_" + kb++; return this[a] = !0, a } }), n.ajaxPrefilter("json jsonp", function (b, c, d) { var e, f, g, h = b.jsonp !== !1 && (Kb.test(b.url) ? "url" : "string" == typeof b.data && 0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && Kb.test(b.data) && "data"); return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Kb, "$1" + e) : b.jsonp !== !1 && (b.url += (lb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () { return g || n.error(e + " was not called"), g[0] }, b.dataTypes[0] = "json", f = a[e], a[e] = function () { g = arguments }, d.always(function () { void 0 === f ? n(a).removeProp(e) : a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Jb.push(e)), g && n.isFunction(f) && f(g[0]), g = f = void 0 }), "script") : void 0 }), n.parseHTML = function (a, b, c) { if (!a || "string" != typeof a) return null; "boolean" == typeof b && (c = b, b = !1), b = b || d; var e = x.exec(a), f = !c && []; return e ? [b.createElement(e[1])] : (e = ca([a], b, f), f && f.length && n(f).remove(), n.merge([], e.childNodes)) }; var Lb = n.fn.load; n.fn.load = function (a, b, c) { if ("string" != typeof a && Lb) return Lb.apply(this, arguments); var d, e, f, g = this, h = a.indexOf(" "); return h > -1 && (d = n.trim(a.slice(h)), a = a.slice(0, h)), n.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && n.ajax({ url: a, type: e || "GET", dataType: "html", data: b }).done(function (a) { f = arguments, g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a) }).always(c && function (a, b) { g.each(function () { c.apply(this, f || [a.responseText, b, a]) }) }), this }, n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) { n.fn[b] = function (a) { return this.on(b, a) } }), n.expr.filters.animated = function (a) { return n.grep(n.timers, function (b) { return a === b.elem }).length }; function Mb(a) { return n.isWindow(a) ? a : 9 === a.nodeType && a.defaultView } n.offset = { setOffset: function (a, b, c) { var d, e, f, g, h, i, j, k = n.css(a, "position"), l = n(a), m = {}; "static" === k && (a.style.position = "relative"), h = l.offset(), f = n.css(a, "top"), i = n.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), n.isFunction(b) && (b = b.call(a, c, n.extend({}, h))), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m) } }, n.fn.extend({ offset: function (a) { if (arguments.length) return void 0 === a ? this : this.each(function (b) { n.offset.setOffset(this, a, b) }); var b, c, d = this[0], e = { top: 0, left: 0 }, f = d && d.ownerDocument; if (f) return b = f.documentElement, n.contains(b, d) ? (e = d.getBoundingClientRect(), c = Mb(f), { top: e.top + c.pageYOffset - b.clientTop, left: e.left + c.pageXOffset - b.clientLeft }) : e }, position: function () { if (this[0]) { var a, b, c = this[0], d = { top: 0, left: 0 }; return "fixed" === n.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), n.nodeName(a[0], "html") || (d = a.offset()), d.top += n.css(a[0], "borderTopWidth", !0), d.left += n.css(a[0], "borderLeftWidth", !0)), { top: b.top - d.top - n.css(c, "marginTop", !0), left: b.left - d.left - n.css(c, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { var a = this.offsetParent; while (a && "static" === n.css(a, "position")) a = a.offsetParent; return a || Ea }) } }), n.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (a, b) { var c = "pageYOffset" === b; n.fn[a] = function (d) { return K(this, function (a, d, e) { var f = Mb(a); return void 0 === e ? f ? f[b] : a[d] : void (f ? f.scrollTo(c ? f.pageXOffset : e, c ? e : f.pageYOffset) : a[d] = e) }, a, d, arguments.length) } }), n.each(["top", "left"], function (a, b) { n.cssHooks[b] = Ga(l.pixelPosition, function (a, c) { return c ? (c = Fa(a, b), Ba.test(c) ? n(a).position()[b] + "px" : c) : void 0 }) }), n.each({ Height: "height", Width: "width" }, function (a, b) { n.each({ padding: "inner" + a, content: b, "": "outer" + a }, function (c, d) { n.fn[d] = function (d, e) { var f = arguments.length && (c || "boolean" != typeof d), g = c || (d === !0 || e === !0 ? "margin" : "border"); return K(this, function (b, c, d) { var e; return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g) }, b, f ? d : void 0, f, null) } }) }), n.fn.extend({ bind: function (a, b, c) { return this.on(a, null, b, c) }, unbind: function (a, b) { return this.off(a, null, b) }, delegate: function (a, b, c, d) { return this.on(b, a, c, d) }, undelegate: function (a, b, c) { return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c) }, size: function () { return this.length } }), n.fn.andSelf = n.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () { return n }); var Nb = a.jQuery, Ob = a.$; return n.noConflict = function (b) { return a.$ === n && (a.$ = Ob), b && a.jQuery === n && (a.jQuery = Nb), n }, b || (a.jQuery = a.$ = n), n
});
;/*!
 * Bootstrap v3.4.1 (https://getbootstrap.com/)
 * Copyright 2011-2019 Twitter, Inc.
 * Licensed under the MIT license
 */
if ("undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery"); !function (t) { "use strict"; var e = jQuery.fn.jquery.split(" ")[0].split("."); if (e[0] < 2 && e[1] < 9 || 1 == e[0] && 9 == e[1] && e[2] < 1 || 3 < e[0]) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4") }(), function (n) { "use strict"; n.fn.emulateTransitionEnd = function (t) { var e = !1, i = this; n(this).one("bsTransitionEnd", function () { e = !0 }); return setTimeout(function () { e || n(i).trigger(n.support.transition.end) }, t), this }, n(function () { n.support.transition = function o() { var t = document.createElement("bootstrap"), e = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" }; for (var i in e) if (t.style[i] !== undefined) return { end: e[i] }; return !1 }(), n.support.transition && (n.event.special.bsTransitionEnd = { bindType: n.support.transition.end, delegateType: n.support.transition.end, handle: function (t) { if (n(t.target).is(this)) return t.handleObj.handler.apply(this, arguments) } }) }) }(jQuery), function (s) { "use strict"; var e = '[data-dismiss="alert"]', a = function (t) { s(t).on("click", e, this.close) }; a.VERSION = "3.4.1", a.TRANSITION_DURATION = 150, a.prototype.close = function (t) { var e = s(this), i = e.attr("data-target"); i || (i = (i = e.attr("href")) && i.replace(/.*(?=#[^\s]*$)/, "")), i = "#" === i ? [] : i; var o = s(document).find(i); function n() { o.detach().trigger("closed.bs.alert").remove() } t && t.preventDefault(), o.length || (o = e.closest(".alert")), o.trigger(t = s.Event("close.bs.alert")), t.isDefaultPrevented() || (o.removeClass("in"), s.support.transition && o.hasClass("fade") ? o.one("bsTransitionEnd", n).emulateTransitionEnd(a.TRANSITION_DURATION) : n()) }; var t = s.fn.alert; s.fn.alert = function o(i) { return this.each(function () { var t = s(this), e = t.data("bs.alert"); e || t.data("bs.alert", e = new a(this)), "string" == typeof i && e[i].call(t) }) }, s.fn.alert.Constructor = a, s.fn.alert.noConflict = function () { return s.fn.alert = t, this }, s(document).on("click.bs.alert.data-api", e, a.prototype.close) }(jQuery), function (s) { "use strict"; var n = function (t, e) { this.$element = s(t), this.options = s.extend({}, n.DEFAULTS, e), this.isLoading = !1 }; function i(o) { return this.each(function () { var t = s(this), e = t.data("bs.button"), i = "object" == typeof o && o; e || t.data("bs.button", e = new n(this, i)), "toggle" == o ? e.toggle() : o && e.setState(o) }) } n.VERSION = "3.4.1", n.DEFAULTS = { loadingText: "loading..." }, n.prototype.setState = function (t) { var e = "disabled", i = this.$element, o = i.is("input") ? "val" : "html", n = i.data(); t += "Text", null == n.resetText && i.data("resetText", i[o]()), setTimeout(s.proxy(function () { i[o](null == n[t] ? this.options[t] : n[t]), "loadingText" == t ? (this.isLoading = !0, i.addClass(e).attr(e, e).prop(e, !0)) : this.isLoading && (this.isLoading = !1, i.removeClass(e).removeAttr(e).prop(e, !1)) }, this), 0) }, n.prototype.toggle = function () { var t = !0, e = this.$element.closest('[data-toggle="buttons"]'); if (e.length) { var i = this.$element.find("input"); "radio" == i.prop("type") ? (i.prop("checked") && (t = !1), e.find(".active").removeClass("active"), this.$element.addClass("active")) : "checkbox" == i.prop("type") && (i.prop("checked") !== this.$element.hasClass("active") && (t = !1), this.$element.toggleClass("active")), i.prop("checked", this.$element.hasClass("active")), t && i.trigger("change") } else this.$element.attr("aria-pressed", !this.$element.hasClass("active")), this.$element.toggleClass("active") }; var t = s.fn.button; s.fn.button = i, s.fn.button.Constructor = n, s.fn.button.noConflict = function () { return s.fn.button = t, this }, s(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function (t) { var e = s(t.target).closest(".btn"); i.call(e, "toggle"), s(t.target).is('input[type="radio"], input[type="checkbox"]') || (t.preventDefault(), e.is("input,button") ? e.trigger("focus") : e.find("input:visible,button:visible").first().trigger("focus")) }).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function (t) { s(t.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(t.type)) }) }(jQuery), function (p) { "use strict"; var c = function (t, e) { this.$element = p(t), this.$indicators = this.$element.find(".carousel-indicators"), this.options = e, this.paused = null, this.sliding = null, this.interval = null, this.$active = null, this.$items = null, this.options.keyboard && this.$element.on("keydown.bs.carousel", p.proxy(this.keydown, this)), "hover" == this.options.pause && !("ontouchstart" in document.documentElement) && this.$element.on("mouseenter.bs.carousel", p.proxy(this.pause, this)).on("mouseleave.bs.carousel", p.proxy(this.cycle, this)) }; function r(n) { return this.each(function () { var t = p(this), e = t.data("bs.carousel"), i = p.extend({}, c.DEFAULTS, t.data(), "object" == typeof n && n), o = "string" == typeof n ? n : i.slide; e || t.data("bs.carousel", e = new c(this, i)), "number" == typeof n ? e.to(n) : o ? e[o]() : i.interval && e.pause().cycle() }) } c.VERSION = "3.4.1", c.TRANSITION_DURATION = 600, c.DEFAULTS = { interval: 5e3, pause: "hover", wrap: !0, keyboard: !0 }, c.prototype.keydown = function (t) { if (!/input|textarea/i.test(t.target.tagName)) { switch (t.which) { case 37: this.prev(); break; case 39: this.next(); break; default: return }t.preventDefault() } }, c.prototype.cycle = function (t) { return t || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(p.proxy(this.next, this), this.options.interval)), this }, c.prototype.getItemIndex = function (t) { return this.$items = t.parent().children(".item"), this.$items.index(t || this.$active) }, c.prototype.getItemForDirection = function (t, e) { var i = this.getItemIndex(e); if (("prev" == t && 0 === i || "next" == t && i == this.$items.length - 1) && !this.options.wrap) return e; var o = (i + ("prev" == t ? -1 : 1)) % this.$items.length; return this.$items.eq(o) }, c.prototype.to = function (t) { var e = this, i = this.getItemIndex(this.$active = this.$element.find(".item.active")); if (!(t > this.$items.length - 1 || t < 0)) return this.sliding ? this.$element.one("slid.bs.carousel", function () { e.to(t) }) : i == t ? this.pause().cycle() : this.slide(i < t ? "next" : "prev", this.$items.eq(t)) }, c.prototype.pause = function (t) { return t || (this.paused = !0), this.$element.find(".next, .prev").length && p.support.transition && (this.$element.trigger(p.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this }, c.prototype.next = function () { if (!this.sliding) return this.slide("next") }, c.prototype.prev = function () { if (!this.sliding) return this.slide("prev") }, c.prototype.slide = function (t, e) { var i = this.$element.find(".item.active"), o = e || this.getItemForDirection(t, i), n = this.interval, s = "next" == t ? "left" : "right", a = this; if (o.hasClass("active")) return this.sliding = !1; var r = o[0], l = p.Event("slide.bs.carousel", { relatedTarget: r, direction: s }); if (this.$element.trigger(l), !l.isDefaultPrevented()) { if (this.sliding = !0, n && this.pause(), this.$indicators.length) { this.$indicators.find(".active").removeClass("active"); var h = p(this.$indicators.children()[this.getItemIndex(o)]); h && h.addClass("active") } var d = p.Event("slid.bs.carousel", { relatedTarget: r, direction: s }); return p.support.transition && this.$element.hasClass("slide") ? (o.addClass(t), "object" == typeof o && o.length && o[0].offsetWidth, i.addClass(s), o.addClass(s), i.one("bsTransitionEnd", function () { o.removeClass([t, s].join(" ")).addClass("active"), i.removeClass(["active", s].join(" ")), a.sliding = !1, setTimeout(function () { a.$element.trigger(d) }, 0) }).emulateTransitionEnd(c.TRANSITION_DURATION)) : (i.removeClass("active"), o.addClass("active"), this.sliding = !1, this.$element.trigger(d)), n && this.cycle(), this } }; var t = p.fn.carousel; p.fn.carousel = r, p.fn.carousel.Constructor = c, p.fn.carousel.noConflict = function () { return p.fn.carousel = t, this }; var e = function (t) { var e = p(this), i = e.attr("href"); i && (i = i.replace(/.*(?=#[^\s]+$)/, "")); var o = e.attr("data-target") || i, n = p(document).find(o); if (n.hasClass("carousel")) { var s = p.extend({}, n.data(), e.data()), a = e.attr("data-slide-to"); a && (s.interval = !1), r.call(n, s), a && n.data("bs.carousel").to(a), t.preventDefault() } }; p(document).on("click.bs.carousel.data-api", "[data-slide]", e).on("click.bs.carousel.data-api", "[data-slide-to]", e), p(window).on("load", function () { p('[data-ride="carousel"]').each(function () { var t = p(this); r.call(t, t.data()) }) }) }(jQuery), function (a) { "use strict"; var r = function (t, e) { this.$element = a(t), this.options = a.extend({}, r.DEFAULTS, e), this.$trigger = a('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle() }; function n(t) { var e, i = t.attr("data-target") || (e = t.attr("href")) && e.replace(/.*(?=#[^\s]+$)/, ""); return a(document).find(i) } function l(o) { return this.each(function () { var t = a(this), e = t.data("bs.collapse"), i = a.extend({}, r.DEFAULTS, t.data(), "object" == typeof o && o); !e && i.toggle && /show|hide/.test(o) && (i.toggle = !1), e || t.data("bs.collapse", e = new r(this, i)), "string" == typeof o && e[o]() }) } r.VERSION = "3.4.1", r.TRANSITION_DURATION = 350, r.DEFAULTS = { toggle: !0 }, r.prototype.dimension = function () { return this.$element.hasClass("width") ? "width" : "height" }, r.prototype.show = function () { if (!this.transitioning && !this.$element.hasClass("in")) { var t, e = this.$parent && this.$parent.children(".panel").children(".in, .collapsing"); if (!(e && e.length && (t = e.data("bs.collapse")) && t.transitioning)) { var i = a.Event("show.bs.collapse"); if (this.$element.trigger(i), !i.isDefaultPrevented()) { e && e.length && (l.call(e, "hide"), t || e.data("bs.collapse", null)); var o = this.dimension(); this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1; var n = function () { this.$element.removeClass("collapsing").addClass("collapse in")[o](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse") }; if (!a.support.transition) return n.call(this); var s = a.camelCase(["scroll", o].join("-")); this.$element.one("bsTransitionEnd", a.proxy(n, this)).emulateTransitionEnd(r.TRANSITION_DURATION)[o](this.$element[0][s]) } } } }, r.prototype.hide = function () { if (!this.transitioning && this.$element.hasClass("in")) { var t = a.Event("hide.bs.collapse"); if (this.$element.trigger(t), !t.isDefaultPrevented()) { var e = this.dimension(); this.$element[e](this.$element[e]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1; var i = function () { this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse") }; if (!a.support.transition) return i.call(this); this.$element[e](0).one("bsTransitionEnd", a.proxy(i, this)).emulateTransitionEnd(r.TRANSITION_DURATION) } } }, r.prototype.toggle = function () { this[this.$element.hasClass("in") ? "hide" : "show"]() }, r.prototype.getParent = function () { return a(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(a.proxy(function (t, e) { var i = a(e); this.addAriaAndCollapsedClass(n(i), i) }, this)).end() }, r.prototype.addAriaAndCollapsedClass = function (t, e) { var i = t.hasClass("in"); t.attr("aria-expanded", i), e.toggleClass("collapsed", !i).attr("aria-expanded", i) }; var t = a.fn.collapse; a.fn.collapse = l, a.fn.collapse.Constructor = r, a.fn.collapse.noConflict = function () { return a.fn.collapse = t, this }, a(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function (t) { var e = a(this); e.attr("data-target") || t.preventDefault(); var i = n(e), o = i.data("bs.collapse") ? "toggle" : e.data(); l.call(i, o) }) }(jQuery), function (a) { "use strict"; var r = '[data-toggle="dropdown"]', o = function (t) { a(t).on("click.bs.dropdown", this.toggle) }; function l(t) { var e = t.attr("data-target"); e || (e = (e = t.attr("href")) && /#[A-Za-z]/.test(e) && e.replace(/.*(?=#[^\s]*$)/, "")); var i = "#" !== e ? a(document).find(e) : null; return i && i.length ? i : t.parent() } function s(o) { o && 3 === o.which || (a(".dropdown-backdrop").remove(), a(r).each(function () { var t = a(this), e = l(t), i = { relatedTarget: this }; e.hasClass("open") && (o && "click" == o.type && /input|textarea/i.test(o.target.tagName) && a.contains(e[0], o.target) || (e.trigger(o = a.Event("hide.bs.dropdown", i)), o.isDefaultPrevented() || (t.attr("aria-expanded", "false"), e.removeClass("open").trigger(a.Event("hidden.bs.dropdown", i))))) })) } o.VERSION = "3.4.1", o.prototype.toggle = function (t) { var e = a(this); if (!e.is(".disabled, :disabled")) { var i = l(e), o = i.hasClass("open"); if (s(), !o) { "ontouchstart" in document.documentElement && !i.closest(".navbar-nav").length && a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click", s); var n = { relatedTarget: this }; if (i.trigger(t = a.Event("show.bs.dropdown", n)), t.isDefaultPrevented()) return; e.trigger("focus").attr("aria-expanded", "true"), i.toggleClass("open").trigger(a.Event("shown.bs.dropdown", n)) } return !1 } }, o.prototype.keydown = function (t) { if (/(38|40|27|32)/.test(t.which) && !/input|textarea/i.test(t.target.tagName)) { var e = a(this); if (t.preventDefault(), t.stopPropagation(), !e.is(".disabled, :disabled")) { var i = l(e), o = i.hasClass("open"); if (!o && 27 != t.which || o && 27 == t.which) return 27 == t.which && i.find(r).trigger("focus"), e.trigger("click"); var n = i.find(".dropdown-menu li:not(.disabled):visible a"); if (n.length) { var s = n.index(t.target); 38 == t.which && 0 < s && s--, 40 == t.which && s < n.length - 1 && s++, ~s || (s = 0), n.eq(s).trigger("focus") } } } }; var t = a.fn.dropdown; a.fn.dropdown = function e(i) { return this.each(function () { var t = a(this), e = t.data("bs.dropdown"); e || t.data("bs.dropdown", e = new o(this)), "string" == typeof i && e[i].call(t) }) }, a.fn.dropdown.Constructor = o, a.fn.dropdown.noConflict = function () { return a.fn.dropdown = t, this }, a(document).on("click.bs.dropdown.data-api", s).on("click.bs.dropdown.data-api", ".dropdown form", function (t) { t.stopPropagation() }).on("click.bs.dropdown.data-api", r, o.prototype.toggle).on("keydown.bs.dropdown.data-api", r, o.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", o.prototype.keydown) }(jQuery), function (a) { "use strict"; var s = function (t, e) { this.options = e, this.$body = a(document.body), this.$element = a(t), this.$dialog = this.$element.find(".modal-dialog"), this.$backdrop = null, this.isShown = null, this.originalBodyPad = null, this.scrollbarWidth = 0, this.ignoreBackdropClick = !1, this.fixedContent = ".navbar-fixed-top, .navbar-fixed-bottom", this.options.remote && this.$element.find(".modal-content").load(this.options.remote, a.proxy(function () { this.$element.trigger("loaded.bs.modal") }, this)) }; function r(o, n) { return this.each(function () { var t = a(this), e = t.data("bs.modal"), i = a.extend({}, s.DEFAULTS, t.data(), "object" == typeof o && o); e || t.data("bs.modal", e = new s(this, i)), "string" == typeof o ? e[o](n) : i.show && e.show(n) }) } s.VERSION = "3.4.1", s.TRANSITION_DURATION = 300, s.BACKDROP_TRANSITION_DURATION = 150, s.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }, s.prototype.toggle = function (t) { return this.isShown ? this.hide() : this.show(t) }, s.prototype.show = function (i) { var o = this, t = a.Event("show.bs.modal", { relatedTarget: i }); this.$element.trigger(t), this.isShown || t.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.setScrollbar(), this.$body.addClass("modal-open"), this.escape(), this.resize(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', a.proxy(this.hide, this)), this.$dialog.on("mousedown.dismiss.bs.modal", function () { o.$element.one("mouseup.dismiss.bs.modal", function (t) { a(t.target).is(o.$element) && (o.ignoreBackdropClick = !0) }) }), this.backdrop(function () { var t = a.support.transition && o.$element.hasClass("fade"); o.$element.parent().length || o.$element.appendTo(o.$body), o.$element.show().scrollTop(0), o.adjustDialog(), t && o.$element[0].offsetWidth, o.$element.addClass("in"), o.enforceFocus(); var e = a.Event("shown.bs.modal", { relatedTarget: i }); t ? o.$dialog.one("bsTransitionEnd", function () { o.$element.trigger("focus").trigger(e) }).emulateTransitionEnd(s.TRANSITION_DURATION) : o.$element.trigger("focus").trigger(e) })) }, s.prototype.hide = function (t) { t && t.preventDefault(), t = a.Event("hide.bs.modal"), this.$element.trigger(t), this.isShown && !t.isDefaultPrevented() && (this.isShown = !1, this.escape(), this.resize(), a(document).off("focusin.bs.modal"), this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"), this.$dialog.off("mousedown.dismiss.bs.modal"), a.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", a.proxy(this.hideModal, this)).emulateTransitionEnd(s.TRANSITION_DURATION) : this.hideModal()) }, s.prototype.enforceFocus = function () { a(document).off("focusin.bs.modal").on("focusin.bs.modal", a.proxy(function (t) { document === t.target || this.$element[0] === t.target || this.$element.has(t.target).length || this.$element.trigger("focus") }, this)) }, s.prototype.escape = function () { this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", a.proxy(function (t) { 27 == t.which && this.hide() }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal") }, s.prototype.resize = function () { this.isShown ? a(window).on("resize.bs.modal", a.proxy(this.handleUpdate, this)) : a(window).off("resize.bs.modal") }, s.prototype.hideModal = function () { var t = this; this.$element.hide(), this.backdrop(function () { t.$body.removeClass("modal-open"), t.resetAdjustments(), t.resetScrollbar(), t.$element.trigger("hidden.bs.modal") }) }, s.prototype.removeBackdrop = function () { this.$backdrop && this.$backdrop.remove(), this.$backdrop = null }, s.prototype.backdrop = function (t) { var e = this, i = this.$element.hasClass("fade") ? "fade" : ""; if (this.isShown && this.options.backdrop) { var o = a.support.transition && i; if (this.$backdrop = a(document.createElement("div")).addClass("modal-backdrop " + i).appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", a.proxy(function (t) { this.ignoreBackdropClick ? this.ignoreBackdropClick = !1 : t.target === t.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide()) }, this)), o && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !t) return; o ? this.$backdrop.one("bsTransitionEnd", t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION) : t() } else if (!this.isShown && this.$backdrop) { this.$backdrop.removeClass("in"); var n = function () { e.removeBackdrop(), t && t() }; a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", n).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION) : n() } else t && t() }, s.prototype.handleUpdate = function () { this.adjustDialog() }, s.prototype.adjustDialog = function () { var t = this.$element[0].scrollHeight > document.documentElement.clientHeight; this.$element.css({ paddingLeft: !this.bodyIsOverflowing && t ? this.scrollbarWidth : "", paddingRight: this.bodyIsOverflowing && !t ? this.scrollbarWidth : "" }) }, s.prototype.resetAdjustments = function () { this.$element.css({ paddingLeft: "", paddingRight: "" }) }, s.prototype.checkScrollbar = function () { var t = window.innerWidth; if (!t) { var e = document.documentElement.getBoundingClientRect(); t = e.right - Math.abs(e.left) } this.bodyIsOverflowing = document.body.clientWidth < t, this.scrollbarWidth = this.measureScrollbar() }, s.prototype.setScrollbar = function () { var t = parseInt(this.$body.css("padding-right") || 0, 10); this.originalBodyPad = document.body.style.paddingRight || ""; var n = this.scrollbarWidth; this.bodyIsOverflowing && (this.$body.css("padding-right", t + n), a(this.fixedContent).each(function (t, e) { var i = e.style.paddingRight, o = a(e).css("padding-right"); a(e).data("padding-right", i).css("padding-right", parseFloat(o) + n + "px") })) }, s.prototype.resetScrollbar = function () { this.$body.css("padding-right", this.originalBodyPad), a(this.fixedContent).each(function (t, e) { var i = a(e).data("padding-right"); a(e).removeData("padding-right"), e.style.paddingRight = i || "" }) }, s.prototype.measureScrollbar = function () { var t = document.createElement("div"); t.className = "modal-scrollbar-measure", this.$body.append(t); var e = t.offsetWidth - t.clientWidth; return this.$body[0].removeChild(t), e }; var t = a.fn.modal; a.fn.modal = r, a.fn.modal.Constructor = s, a.fn.modal.noConflict = function () { return a.fn.modal = t, this }, a(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function (t) { var e = a(this), i = e.attr("href"), o = e.attr("data-target") || i && i.replace(/.*(?=#[^\s]+$)/, ""), n = a(document).find(o), s = n.data("bs.modal") ? "toggle" : a.extend({ remote: !/#/.test(i) && i }, n.data(), e.data()); e.is("a") && t.preventDefault(), n.one("show.bs.modal", function (t) { t.isDefaultPrevented() || n.one("hidden.bs.modal", function () { e.is(":visible") && e.trigger("focus") }) }), r.call(n, s, this) }) }(jQuery), function (g) { "use strict"; var o = ["sanitize", "whiteList", "sanitizeFn"], a = ["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"], t = { "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i], a: ["target", "href", "title", "rel"], area: [], b: [], br: [], col: [], code: [], div: [], em: [], hr: [], h1: [], h2: [], h3: [], h4: [], h5: [], h6: [], i: [], img: ["src", "alt", "title", "width", "height"], li: [], ol: [], p: [], pre: [], s: [], small: [], span: [], sub: [], sup: [], strong: [], u: [], ul: [] }, r = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi, l = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i; function u(t, e) { var i = t.nodeName.toLowerCase(); if (-1 !== g.inArray(i, e)) return -1 === g.inArray(i, a) || Boolean(t.nodeValue.match(r) || t.nodeValue.match(l)); for (var o = g(e).filter(function (t, e) { return e instanceof RegExp }), n = 0, s = o.length; n < s; n++)if (i.match(o[n])) return !0; return !1 } function n(t, e, i) { if (0 === t.length) return t; if (i && "function" == typeof i) return i(t); if (!document.implementation || !document.implementation.createHTMLDocument) return t; var o = document.implementation.createHTMLDocument("sanitization"); o.body.innerHTML = t; for (var n = g.map(e, function (t, e) { return e }), s = g(o.body).find("*"), a = 0, r = s.length; a < r; a++) { var l = s[a], h = l.nodeName.toLowerCase(); if (-1 !== g.inArray(h, n)) for (var d = g.map(l.attributes, function (t) { return t }), p = [].concat(e["*"] || [], e[h] || []), c = 0, f = d.length; c < f; c++)u(d[c], p) || l.removeAttribute(d[c].nodeName); else l.parentNode.removeChild(l) } return o.body.innerHTML } var m = function (t, e) { this.type = null, this.options = null, this.enabled = null, this.timeout = null, this.hoverState = null, this.$element = null, this.inState = null, this.init("tooltip", t, e) }; m.VERSION = "3.4.1", m.TRANSITION_DURATION = 150, m.DEFAULTS = { animation: !0, placement: "top", selector: !1, template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, container: !1, viewport: { selector: "body", padding: 0 }, sanitize: !0, sanitizeFn: null, whiteList: t }, m.prototype.init = function (t, e, i) { if (this.enabled = !0, this.type = t, this.$element = g(e), this.options = this.getOptions(i), this.$viewport = this.options.viewport && g(document).find(g.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport), this.inState = { click: !1, hover: !1, focus: !1 }, this.$element[0] instanceof document.constructor && !this.options.selector) throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!"); for (var o = this.options.trigger.split(" "), n = o.length; n--;) { var s = o[n]; if ("click" == s) this.$element.on("click." + this.type, this.options.selector, g.proxy(this.toggle, this)); else if ("manual" != s) { var a = "hover" == s ? "mouseenter" : "focusin", r = "hover" == s ? "mouseleave" : "focusout"; this.$element.on(a + "." + this.type, this.options.selector, g.proxy(this.enter, this)), this.$element.on(r + "." + this.type, this.options.selector, g.proxy(this.leave, this)) } } this.options.selector ? this._options = g.extend({}, this.options, { trigger: "manual", selector: "" }) : this.fixTitle() }, m.prototype.getDefaults = function () { return m.DEFAULTS }, m.prototype.getOptions = function (t) { var e = this.$element.data(); for (var i in e) e.hasOwnProperty(i) && -1 !== g.inArray(i, o) && delete e[i]; return (t = g.extend({}, this.getDefaults(), e, t)).delay && "number" == typeof t.delay && (t.delay = { show: t.delay, hide: t.delay }), t.sanitize && (t.template = n(t.template, t.whiteList, t.sanitizeFn)), t }, m.prototype.getDelegateOptions = function () { var i = {}, o = this.getDefaults(); return this._options && g.each(this._options, function (t, e) { o[t] != e && (i[t] = e) }), i }, m.prototype.enter = function (t) { var e = t instanceof this.constructor ? t : g(t.currentTarget).data("bs." + this.type); if (e || (e = new this.constructor(t.currentTarget, this.getDelegateOptions()), g(t.currentTarget).data("bs." + this.type, e)), t instanceof g.Event && (e.inState["focusin" == t.type ? "focus" : "hover"] = !0), e.tip().hasClass("in") || "in" == e.hoverState) e.hoverState = "in"; else { if (clearTimeout(e.timeout), e.hoverState = "in", !e.options.delay || !e.options.delay.show) return e.show(); e.timeout = setTimeout(function () { "in" == e.hoverState && e.show() }, e.options.delay.show) } }, m.prototype.isInStateTrue = function () { for (var t in this.inState) if (this.inState[t]) return !0; return !1 }, m.prototype.leave = function (t) { var e = t instanceof this.constructor ? t : g(t.currentTarget).data("bs." + this.type); if (e || (e = new this.constructor(t.currentTarget, this.getDelegateOptions()), g(t.currentTarget).data("bs." + this.type, e)), t instanceof g.Event && (e.inState["focusout" == t.type ? "focus" : "hover"] = !1), !e.isInStateTrue()) { if (clearTimeout(e.timeout), e.hoverState = "out", !e.options.delay || !e.options.delay.hide) return e.hide(); e.timeout = setTimeout(function () { "out" == e.hoverState && e.hide() }, e.options.delay.hide) } }, m.prototype.show = function () { var t = g.Event("show.bs." + this.type); if (this.hasContent() && this.enabled) { this.$element.trigger(t); var e = g.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]); if (t.isDefaultPrevented() || !e) return; var i = this, o = this.tip(), n = this.getUID(this.type); this.setContent(), o.attr("id", n), this.$element.attr("aria-describedby", n), this.options.animation && o.addClass("fade"); var s = "function" == typeof this.options.placement ? this.options.placement.call(this, o[0], this.$element[0]) : this.options.placement, a = /\s?auto?\s?/i, r = a.test(s); r && (s = s.replace(a, "") || "top"), o.detach().css({ top: 0, left: 0, display: "block" }).addClass(s).data("bs." + this.type, this), this.options.container ? o.appendTo(g(document).find(this.options.container)) : o.insertAfter(this.$element), this.$element.trigger("inserted.bs." + this.type); var l = this.getPosition(), h = o[0].offsetWidth, d = o[0].offsetHeight; if (r) { var p = s, c = this.getPosition(this.$viewport); s = "bottom" == s && l.bottom + d > c.bottom ? "top" : "top" == s && l.top - d < c.top ? "bottom" : "right" == s && l.right + h > c.width ? "left" : "left" == s && l.left - h < c.left ? "right" : s, o.removeClass(p).addClass(s) } var f = this.getCalculatedOffset(s, l, h, d); this.applyPlacement(f, s); var u = function () { var t = i.hoverState; i.$element.trigger("shown.bs." + i.type), i.hoverState = null, "out" == t && i.leave(i) }; g.support.transition && this.$tip.hasClass("fade") ? o.one("bsTransitionEnd", u).emulateTransitionEnd(m.TRANSITION_DURATION) : u() } }, m.prototype.applyPlacement = function (t, e) { var i = this.tip(), o = i[0].offsetWidth, n = i[0].offsetHeight, s = parseInt(i.css("margin-top"), 10), a = parseInt(i.css("margin-left"), 10); isNaN(s) && (s = 0), isNaN(a) && (a = 0), t.top += s, t.left += a, g.offset.setOffset(i[0], g.extend({ using: function (t) { i.css({ top: Math.round(t.top), left: Math.round(t.left) }) } }, t), 0), i.addClass("in"); var r = i[0].offsetWidth, l = i[0].offsetHeight; "top" == e && l != n && (t.top = t.top + n - l); var h = this.getViewportAdjustedDelta(e, t, r, l); h.left ? t.left += h.left : t.top += h.top; var d = /top|bottom/.test(e), p = d ? 2 * h.left - o + r : 2 * h.top - n + l, c = d ? "offsetWidth" : "offsetHeight"; i.offset(t), this.replaceArrow(p, i[0][c], d) }, m.prototype.replaceArrow = function (t, e, i) { this.arrow().css(i ? "left" : "top", 50 * (1 - t / e) + "%").css(i ? "top" : "left", "") }, m.prototype.setContent = function () { var t = this.tip(), e = this.getTitle(); this.options.html ? (this.options.sanitize && (e = n(e, this.options.whiteList, this.options.sanitizeFn)), t.find(".tooltip-inner").html(e)) : t.find(".tooltip-inner").text(e), t.removeClass("fade in top bottom left right") }, m.prototype.hide = function (t) { var e = this, i = g(this.$tip), o = g.Event("hide.bs." + this.type); function n() { "in" != e.hoverState && i.detach(), e.$element && e.$element.removeAttr("aria-describedby").trigger("hidden.bs." + e.type), t && t() } if (this.$element.trigger(o), !o.isDefaultPrevented()) return i.removeClass("in"), g.support.transition && i.hasClass("fade") ? i.one("bsTransitionEnd", n).emulateTransitionEnd(m.TRANSITION_DURATION) : n(), this.hoverState = null, this }, m.prototype.fixTitle = function () { var t = this.$element; (t.attr("title") || "string" != typeof t.attr("data-original-title")) && t.attr("data-original-title", t.attr("title") || "").attr("title", "") }, m.prototype.hasContent = function () { return this.getTitle() }, m.prototype.getPosition = function (t) { var e = (t = t || this.$element)[0], i = "BODY" == e.tagName, o = e.getBoundingClientRect(); null == o.width && (o = g.extend({}, o, { width: o.right - o.left, height: o.bottom - o.top })); var n = window.SVGElement && e instanceof window.SVGElement, s = i ? { top: 0, left: 0 } : n ? null : t.offset(), a = { scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : t.scrollTop() }, r = i ? { width: g(window).width(), height: g(window).height() } : null; return g.extend({}, o, a, r, s) }, m.prototype.getCalculatedOffset = function (t, e, i, o) { return "bottom" == t ? { top: e.top + e.height, left: e.left + e.width / 2 - i / 2 } : "top" == t ? { top: e.top - o, left: e.left + e.width / 2 - i / 2 } : "left" == t ? { top: e.top + e.height / 2 - o / 2, left: e.left - i } : { top: e.top + e.height / 2 - o / 2, left: e.left + e.width } }, m.prototype.getViewportAdjustedDelta = function (t, e, i, o) { var n = { top: 0, left: 0 }; if (!this.$viewport) return n; var s = this.options.viewport && this.options.viewport.padding || 0, a = this.getPosition(this.$viewport); if (/right|left/.test(t)) { var r = e.top - s - a.scroll, l = e.top + s - a.scroll + o; r < a.top ? n.top = a.top - r : l > a.top + a.height && (n.top = a.top + a.height - l) } else { var h = e.left - s, d = e.left + s + i; h < a.left ? n.left = a.left - h : d > a.right && (n.left = a.left + a.width - d) } return n }, m.prototype.getTitle = function () { var t = this.$element, e = this.options; return t.attr("data-original-title") || ("function" == typeof e.title ? e.title.call(t[0]) : e.title) }, m.prototype.getUID = function (t) { for (; t += ~~(1e6 * Math.random()), document.getElementById(t);); return t }, m.prototype.tip = function () { if (!this.$tip && (this.$tip = g(this.options.template), 1 != this.$tip.length)) throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!"); return this.$tip }, m.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow") }, m.prototype.enable = function () { this.enabled = !0 }, m.prototype.disable = function () { this.enabled = !1 }, m.prototype.toggleEnabled = function () { this.enabled = !this.enabled }, m.prototype.toggle = function (t) { var e = this; t && ((e = g(t.currentTarget).data("bs." + this.type)) || (e = new this.constructor(t.currentTarget, this.getDelegateOptions()), g(t.currentTarget).data("bs." + this.type, e))), t ? (e.inState.click = !e.inState.click, e.isInStateTrue() ? e.enter(e) : e.leave(e)) : e.tip().hasClass("in") ? e.leave(e) : e.enter(e) }, m.prototype.destroy = function () { var t = this; clearTimeout(this.timeout), this.hide(function () { t.$element.off("." + t.type).removeData("bs." + t.type), t.$tip && t.$tip.detach(), t.$tip = null, t.$arrow = null, t.$viewport = null, t.$element = null }) }, m.prototype.sanitizeHtml = function (t) { return n(t, this.options.whiteList, this.options.sanitizeFn) }; var e = g.fn.tooltip; g.fn.tooltip = function i(o) { return this.each(function () { var t = g(this), e = t.data("bs.tooltip"), i = "object" == typeof o && o; !e && /destroy|hide/.test(o) || (e || t.data("bs.tooltip", e = new m(this, i)), "string" == typeof o && e[o]()) }) }, g.fn.tooltip.Constructor = m, g.fn.tooltip.noConflict = function () { return g.fn.tooltip = e, this } }(jQuery), function (n) { "use strict"; var s = function (t, e) { this.init("popover", t, e) }; if (!n.fn.tooltip) throw new Error("Popover requires tooltip.js"); s.VERSION = "3.4.1", s.DEFAULTS = n.extend({}, n.fn.tooltip.Constructor.DEFAULTS, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>' }), ((s.prototype = n.extend({}, n.fn.tooltip.Constructor.prototype)).constructor = s).prototype.getDefaults = function () { return s.DEFAULTS }, s.prototype.setContent = function () { var t = this.tip(), e = this.getTitle(), i = this.getContent(); if (this.options.html) { var o = typeof i; this.options.sanitize && (e = this.sanitizeHtml(e), "string" === o && (i = this.sanitizeHtml(i))), t.find(".popover-title").html(e), t.find(".popover-content").children().detach().end()["string" === o ? "html" : "append"](i) } else t.find(".popover-title").text(e), t.find(".popover-content").children().detach().end().text(i); t.removeClass("fade top bottom left right in"), t.find(".popover-title").html() || t.find(".popover-title").hide() }, s.prototype.hasContent = function () { return this.getTitle() || this.getContent() }, s.prototype.getContent = function () { var t = this.$element, e = this.options; return t.attr("data-content") || ("function" == typeof e.content ? e.content.call(t[0]) : e.content) }, s.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".arrow") }; var t = n.fn.popover; n.fn.popover = function e(o) { return this.each(function () { var t = n(this), e = t.data("bs.popover"), i = "object" == typeof o && o; !e && /destroy|hide/.test(o) || (e || t.data("bs.popover", e = new s(this, i)), "string" == typeof o && e[o]()) }) }, n.fn.popover.Constructor = s, n.fn.popover.noConflict = function () { return n.fn.popover = t, this } }(jQuery), function (s) { "use strict"; function n(t, e) { this.$body = s(document.body), this.$scrollElement = s(t).is(document.body) ? s(window) : s(t), this.options = s.extend({}, n.DEFAULTS, e), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", s.proxy(this.process, this)), this.refresh(), this.process() } function e(o) { return this.each(function () { var t = s(this), e = t.data("bs.scrollspy"), i = "object" == typeof o && o; e || t.data("bs.scrollspy", e = new n(this, i)), "string" == typeof o && e[o]() }) } n.VERSION = "3.4.1", n.DEFAULTS = { offset: 10 }, n.prototype.getScrollHeight = function () { return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight) }, n.prototype.refresh = function () { var t = this, o = "offset", n = 0; this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight(), s.isWindow(this.$scrollElement[0]) || (o = "position", n = this.$scrollElement.scrollTop()), this.$body.find(this.selector).map(function () { var t = s(this), e = t.data("target") || t.attr("href"), i = /^#./.test(e) && s(e); return i && i.length && i.is(":visible") && [[i[o]().top + n, e]] || null }).sort(function (t, e) { return t[0] - e[0] }).each(function () { t.offsets.push(this[0]), t.targets.push(this[1]) }) }, n.prototype.process = function () { var t, e = this.$scrollElement.scrollTop() + this.options.offset, i = this.getScrollHeight(), o = this.options.offset + i - this.$scrollElement.height(), n = this.offsets, s = this.targets, a = this.activeTarget; if (this.scrollHeight != i && this.refresh(), o <= e) return a != (t = s[s.length - 1]) && this.activate(t); if (a && e < n[0]) return this.activeTarget = null, this.clear(); for (t = n.length; t--;)a != s[t] && e >= n[t] && (n[t + 1] === undefined || e < n[t + 1]) && this.activate(s[t]) }, n.prototype.activate = function (t) { this.activeTarget = t, this.clear(); var e = this.selector + '[data-target="' + t + '"],' + this.selector + '[href="' + t + '"]', i = s(e).parents("li").addClass("active"); i.parent(".dropdown-menu").length && (i = i.closest("li.dropdown").addClass("active")), i.trigger("activate.bs.scrollspy") }, n.prototype.clear = function () { s(this.selector).parentsUntil(this.options.target, ".active").removeClass("active") }; var t = s.fn.scrollspy; s.fn.scrollspy = e, s.fn.scrollspy.Constructor = n, s.fn.scrollspy.noConflict = function () { return s.fn.scrollspy = t, this }, s(window).on("load.bs.scrollspy.data-api", function () { s('[data-spy="scroll"]').each(function () { var t = s(this); e.call(t, t.data()) }) }) }(jQuery), function (r) { "use strict"; var a = function (t) { this.element = r(t) }; function e(i) { return this.each(function () { var t = r(this), e = t.data("bs.tab"); e || t.data("bs.tab", e = new a(this)), "string" == typeof i && e[i]() }) } a.VERSION = "3.4.1", a.TRANSITION_DURATION = 150, a.prototype.show = function () { var t = this.element, e = t.closest("ul:not(.dropdown-menu)"), i = t.data("target"); if (i || (i = (i = t.attr("href")) && i.replace(/.*(?=#[^\s]*$)/, "")), !t.parent("li").hasClass("active")) { var o = e.find(".active:last a"), n = r.Event("hide.bs.tab", { relatedTarget: t[0] }), s = r.Event("show.bs.tab", { relatedTarget: o[0] }); if (o.trigger(n), t.trigger(s), !s.isDefaultPrevented() && !n.isDefaultPrevented()) { var a = r(document).find(i); this.activate(t.closest("li"), e), this.activate(a, a.parent(), function () { o.trigger({ type: "hidden.bs.tab", relatedTarget: t[0] }), t.trigger({ type: "shown.bs.tab", relatedTarget: o[0] }) }) } } }, a.prototype.activate = function (t, e, i) { var o = e.find("> .active"), n = i && r.support.transition && (o.length && o.hasClass("fade") || !!e.find("> .fade").length); function s() { o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), n ? (t[0].offsetWidth, t.addClass("in")) : t.removeClass("fade"), t.parent(".dropdown-menu").length && t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), i && i() } o.length && n ? o.one("bsTransitionEnd", s).emulateTransitionEnd(a.TRANSITION_DURATION) : s(), o.removeClass("in") }; var t = r.fn.tab; r.fn.tab = e, r.fn.tab.Constructor = a, r.fn.tab.noConflict = function () { return r.fn.tab = t, this }; var i = function (t) { t.preventDefault(), e.call(r(this), "show") }; r(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', i).on("click.bs.tab.data-api", '[data-toggle="pill"]', i) }(jQuery), function (l) { "use strict"; var h = function (t, e) { this.options = l.extend({}, h.DEFAULTS, e); var i = this.options.target === h.DEFAULTS.target ? l(this.options.target) : l(document).find(this.options.target); this.$target = i.on("scroll.bs.affix.data-api", l.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", l.proxy(this.checkPositionWithEventLoop, this)), this.$element = l(t), this.affixed = null, this.unpin = null, this.pinnedOffset = null, this.checkPosition() }; function i(o) { return this.each(function () { var t = l(this), e = t.data("bs.affix"), i = "object" == typeof o && o; e || t.data("bs.affix", e = new h(this, i)), "string" == typeof o && e[o]() }) } h.VERSION = "3.4.1", h.RESET = "affix affix-top affix-bottom", h.DEFAULTS = { offset: 0, target: window }, h.prototype.getState = function (t, e, i, o) { var n = this.$target.scrollTop(), s = this.$element.offset(), a = this.$target.height(); if (null != i && "top" == this.affixed) return n < i && "top"; if ("bottom" == this.affixed) return null != i ? !(n + this.unpin <= s.top) && "bottom" : !(n + a <= t - o) && "bottom"; var r = null == this.affixed, l = r ? n : s.top; return null != i && n <= i ? "top" : null != o && t - o <= l + (r ? a : e) && "bottom" }, h.prototype.getPinnedOffset = function () { if (this.pinnedOffset) return this.pinnedOffset; this.$element.removeClass(h.RESET).addClass("affix"); var t = this.$target.scrollTop(), e = this.$element.offset(); return this.pinnedOffset = e.top - t }, h.prototype.checkPositionWithEventLoop = function () { setTimeout(l.proxy(this.checkPosition, this), 1) }, h.prototype.checkPosition = function () { if (this.$element.is(":visible")) { var t = this.$element.height(), e = this.options.offset, i = e.top, o = e.bottom, n = Math.max(l(document).height(), l(document.body).height()); "object" != typeof e && (o = i = e), "function" == typeof i && (i = e.top(this.$element)), "function" == typeof o && (o = e.bottom(this.$element)); var s = this.getState(n, t, i, o); if (this.affixed != s) { null != this.unpin && this.$element.css("top", ""); var a = "affix" + (s ? "-" + s : ""), r = l.Event(a + ".bs.affix"); if (this.$element.trigger(r), r.isDefaultPrevented()) return; this.affixed = s, this.unpin = "bottom" == s ? this.getPinnedOffset() : null, this.$element.removeClass(h.RESET).addClass(a).trigger(a.replace("affix", "affixed") + ".bs.affix") } "bottom" == s && this.$element.offset({ top: n - t - o }) } }; var t = l.fn.affix; l.fn.affix = i, l.fn.affix.Constructor = h, l.fn.affix.noConflict = function () { return l.fn.affix = t, this }, l(window).on("load", function () { l('[data-spy="affix"]').each(function () { var t = l(this), e = t.data(); e.offset = e.offset || {}, null != e.offsetBottom && (e.offset.bottom = e.offsetBottom), null != e.offsetTop && (e.offset.top = e.offsetTop), i.call(t, e) }) }) }(jQuery);; /*
 * # Semantic UI - 2.2.9
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function (e, t, n, i) { e.site = e.fn.site = function (o) { var a, r, s = (new Date).getTime(), l = [], c = arguments[0], u = "string" == typeof c, d = [].slice.call(arguments, 1), f = e.isPlainObject(o) ? e.extend(!0, {}, e.site.settings, o) : e.extend({}, e.site.settings), m = f.namespace, g = f.error, p = "module-" + m, h = e(n), v = h, b = this, y = v.data(p); return a = { initialize: function () { a.instantiate() }, instantiate: function () { a.verbose("Storing instance of site", a), y = a, v.data(p, a) }, normalize: function () { a.fix.console(), a.fix.requestAnimationFrame() }, fix: { console: function () { a.debug("Normalizing window.console"), console !== i && console.log !== i || (a.verbose("Console not available, normalizing events"), a.disable.console()), "undefined" != typeof console.group && "undefined" != typeof console.groupEnd && "undefined" != typeof console.groupCollapsed || (a.verbose("Console group not available, normalizing events"), t.console.group = function () { }, t.console.groupEnd = function () { }, t.console.groupCollapsed = function () { }), "undefined" == typeof console.markTimeline && (a.verbose("Mark timeline not available, normalizing events"), t.console.markTimeline = function () { }) }, consoleClear: function () { a.debug("Disabling programmatic console clearing"), t.console.clear = function () { } }, requestAnimationFrame: function () { a.debug("Normalizing requestAnimationFrame"), t.requestAnimationFrame === i && (a.debug("RequestAnimationFrame not available, normalizing event"), t.requestAnimationFrame = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }) } }, moduleExists: function (t) { return e.fn[t] !== i && e.fn[t].settings !== i }, enabled: { modules: function (t) { var n = []; return t = t || f.modules, e.each(t, function (e, t) { a.moduleExists(t) && n.push(t) }), n } }, disabled: { modules: function (t) { var n = []; return t = t || f.modules, e.each(t, function (e, t) { a.moduleExists(t) || n.push(t) }), n } }, change: { setting: function (t, n, o, r) { o = "string" == typeof o ? "all" === o ? f.modules : [o] : o || f.modules, r = r === i || r, e.each(o, function (i, o) { var s, l = !a.moduleExists(o) || (e.fn[o].settings.namespace || !1); a.moduleExists(o) && (a.verbose("Changing default setting", t, n, o), e.fn[o].settings[t] = n, r && l && (s = e(":data(module-" + l + ")"), s.length > 0 && (a.verbose("Modifying existing settings", s), s[o]("setting", t, n)))) }) }, settings: function (t, n, o) { n = "string" == typeof n ? [n] : n || f.modules, o = o === i || o, e.each(n, function (n, i) { var r; a.moduleExists(i) && (a.verbose("Changing default setting", t, i), e.extend(!0, e.fn[i].settings, t), o && m && (r = e(":data(module-" + m + ")"), r.length > 0 && (a.verbose("Modifying existing settings", r), r[i]("setting", t)))) }) } }, enable: { console: function () { a.console(!0) }, debug: function (e, t) { e = e || f.modules, a.debug("Enabling debug for modules", e), a.change.setting("debug", !0, e, t) }, verbose: function (e, t) { e = e || f.modules, a.debug("Enabling verbose debug for modules", e), a.change.setting("verbose", !0, e, t) } }, disable: { console: function () { a.console(!1) }, debug: function (e, t) { e = e || f.modules, a.debug("Disabling debug for modules", e), a.change.setting("debug", !1, e, t) }, verbose: function (e, t) { e = e || f.modules, a.debug("Disabling verbose debug for modules", e), a.change.setting("verbose", !1, e, t) } }, console: function (e) { if (e) { if (y.cache.console === i) return void a.error(g.console); a.debug("Restoring console function"), t.console = y.cache.console } else a.debug("Disabling console function"), y.cache.console = t.console, t.console = { clear: function () { }, error: function () { }, group: function () { }, groupCollapsed: function () { }, groupEnd: function () { }, info: function () { }, log: function () { }, markTimeline: function () { }, warn: function () { } } }, destroy: function () { a.verbose("Destroying previous site for", v), v.removeData(p) }, cache: {}, setting: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, f, t); else { if (n === i) return f[t]; f[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, a, t); else { if (n === i) return a[t]; a[t] = n } }, debug: function () { f.debug && (f.performance ? a.performance.log(arguments) : (a.debug = Function.prototype.bind.call(console.info, console, f.name + ":"), a.debug.apply(console, arguments))) }, verbose: function () { f.verbose && f.debug && (f.performance ? a.performance.log(arguments) : (a.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"), a.verbose.apply(console, arguments))) }, error: function () { a.error = Function.prototype.bind.call(console.error, console, f.name + ":"), a.error.apply(console, arguments) }, performance: { log: function (e) { var t, n, i; f.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Element: b, Name: e[0], Arguments: [].slice.call(e, 1) || "", "Execution Time": n })), clearTimeout(a.performance.timer), a.performance.timer = setTimeout(a.performance.display, 500) }, display: function () { var t = f.name + ":", n = 0; s = !1, clearTimeout(a.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, o) { var s, l, c, u = y; return n = n || d, o = b || o, "string" == typeof t && u !== i && (t = t.split(/[\. ]/), s = t.length - 1, e.each(t, function (n, o) { var r = n != s ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(u[r]) && n != s) u = u[r]; else { if (u[r] !== i) return l = u[r], !1; if (!e.isPlainObject(u[o]) || n == s) return u[o] !== i ? (l = u[o], !1) : (a.error(g.method, t), !1); u = u[o] } })), e.isFunction(l) ? c = l.apply(o, n) : l !== i && (c = l), e.isArray(r) ? r.push(c) : r !== i ? r = [r, c] : c !== i && (r = c), l } }, u ? (y === i && a.initialize(), a.invoke(c)) : (y !== i && a.destroy(), a.initialize()), r !== i ? r : this }, e.site.settings = { name: "Site", namespace: "site", error: { console: "Console cannot be restored, most likely it was overwritten outside of module", method: "The method you called is not defined." }, debug: !1, verbose: !1, performance: !0, modules: ["accordion", "api", "checkbox", "dimmer", "dropdown", "embed", "form", "suimodal", "nag", "popup", "rating", "shape", "sidebar", "state", "sticky", "tab", "transition", "visit", "visibility"], siteNamespace: "site", namespaceStub: { cache: {}, config: {}, sections: {}, section: {}, utilities: {} } }, e.extend(e.expr[":"], { data: e.expr.createPseudo ? e.expr.createPseudo(function (t) { return function (n) { return !!e.data(n, t) } }) : function (t, n, i) { return !!e.data(t, i[3]) } }) }(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.form = function (t) { var o, a = e(this), r = a.selector || "", s = (new Date).getTime(), l = [], c = arguments[0], u = arguments[1], d = "string" == typeof c, f = [].slice.call(arguments, 1); return a.each(function () { var m, g, p, h, v, b, y, x, C, w, k, S, T, A, R, P, E, F, O, D = e(this), q = this, j = [], z = !1; O = { initialize: function () { O.get.settings(), d ? (F === i && O.instantiate(), O.invoke(c)) : (F !== i && F.invoke("destroy"), O.verbose("Initializing form validation", D, x), O.bindEvents(), O.set.defaults(), O.instantiate()) }, instantiate: function () { O.verbose("Storing instance of module", O), F = O, D.data(P, O) }, destroy: function () { O.verbose("Destroying previous module", F), O.removeEvents(), D.removeData(P) }, refresh: function () { O.verbose("Refreshing selector cache"), m = D.find(k.field), g = D.find(k.group), p = D.find(k.message), h = D.find(k.prompt), v = D.find(k.submit), b = D.find(k.clear), y = D.find(k.reset) }, submit: function () { O.verbose("Submitting form", D), D.submit() }, attachEvents: function (t, n) { n = n || "submit", e(t).on("click" + E, function (e) { O[n](), e.preventDefault() }) }, bindEvents: function () { O.verbose("Attaching form events"), D.on("submit" + E, O.validate.form).on("blur" + E, k.field, O.event.field.blur).on("click" + E, k.submit, O.submit).on("click" + E, k.reset, O.reset).on("click" + E, k.clear, O.clear), x.keyboardShortcuts && D.on("keydown" + E, k.field, O.event.field.keydown), m.each(function () { var t = e(this), n = t.prop("type"), i = O.get.changeEvent(n, t); e(this).on(i + E, O.event.field.change) }) }, clear: function () { m.each(function () { var t = e(this), n = t.parent(), i = t.closest(g), o = i.find(k.prompt), a = t.data(w.defaultValue) || "", r = n.is(k.uiCheckbox), s = n.is(k.uiDropdown), l = i.hasClass(S.error); l && (O.verbose("Resetting error on field", i), i.removeClass(S.error), o.remove()), s ? (O.verbose("Resetting dropdown value", n, a), n.dropdown("clear")) : r ? t.prop("checked", !1) : (O.verbose("Resetting field value", t, a), t.val("")) }) }, reset: function () { m.each(function () { var t = e(this), n = t.parent(), o = t.closest(g), a = o.find(k.prompt), r = t.data(w.defaultValue), s = n.is(k.uiCheckbox), l = n.is(k.uiDropdown), c = o.hasClass(S.error); r !== i && (c && (O.verbose("Resetting error on field", o), o.removeClass(S.error), a.remove()), l ? (O.verbose("Resetting dropdown value", n, r), n.dropdown("restore defaults")) : s ? (O.verbose("Resetting checkbox value", n, r), t.prop("checked", r)) : (O.verbose("Resetting field value", t, r), t.val(r))) }) }, determine: { isValid: function () { var t = !0; return e.each(C, function (e, n) { O.validate.field(n, e, !0) || (t = !1) }), t } }, is: { bracketedRule: function (e) { return e.type && e.type.match(x.regExp.bracket) }, empty: function (e) { return !e || 0 === e.length || (e.is('input[type="checkbox"]') ? !e.is(":checked") : O.is.blank(e)) }, blank: function (t) { return "" === e.trim(t.val()) }, valid: function (t) { var n = !0; return t ? (O.verbose("Checking if field is valid", t), O.validate.field(C[t], t, !1)) : (O.verbose("Checking if form is valid"), e.each(C, function (e, t) { O.is.valid(e) || (n = !1) }), n) } }, removeEvents: function () { D.off(E), m.off(E), v.off(E), m.off(E) }, event: { field: { keydown: function (t) { var n = e(this), i = t.which, o = n.is(k.input), a = n.is(k.checkbox), r = n.closest(k.uiDropdown).length > 0, s = { enter: 13, escape: 27 }; i == s.escape && (O.verbose("Escape key pressed blurring field"), n.blur()), t.ctrlKey || i != s.enter || !o || r || a || (z || (n.one("keyup" + E, O.event.field.keyup), O.submit(), O.debug("Enter pressed on input submitting form")), z = !0) }, keyup: function () { z = !1 }, blur: function (t) { var n = e(this), i = n.closest(g), o = O.get.validation(n); i.hasClass(S.error) ? (O.debug("Revalidating field", n, o), o && O.validate.field(o)) : "blur" != x.on && "change" != x.on || o && O.validate.field(o) }, change: function (t) { var n = e(this), i = n.closest(g), o = O.get.validation(n); o && ("change" == x.on || i.hasClass(S.error) && x.revalidate) && (clearTimeout(O.timer), O.timer = setTimeout(function () { O.debug("Revalidating field", n, O.get.validation(n)), O.validate.field(o) }, x.delay)) } } }, get: { ancillaryValue: function (e) { return !(!e.type || !e.value && !O.is.bracketedRule(e)) && (e.value !== i ? e.value : e.type.match(x.regExp.bracket)[1] + "") }, ruleName: function (e) { return O.is.bracketedRule(e) ? e.type.replace(e.type.match(x.regExp.bracket)[0], "") : e.type }, changeEvent: function (e, t) { return "checkbox" == e || "radio" == e || "hidden" == e || t.is("select") ? "change" : O.get.inputEvent() }, inputEvent: function () { return n.createElement("input").oninput !== i ? "input" : n.createElement("input").onpropertychange !== i ? "propertychange" : "keyup" }, prompt: function (e, t) { var n, i, o, a = O.get.ruleName(e), r = O.get.ancillaryValue(e), s = e.prompt || x.prompt[a] || x.text.unspecifiedRule, l = s.search("{value}") !== -1, c = s.search("{name}") !== -1; return (c || l) && (i = O.get.field(t.identifier)), l && (s = s.replace("{value}", i.val())), c && (n = i.closest(k.group).find("label").eq(0), o = 1 == n.length ? n.text() : i.prop("placeholder") || x.text.unspecifiedField, s = s.replace("{name}", o)), s = s.replace("{identifier}", t.identifier), s = s.replace("{ruleValue}", r), e.prompt || O.verbose("Using default validation prompt for type", s, a), s }, settings: function () { if (e.isPlainObject(t)) { var n, o = Object.keys(t), a = o.length > 0 && (t[o[0]].identifier !== i && t[o[0]].rules !== i); a ? (x = e.extend(!0, {}, e.fn.form.settings, u), C = e.extend({}, e.fn.form.settings.defaults, t), O.error(x.error.oldSyntax, q), O.verbose("Extending settings from legacy parameters", C, x)) : (t.fields && (n = Object.keys(t.fields), ("string" == typeof t.fields[n[0]] || e.isArray(t.fields[n[0]])) && e.each(t.fields, function (n, i) { "string" == typeof i && (i = [i]), t.fields[n] = { rules: [] }, e.each(i, function (e, i) { t.fields[n].rules.push({ type: i }) }) })), x = e.extend(!0, {}, e.fn.form.settings, t), C = e.extend({}, e.fn.form.settings.defaults, x.fields), O.verbose("Extending settings", C, x)) } else x = e.fn.form.settings, C = e.fn.form.settings.defaults, O.verbose("Using default form validation", C, x); R = x.namespace, w = x.metadata, k = x.selector, S = x.className, T = x.regExp, A = x.error, P = "module-" + R, E = "." + R, F = D.data(P), O.refresh() }, field: function (t) { return O.verbose("Finding field with identifier", t), t = O.escape.string(t), m.filter("#" + t).length > 0 ? m.filter("#" + t) : m.filter('[name="' + t + '"]').length > 0 ? m.filter('[name="' + t + '"]') : m.filter('[name="' + t + '[]"]').length > 0 ? m.filter('[name="' + t + '[]"]') : m.filter("[data-" + w.validate + '="' + t + '"]').length > 0 ? m.filter("[data-" + w.validate + '="' + t + '"]') : e("<input/>") }, fields: function (t) { var n = e(); return e.each(t, function (e, t) { n = n.add(O.get.field(t)) }), n }, validation: function (t) { var n, i; return !!C && (e.each(C, function (e, o) { i = o.identifier || e, O.get.field(i)[0] == t[0] && (o.identifier = i, n = o) }), n || !1) }, value: function (e) { var t, n = []; return n.push(e), t = O.get.values.call(q, n), t[e] }, values: function (t) { var n = e.isArray(t) ? O.get.fields(t) : m, i = {}; return n.each(function (t, n) { var o = e(n), a = (o.prop("type"), o.prop("name")), r = o.val(), s = o.is(k.checkbox), l = o.is(k.radio), c = a.indexOf("[]") !== -1, u = !!s && o.is(":checked"); a && (c ? (a = a.replace("[]", ""), i[a] || (i[a] = []), s ? u ? i[a].push(r || !0) : i[a].push(!1) : i[a].push(r)) : l ? u && (i[a] = r) : s ? u ? i[a] = r || !0 : i[a] = !1 : i[a] = r) }), i } }, has: { field: function (e) { return O.verbose("Checking for existence of a field with identifier", e), e = O.escape.string(e), "string" != typeof e && O.error(A.identifier, e), m.filter("#" + e).length > 0 || (m.filter('[name="' + e + '"]').length > 0 || m.filter("[data-" + w.validate + '="' + e + '"]').length > 0) } }, escape: { string: function (e) { return e = String(e), e.replace(T.escape, "\\$&") } }, add: { prompt: function (t, n) { var o = O.get.field(t), a = o.closest(g), r = a.children(k.prompt), s = 0 !== r.length; n = "string" == typeof n ? [n] : n, O.verbose("Adding field error state", t), a.addClass(S.error), x.inline && (s || (r = x.templates.prompt(n), r.appendTo(a)), r.html(n[0]), s ? O.verbose("Inline errors are disabled, no inline error added", t) : x.transition && e.fn.transition !== i && D.transition("is supported") ? (O.verbose("Displaying error with css transition", x.transition), r.transition(x.transition + " in", x.duration)) : (O.verbose("Displaying error with fallback javascript animation"), r.fadeIn(x.duration))) }, errors: function (e) { O.debug("Adding form error messages", e), O.set.error(), p.html(x.templates.error(e)) } }, remove: { prompt: function (t) { var n = O.get.field(t), o = n.closest(g), a = o.children(k.prompt); o.removeClass(S.error), x.inline && a.is(":visible") && (O.verbose("Removing prompt for field", t), x.transition && e.fn.transition !== i && D.transition("is supported") ? a.transition(x.transition + " out", x.duration, function () { a.remove() }) : a.fadeOut(x.duration, function () { a.remove() })) } }, set: { success: function () { D.removeClass(S.error).addClass(S.success) }, defaults: function () { m.each(function () { var t = e(this), n = t.filter(k.checkbox).length > 0, i = n ? t.is(":checked") : t.val(); t.data(w.defaultValue, i) }) }, error: function () { D.removeClass(S.success).addClass(S.error) }, value: function (e, t) { var n = {}; return n[e] = t, O.set.values.call(q, n) }, values: function (t) { e.isEmptyObject(t) || e.each(t, function (t, n) { var i, o = O.get.field(t), a = o.parent(), r = e.isArray(n), s = a.is(k.uiCheckbox), l = a.is(k.uiDropdown), c = o.is(k.radio) && s, u = o.length > 0; u && (r && s ? (O.verbose("Selecting multiple", n, o), a.checkbox("uncheck"), e.each(n, function (e, t) { i = o.filter('[value="' + t + '"]'), a = i.parent(), i.length > 0 && a.checkbox("check") })) : c ? (O.verbose("Selecting radio value", n, o), o.filter('[value="' + n + '"]').parent(k.uiCheckbox).checkbox("check")) : s ? (O.verbose("Setting checkbox value", n, a), n === !0 ? a.checkbox("check") : a.checkbox("uncheck")) : l ? (O.verbose("Setting dropdown value", n, a), a.dropdown("set selected", n)) : (O.verbose("Setting field value", n, o), o.val(n))) }) } }, validate: { form: function (e, t) { var n = O.get.values(); if (z) return !1; if (j = [], O.determine.isValid()) { if (O.debug("Form has no validation errors, submitting"), O.set.success(), t !== !0) return x.onSuccess.call(q, e, n) } else if (O.debug("Form has errors"), O.set.error(), x.inline || O.add.errors(j), D.data("moduleApi") !== i && e.stopImmediatePropagation(), t !== !0) return x.onFailure.call(q, j, n) }, field: function (t, n, o) { o = o === i || o, "string" == typeof t && (O.verbose("Validating field", t), n = t, t = C[t]); var a = t.identifier || n, r = O.get.field(a), s = !!t.depends && O.get.field(t.depends), l = !0, c = []; return t.identifier || (O.debug("Using field name as identifier", a), t.identifier = a), r.prop("disabled") ? (O.debug("Field is disabled. Skipping", a), l = !0) : t.optional && O.is.blank(r) ? (O.debug("Field is optional and blank. Skipping", a), l = !0) : t.depends && O.is.empty(s) ? (O.debug("Field depends on another value that is not present or empty. Skipping", s), l = !0) : t.rules !== i && e.each(t.rules, function (e, n) { O.has.field(a) && !O.validate.rule(t, n) && (O.debug("Field is invalid", a, n.type), c.push(O.get.prompt(n, t)), l = !1) }), l ? (o && (O.remove.prompt(a, c), x.onValid.call(r)), !0) : (o && (j = j.concat(c), O.add.prompt(a, c), x.onInvalid.call(r, c)), !1) }, rule: function (t, n) { var o = O.get.field(t.identifier), a = (n.type, o.val()), r = O.get.ancillaryValue(n), s = O.get.ruleName(n), l = x.rules[s]; return e.isFunction(l) ? (a = a === i || "" === a || null === a ? "" : e.trim(a + ""), l.call(o, a, r)) : void O.error(A.noRule, s) } }, setting: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, x, t); else { if (n === i) return x[t]; x[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, O, t); else { if (n === i) return O[t]; O[t] = n } }, debug: function () { !x.silent && x.debug && (x.performance ? O.performance.log(arguments) : (O.debug = Function.prototype.bind.call(console.info, console, x.name + ":"), O.debug.apply(console, arguments))) }, verbose: function () { !x.silent && x.verbose && x.debug && (x.performance ? O.performance.log(arguments) : (O.verbose = Function.prototype.bind.call(console.info, console, x.name + ":"), O.verbose.apply(console, arguments))) }, error: function () { x.silent || (O.error = Function.prototype.bind.call(console.error, console, x.name + ":"), O.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; x.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: q, "Execution Time": n })), clearTimeout(O.performance.timer), O.performance.timer = setTimeout(O.performance.display, 500) }, display: function () { var t = x.name + ":", n = 0; s = !1, clearTimeout(O.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", r && (t += " '" + r + "'"), a.length > 1 && (t += " (" + a.length + ")"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, a) { var r, s, l, c = F; return n = n || f, a = q || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o], !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(a, n) : s !== i && (l = s), e.isArray(o) ? o.push(l) : o !== i ? o = [o, l] : l !== i && (o = l), s } }, O.initialize() }), o !== i ? o : this }, e.fn.form.settings = { name: "Form", namespace: "form", debug: !1, verbose: !1, performance: !0, fields: !1, keyboardShortcuts: !0, on: "submit", inline: !1, delay: 200, revalidate: !0, transition: "scale", duration: 200, onValid: function () { }, onInvalid: function () { }, onSuccess: function () { return !0 }, onFailure: function () { return !1 }, metadata: { defaultValue: "default", validate: "validate" }, regExp: { htmlID: /^[a-zA-Z][\w:.-]*$/g, bracket: /\[(.*)\]/i, decimal: /^\d+\.?\d*$/, email: /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i, escape: /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, flags: /^\/(.*)\/(.*)?/, integer: /^\-?\d+$/, number: /^\-?\d*(\.\d+)?$/, url: /(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i }, text: { unspecifiedRule: "Please enter a valid value", unspecifiedField: "This field" }, prompt: { empty: "{name} must have a value", checked: "{name} must be checked", email: "{name} must be a valid e-mail", url: "{name} must be a valid url", regExp: "{name} is not formatted correctly", integer: "{name} must be an integer", decimal: "{name} must be a decimal number", number: "{name} must be set to a number", is: '{name} must be "{ruleValue}"', isExactly: '{name} must be exactly "{ruleValue}"', not: '{name} cannot be set to "{ruleValue}"', notExactly: '{name} cannot be set to exactly "{ruleValue}"', contain: '{name} cannot contain "{ruleValue}"', containExactly: '{name} cannot contain exactly "{ruleValue}"', doesntContain: '{name} must contain  "{ruleValue}"', doesntContainExactly: '{name} must contain exactly "{ruleValue}"', minLength: "{name} must be at least {ruleValue} characters", length: "{name} must be at least {ruleValue} characters", exactLength: "{name} must be exactly {ruleValue} characters", maxLength: "{name} cannot be longer than {ruleValue} characters", match: "{name} must match {ruleValue} field", different: "{name} must have a different value than {ruleValue} field", creditCard: "{name} must be a valid credit card number", minCount: "{name} must have at least {ruleValue} choices", exactCount: "{name} must have exactly {ruleValue} choices", maxCount: "{name} must have {ruleValue} or less choices" }, selector: { checkbox: 'input[type="checkbox"], input[type="radio"]', clear: ".clear", field: "input, textarea, select", group: ".field", input: "input", message: ".error.message", prompt: ".prompt.label", radio: 'input[type="radio"]', reset: '.reset:not([type="reset"])', submit: '.submit:not([type="submit"])', uiCheckbox: ".ui.checkbox", uiDropdown: ".ui.dropdown" }, className: { error: "error", label: "ui prompt label", pressed: "down", success: "success" }, error: { identifier: "You must specify a string identifier for each field", method: "The method you called is not defined.", noRule: "There is no rule matching the one you specified", oldSyntax: "Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically." }, templates: { error: function (t) { var n = '<ul class="list">'; return e.each(t, function (e, t) { n += "<li>" + t + "</li>" }), n += "</ul>", e(n) }, prompt: function (t) { return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0]) } }, rules: { empty: function (t) { return !(t === i || "" === t || e.isArray(t) && 0 === t.length) }, checked: function () { return e(this).filter(":checked").length > 0 }, email: function (t) { return e.fn.form.settings.regExp.email.test(t) }, url: function (t) { return e.fn.form.settings.regExp.url.test(t) }, regExp: function (t, n) { if (n instanceof RegExp) return t.match(n); var i, o = n.match(e.fn.form.settings.regExp.flags); return o && (n = o.length >= 2 ? o[1] : n, i = o.length >= 3 ? o[2] : ""), t.match(new RegExp(n, i)) }, integer: function (t, n) { var o, a, r, s = e.fn.form.settings.regExp.integer; return n && ["", ".."].indexOf(n) === -1 && (n.indexOf("..") == -1 ? s.test(n) && (o = a = n - 0) : (r = n.split("..", 2), s.test(r[0]) && (o = r[0] - 0), s.test(r[1]) && (a = r[1] - 0))), s.test(t) && (o === i || t >= o) && (a === i || t <= a) }, decimal: function (t) { return e.fn.form.settings.regExp.decimal.test(t) }, number: function (t) { return e.fn.form.settings.regExp.number.test(t) }, is: function (e, t) { return t = "string" == typeof t ? t.toLowerCase() : t, e = "string" == typeof e ? e.toLowerCase() : e, e == t }, isExactly: function (e, t) { return e == t }, not: function (e, t) { return e = "string" == typeof e ? e.toLowerCase() : e, t = "string" == typeof t ? t.toLowerCase() : t, e != t }, notExactly: function (e, t) { return e != t }, contains: function (t, n) { return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"), t.search(new RegExp(n, "i")) !== -1 }, containsExactly: function (t, n) { return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"), t.search(new RegExp(n)) !== -1 }, doesntContain: function (t, n) { return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"), t.search(new RegExp(n, "i")) === -1 }, doesntContainExactly: function (t, n) { return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"), t.search(new RegExp(n)) === -1 }, minLength: function (e, t) { return e !== i && e.length >= t }, length: function (e, t) { return e !== i && e.length >= t }, exactLength: function (e, t) { return e !== i && e.length == t }, maxLength: function (e, t) { return e !== i && e.length <= t }, match: function (t, n) { var o; e(this); return e('[data-validate="' + n + '"]').length > 0 ? o = e('[data-validate="' + n + '"]').val() : e("#" + n).length > 0 ? o = e("#" + n).val() : e('[name="' + n + '"]').length > 0 ? o = e('[name="' + n + '"]').val() : e('[name="' + n + '[]"]').length > 0 && (o = e('[name="' + n + '[]"]')), o !== i && t.toString() == o.toString() }, different: function (t, n) { var o; e(this); return e('[data-validate="' + n + '"]').length > 0 ? o = e('[data-validate="' + n + '"]').val() : e("#" + n).length > 0 ? o = e("#" + n).val() : e('[name="' + n + '"]').length > 0 ? o = e('[name="' + n + '"]').val() : e('[name="' + n + '[]"]').length > 0 && (o = e('[name="' + n + '[]"]')), o !== i && t.toString() !== o.toString() }, creditCard: function (t, n) { var i, o, a = { visa: { pattern: /^4/, length: [16] }, amex: { pattern: /^3[47]/, length: [15] }, mastercard: { pattern: /^5[1-5]/, length: [16] }, discover: { pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/, length: [16] }, unionPay: { pattern: /^(62|88)/, length: [16, 17, 18, 19] }, jcb: { pattern: /^35(2[89]|[3-8][0-9])/, length: [16] }, maestro: { pattern: /^(5018|5020|5038|6304|6759|676[1-3])/, length: [12, 13, 14, 15, 16, 17, 18, 19] }, dinersClub: { pattern: /^(30[0-5]|^36)/, length: [14] }, laser: { pattern: /^(6304|670[69]|6771)/, length: [16, 17, 18, 19] }, visaElectron: { pattern: /^(4026|417500|4508|4844|491(3|7))/, length: [16] } }, r = {}, s = !1, l = "string" == typeof n && n.split(","); if ("string" == typeof t && 0 !== t.length) { if (l && (e.each(l, function (n, i) { o = a[i], o && (r = { length: e.inArray(t.length, o.length) !== -1, pattern: t.search(o.pattern) !== -1 }, r.length && r.pattern && (s = !0)) }), !s)) return !1; if (i = { number: e.inArray(t.length, a.unionPay.length) !== -1, pattern: t.search(a.unionPay.pattern) !== -1 }, i.number && i.pattern) return !0; for (var c = t.length, u = 0, d = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]], f = 0; c--;)f += d[u][parseInt(t.charAt(c), 10)], u ^= 1; return f % 10 === 0 && f > 0 } }, minCount: function (e, t) { return 0 == t || (1 == t ? "" !== e : e.split(",").length >= t) }, exactCount: function (e, t) { return 0 == t ? "" === e : 1 == t ? "" !== e && e.search(",") === -1 : e.split(",").length == t }, maxCount: function (e, t) { return 0 != t && (1 == t ? e.search(",") === -1 : e.split(",").length <= t) } } } }(jQuery, window, document), function (e, t, n, i) {
  "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.accordion = function (n) {
    var o, a = e(this), r = (new Date).getTime(), s = [], l = arguments[0], c = "string" == typeof l, u = [].slice.call(arguments, 1); t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }; return a.each(function () {
      var d, f, m = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.accordion.settings, n) : e.extend({}, e.fn.accordion.settings), g = m.className, p = m.namespace, h = m.selector, v = m.error, b = "." + p, y = "module-" + p, x = a.selector || "", C = e(this), w = C.find(h.title), k = C.find(h.content), S = this, T = C.data(y); f = {
        initialize: function () { f.debug("Initializing", C), f.bind.events(), m.observeChanges && f.observeChanges(), f.instantiate() }, instantiate: function () { T = f, C.data(y, f) }, destroy: function () { f.debug("Destroying previous instance", C), C.off(b).removeData(y) }, refresh: function () { w = C.find(h.title), k = C.find(h.content) }, observeChanges: function () { "MutationObserver" in t && (d = new MutationObserver(function (e) { f.debug("DOM tree modified, updating selector cache"), f.refresh() }), d.observe(S, { childList: !0, subtree: !0 }), f.debug("Setting up mutation observer", d)) }, bind: { events: function () { f.debug("Binding delegated events"), C.on(m.on + b, h.trigger, f.event.click) } }, event: { click: function () { f.toggle.call(this) } }, toggle: function (t) { var n = t !== i ? "number" == typeof t ? w.eq(t) : e(t).closest(h.title) : e(this).closest(h.title), o = n.next(k), a = o.hasClass(g.animating), r = o.hasClass(g.active), s = r && !a, l = !r && a; f.debug("Toggling visibility of content", n), s || l ? m.collapsible ? f.close.call(n) : f.debug("Cannot close accordion content collapsing is disabled") : f.open.call(n) }, open: function (t) { var n = t !== i ? "number" == typeof t ? w.eq(t) : e(t).closest(h.title) : e(this).closest(h.title), o = n.next(k), a = o.hasClass(g.animating), r = o.hasClass(g.active), s = r || a; return s ? void f.debug("Accordion already open, skipping", o) : (f.debug("Opening accordion content", n), m.onOpening.call(o), m.exclusive && f.closeOthers.call(n), n.addClass(g.active), o.stop(!0, !0).addClass(g.animating), m.animateChildren && (e.fn.transition !== i && C.transition("is supported") ? o.children().transition({ animation: "fade in", queue: !1, useFailSafe: !0, debug: m.debug, verbose: m.verbose, duration: m.duration }) : o.children().stop(!0, !0).animate({ opacity: 1 }, m.duration, f.resetOpacity)), void o.slideDown(m.duration, m.easing, function () { o.removeClass(g.animating).addClass(g.active), f.reset.display.call(this), m.onOpen.call(this), m.onChange.call(this) })) }, close: function (t) { var n = t !== i ? "number" == typeof t ? w.eq(t) : e(t).closest(h.title) : e(this).closest(h.title), o = n.next(k), a = o.hasClass(g.animating), r = o.hasClass(g.active), s = !r && a, l = r && a; !r && !s || l || (f.debug("Closing accordion content", o), m.onClosing.call(o), n.removeClass(g.active), o.stop(!0, !0).addClass(g.animating), m.animateChildren && (e.fn.transition !== i && C.transition("is supported") ? o.children().transition({ animation: "fade out", queue: !1, useFailSafe: !0, debug: m.debug, verbose: m.verbose, duration: m.duration }) : o.children().stop(!0, !0).animate({ opacity: 0 }, m.duration, f.resetOpacity)), o.slideUp(m.duration, m.easing, function () { o.removeClass(g.animating).removeClass(g.active), f.reset.display.call(this), m.onClose.call(this), m.onChange.call(this) })) }, closeOthers: function (t) { var n, o, a, r = t !== i ? w.eq(t) : e(this).closest(h.title), s = r.parents(h.content).prev(h.title), l = r.closest(h.accordion), c = h.title + "." + g.active + ":visible", u = h.content + "." + g.active + ":visible"; m.closeNested ? (n = l.find(c).not(s), a = n.next(k)) : (n = l.find(c).not(s), o = l.find(u).find(c).not(s), n = n.not(o), a = n.next(k)), n.length > 0 && (f.debug("Exclusive enabled, closing other content", n), n.removeClass(g.active), a.removeClass(g.animating).stop(!0, !0), m.animateChildren && (e.fn.transition !== i && C.transition("is supported") ? a.children().transition({ animation: "fade out", useFailSafe: !0, debug: m.debug, verbose: m.verbose, duration: m.duration }) : a.children().stop(!0, !0).animate({ opacity: 0 }, m.duration, f.resetOpacity)), a.slideUp(m.duration, m.easing, function () { e(this).removeClass(g.active), f.reset.display.call(this) })) }, reset: { display: function () { f.verbose("Removing inline display from element", this), e(this).css("display", ""), "" === e(this).attr("style") && e(this).attr("style", "").removeAttr("style") }, opacity: function () { f.verbose("Removing inline opacity from element", this), e(this).css("opacity", ""), "" === e(this).attr("style") && e(this).attr("style", "").removeAttr("style") } }, setting: function (t, n) { if (f.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; e.isPlainObject(m[t]) ? e.extend(!0, m[t], n) : m[t] = n } }, internal: function (t, n) { return f.debug("Changing internal", t, n), n === i ? f[t] : void (e.isPlainObject(t) ? e.extend(!0, f, t) : f[t] = n) }, debug: function () { !m.silent && m.debug && (m.performance ? f.performance.log(arguments) : (f.debug = Function.prototype.bind.call(console.info, console, m.name + ":"), f.debug.apply(console, arguments))) }, verbose: function () { !m.silent && m.verbose && m.debug && (m.performance ? f.performance.log(arguments) : (f.verbose = Function.prototype.bind.call(console.info, console, m.name + ":"), f.verbose.apply(console, arguments))) }, error: function () { m.silent || (f.error = Function.prototype.bind.call(console.error, console, m.name + ":"), f.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; m.performance && (t = (new Date).getTime(), i = r || t, n = t - i, r = t, s.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: S, "Execution Time": n })), clearTimeout(f.performance.timer), f.performance.timer = setTimeout(f.performance.display, 500) }, display: function () { var t = m.name + ":", n = 0; r = !1, clearTimeout(f.performance.timer), e.each(s, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", x && (t += " '" + x + "'"), (console.group !== i || console.table !== i) && s.length > 0 && (console.groupCollapsed(t), console.table ? console.table(s) : e.each(s, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), s = [] } }, invoke: function (t, n, a) {
          var r, s, l, c = T; return n = n || u, a = S || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (f.error(v.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(a, n) : s !== i && (l = s),
            e.isArray(o) ? o.push(l) : o !== i ? o = [o, l] : l !== i && (o = l), s
        }
      }, c ? (T === i && f.initialize(), f.invoke(l)) : (T !== i && T.invoke("destroy"), f.initialize())
    }), o !== i ? o : this
  }, e.fn.accordion.settings = { name: "Accordion", namespace: "accordion", silent: !1, debug: !1, verbose: !1, performance: !0, on: "click", observeChanges: !0, exclusive: !0, collapsible: !0, closeNested: !1, animateChildren: !0, duration: 350, easing: "easeOutQuad", onOpening: function () { }, onOpen: function () { }, onClosing: function () { }, onClose: function () { }, onChange: function () { }, error: { method: "The method you called is not defined" }, className: { active: "active", animating: "animating" }, selector: { accordion: ".accordion", title: ".title", trigger: ".title", content: ".content" } }, e.extend(e.easing, { easeOutQuad: function (e, t, n, i, o) { return -i * (t /= o) * (t - 2) + n } })
}(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.checkbox = function (o) { var a, r = e(this), s = r.selector || "", l = (new Date).getTime(), c = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1); return r.each(function () { var r, m, g = e.extend(!0, {}, e.fn.checkbox.settings, o), p = g.className, h = g.namespace, v = g.selector, b = g.error, y = "." + h, x = "module-" + h, C = e(this), w = e(this).children(v.label), k = e(this).children(v.input), S = k[0], T = !1, A = !1, R = C.data(x), P = this; m = { initialize: function () { m.verbose("Initializing checkbox", g), m.create.label(), m.bind.events(), m.set.tabbable(), m.hide.input(), m.observeChanges(), m.instantiate(), m.setup() }, instantiate: function () { m.verbose("Storing instance of module", m), R = m, C.data(x, m) }, destroy: function () { m.verbose("Destroying module"), m.unbind.events(), m.show.input(), C.removeData(x) }, fix: { reference: function () { C.is(v.input) && (m.debug("Behavior called on <input> adjusting invoked element"), C = C.closest(v.checkbox), m.refresh()) } }, setup: function () { m.set.initialLoad(), m.is.indeterminate() ? (m.debug("Initial value is indeterminate"), m.indeterminate()) : m.is.checked() ? (m.debug("Initial value is checked"), m.check()) : (m.debug("Initial value is unchecked"), m.uncheck()), m.remove.initialLoad() }, refresh: function () { w = C.children(v.label), k = C.children(v.input), S = k[0] }, hide: { input: function () { m.verbose("Modifying <input> z-index to be unselectable"), k.addClass(p.hidden) } }, show: { input: function () { m.verbose("Modifying <input> z-index to be selectable"), k.removeClass(p.hidden) } }, observeChanges: function () { "MutationObserver" in t && (r = new MutationObserver(function (e) { m.debug("DOM tree modified, updating selector cache"), m.refresh() }), r.observe(P, { childList: !0, subtree: !0 }), m.debug("Setting up mutation observer", r)) }, attachEvents: function (t, n) { var i = e(t); n = e.isFunction(m[n]) ? m[n] : m.toggle, i.length > 0 ? (m.debug("Attaching checkbox events to element", t, n), i.on("click" + y, n)) : m.error(b.notFound) }, event: { click: function (t) { var n = e(t.target); return n.is(v.input) ? void m.verbose("Using default check action on initialized checkbox") : n.is(v.link) ? void m.debug("Clicking link inside checkbox, skipping toggle") : (m.toggle(), k.focus(), void t.preventDefault()) }, keydown: function (e) { var t = e.which, n = { enter: 13, space: 32, escape: 27 }; t == n.escape ? (m.verbose("Escape key pressed blurring field"), k.blur(), A = !0) : e.ctrlKey || t != n.space && t != n.enter ? A = !1 : (m.verbose("Enter/space key pressed, toggling checkbox"), m.toggle(), A = !0) }, keyup: function (e) { A && e.preventDefault() } }, check: function () { m.should.allowCheck() && (m.debug("Checking checkbox", k), m.set.checked(), m.should.ignoreCallbacks() || (g.onChecked.call(S), g.onChange.call(S))) }, uncheck: function () { m.should.allowUncheck() && (m.debug("Unchecking checkbox"), m.set.unchecked(), m.should.ignoreCallbacks() || (g.onUnchecked.call(S), g.onChange.call(S))) }, indeterminate: function () { return m.should.allowIndeterminate() ? void m.debug("Checkbox is already indeterminate") : (m.debug("Making checkbox indeterminate"), m.set.indeterminate(), void (m.should.ignoreCallbacks() || (g.onIndeterminate.call(S), g.onChange.call(S)))) }, determinate: function () { return m.should.allowDeterminate() ? void m.debug("Checkbox is already determinate") : (m.debug("Making checkbox determinate"), m.set.determinate(), void (m.should.ignoreCallbacks() || (g.onDeterminate.call(S), g.onChange.call(S)))) }, enable: function () { return m.is.enabled() ? void m.debug("Checkbox is already enabled") : (m.debug("Enabling checkbox"), m.set.enabled(), g.onEnable.call(S), void g.onEnabled.call(S)) }, disable: function () { return m.is.disabled() ? void m.debug("Checkbox is already disabled") : (m.debug("Disabling checkbox"), m.set.disabled(), g.onDisable.call(S), void g.onDisabled.call(S)) }, get: { radios: function () { var t = m.get.name(); return e('input[name="' + t + '"]').closest(v.checkbox) }, otherRadios: function () { return m.get.radios().not(C) }, name: function () { return k.attr("name") } }, is: { initialLoad: function () { return T }, radio: function () { return k.hasClass(p.radio) || "radio" == k.attr("type") }, indeterminate: function () { return k.prop("indeterminate") !== i && k.prop("indeterminate") }, checked: function () { return k.prop("checked") !== i && k.prop("checked") }, disabled: function () { return k.prop("disabled") !== i && k.prop("disabled") }, enabled: function () { return !m.is.disabled() }, determinate: function () { return !m.is.indeterminate() }, unchecked: function () { return !m.is.checked() } }, should: { allowCheck: function () { return m.is.determinate() && m.is.checked() && !m.should.forceCallbacks() ? (m.debug("Should not allow check, checkbox is already checked"), !1) : g.beforeChecked.apply(S) !== !1 || (m.debug("Should not allow check, beforeChecked cancelled"), !1) }, allowUncheck: function () { return m.is.determinate() && m.is.unchecked() && !m.should.forceCallbacks() ? (m.debug("Should not allow uncheck, checkbox is already unchecked"), !1) : g.beforeUnchecked.apply(S) !== !1 || (m.debug("Should not allow uncheck, beforeUnchecked cancelled"), !1) }, allowIndeterminate: function () { return m.is.indeterminate() && !m.should.forceCallbacks() ? (m.debug("Should not allow indeterminate, checkbox is already indeterminate"), !1) : g.beforeIndeterminate.apply(S) !== !1 || (m.debug("Should not allow indeterminate, beforeIndeterminate cancelled"), !1) }, allowDeterminate: function () { return m.is.determinate() && !m.should.forceCallbacks() ? (m.debug("Should not allow determinate, checkbox is already determinate"), !1) : g.beforeDeterminate.apply(S) !== !1 || (m.debug("Should not allow determinate, beforeDeterminate cancelled"), !1) }, forceCallbacks: function () { return m.is.initialLoad() && g.fireOnInit }, ignoreCallbacks: function () { return T && !g.fireOnInit } }, can: { change: function () { return !(C.hasClass(p.disabled) || C.hasClass(p.readOnly) || k.prop("disabled") || k.prop("readonly")) }, uncheck: function () { return "boolean" == typeof g.uncheckable ? g.uncheckable : !m.is.radio() } }, set: { initialLoad: function () { T = !0 }, checked: function () { return m.verbose("Setting class to checked"), C.removeClass(p.indeterminate).addClass(p.checked), m.is.radio() && m.uncheckOthers(), !m.is.indeterminate() && m.is.checked() ? void m.debug("Input is already checked, skipping input property change") : (m.verbose("Setting state to checked", S), k.prop("indeterminate", !1).prop("checked", !0), void m.trigger.change()) }, unchecked: function () { return m.verbose("Removing checked class"), C.removeClass(p.indeterminate).removeClass(p.checked), !m.is.indeterminate() && m.is.unchecked() ? void m.debug("Input is already unchecked") : (m.debug("Setting state to unchecked"), k.prop("indeterminate", !1).prop("checked", !1), void m.trigger.change()) }, indeterminate: function () { return m.verbose("Setting class to indeterminate"), C.addClass(p.indeterminate), m.is.indeterminate() ? void m.debug("Input is already indeterminate, skipping input property change") : (m.debug("Setting state to indeterminate"), k.prop("indeterminate", !0), void m.trigger.change()) }, determinate: function () { return m.verbose("Removing indeterminate class"), C.removeClass(p.indeterminate), m.is.determinate() ? void m.debug("Input is already determinate, skipping input property change") : (m.debug("Setting state to determinate"), void k.prop("indeterminate", !1)) }, disabled: function () { return m.verbose("Setting class to disabled"), C.addClass(p.disabled), m.is.disabled() ? void m.debug("Input is already disabled, skipping input property change") : (m.debug("Setting state to disabled"), k.prop("disabled", "disabled"), void m.trigger.change()) }, enabled: function () { return m.verbose("Removing disabled class"), C.removeClass(p.disabled), m.is.enabled() ? void m.debug("Input is already enabled, skipping input property change") : (m.debug("Setting state to enabled"), k.prop("disabled", !1), void m.trigger.change()) }, tabbable: function () { m.verbose("Adding tabindex to checkbox"), k.attr("tabindex") === i && k.attr("tabindex", 0) } }, remove: { initialLoad: function () { T = !1 } }, trigger: { change: function () { var e = n.createEvent("HTMLEvents"), t = k[0]; t && (m.verbose("Triggering native change event"), e.initEvent("change", !0, !1), t.dispatchEvent(e)) } }, create: { label: function () { k.prevAll(v.label).length > 0 ? (k.prev(v.label).detach().insertAfter(k), m.debug("Moving existing label", w)) : m.has.label() || (w = e("<label>").insertAfter(k), m.debug("Creating label", w)) } }, has: { label: function () { return w.length > 0 } }, bind: { events: function () { m.verbose("Attaching checkbox events"), C.on("click" + y, m.event.click).on("keydown" + y, v.input, m.event.keydown).on("keyup" + y, v.input, m.event.keyup) } }, unbind: { events: function () { m.debug("Removing events"), C.off(y) } }, uncheckOthers: function () { var e = m.get.otherRadios(); m.debug("Unchecking other radios", e), e.removeClass(p.checked) }, toggle: function () { return m.can.change() ? void (m.is.indeterminate() || m.is.unchecked() ? (m.debug("Currently unchecked"), m.check()) : m.is.checked() && m.can.uncheck() && (m.debug("Currently checked"), m.uncheck())) : void (m.is.radio() || m.debug("Checkbox is read-only or disabled, ignoring toggle")) }, setting: function (t, n) { if (m.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, g, t); else { if (n === i) return g[t]; e.isPlainObject(g[t]) ? e.extend(!0, g[t], n) : g[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; m[t] = n } }, debug: function () { !g.silent && g.debug && (g.performance ? m.performance.log(arguments) : (m.debug = Function.prototype.bind.call(console.info, console, g.name + ":"), m.debug.apply(console, arguments))) }, verbose: function () { !g.silent && g.verbose && g.debug && (g.performance ? m.performance.log(arguments) : (m.verbose = Function.prototype.bind.call(console.info, console, g.name + ":"), m.verbose.apply(console, arguments))) }, error: function () { g.silent || (m.error = Function.prototype.bind.call(console.error, console, g.name + ":"), m.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; g.performance && (t = (new Date).getTime(), i = l || t, n = t - i, l = t, c.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: P, "Execution Time": n })), clearTimeout(m.performance.timer), m.performance.timer = setTimeout(m.performance.display, 500) }, display: function () { var t = g.name + ":", n = 0; l = !1, clearTimeout(m.performance.timer), e.each(c, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", s && (t += " '" + s + "'"), (console.group !== i || console.table !== i) && c.length > 0 && (console.groupCollapsed(t), console.table ? console.table(c) : e.each(c, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), c = [] } }, invoke: function (t, n, o) { var r, s, l, c = R; return n = n || f, o = P || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (m.error(b.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s } }, d ? (R === i && m.initialize(), m.invoke(u)) : (R !== i && R.invoke("destroy"), m.initialize()) }), a !== i ? a : this }, e.fn.checkbox.settings = { name: "Checkbox", namespace: "checkbox", silent: !1, debug: !1, verbose: !0, performance: !0, uncheckable: "auto", fireOnInit: !1, onChange: function () { }, beforeChecked: function () { }, beforeUnchecked: function () { }, beforeDeterminate: function () { }, beforeIndeterminate: function () { }, onChecked: function () { }, onUnchecked: function () { }, onDeterminate: function () { }, onIndeterminate: function () { }, onEnable: function () { }, onDisable: function () { }, onEnabled: function () { }, onDisabled: function () { }, className: { checked: "checked", indeterminate: "indeterminate", disabled: "disabled", hidden: "hidden", radio: "radio", readOnly: "read-only" }, error: { method: "The method you called is not defined" }, selector: { checkbox: ".ui.checkbox", label: "label, .box", input: 'input[type="checkbox"], input[type="radio"]', link: "a[href]" } } }(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.dimmer = function (t) { var o, a = e(this), r = (new Date).getTime(), s = [], l = arguments[0], c = "string" == typeof l, u = [].slice.call(arguments, 1); return a.each(function () { var d, f, m, g = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.dimmer.settings, t) : e.extend({}, e.fn.dimmer.settings), p = g.selector, h = g.namespace, v = g.className, b = g.error, y = "." + h, x = "module-" + h, C = a.selector || "", w = "ontouchstart" in n.documentElement ? "touchstart" : "click", k = e(this), S = this, T = k.data(x); m = { preinitialize: function () { m.is.dimmer() ? (f = k.parent(), d = k) : (f = k, d = m.has.dimmer() ? g.dimmerName ? f.find(p.dimmer).filter("." + g.dimmerName) : f.find(p.dimmer) : m.create(), m.set.variation()) }, initialize: function () { m.debug("Initializing dimmer", g), m.bind.events(), m.set.dimmable(), m.instantiate() }, instantiate: function () { m.verbose("Storing instance of module", m), T = m, k.data(x, T) }, destroy: function () { m.verbose("Destroying previous module", d), m.unbind.events(), m.remove.variation(), f.off(y) }, bind: { events: function () { "hover" == g.on ? f.on("mouseenter" + y, m.show).on("mouseleave" + y, m.hide) : "click" == g.on && f.on(w + y, m.toggle), m.is.page() && (m.debug("Setting as a page dimmer", f), m.set.pageDimmer()), m.is.closable() && (m.verbose("Adding dimmer close event", d), f.on(w + y, p.dimmer, m.event.click)) } }, unbind: { events: function () { k.removeData(x), f.off(y) } }, event: { click: function (t) { m.verbose("Determining if event occured on dimmer", t), (0 === d.find(t.target).length || e(t.target).is(p.content)) && (m.hide(), t.stopImmediatePropagation()) } }, addContent: function (t) { var n = e(t); m.debug("Add content to dimmer", n), n.parent()[0] !== d[0] && n.detach().appendTo(d) }, create: function () { var t = e(g.template.dimmer()); return g.dimmerName && (m.debug("Creating named dimmer", g.dimmerName), t.addClass(g.dimmerName)), t.appendTo(f), t }, show: function (t) { t = e.isFunction(t) ? t : function () { }, m.debug("Showing dimmer", d, g), m.is.dimmed() && !m.is.animating() || !m.is.enabled() ? m.debug("Dimmer is already shown or disabled") : (m.animate.show(t), g.onShow.call(S), g.onChange.call(S)) }, hide: function (t) { t = e.isFunction(t) ? t : function () { }, m.is.dimmed() || m.is.animating() ? (m.debug("Hiding dimmer", d), m.animate.hide(t), g.onHide.call(S), g.onChange.call(S)) : m.debug("Dimmer is not visible") }, toggle: function () { m.verbose("Toggling dimmer visibility", d), m.is.dimmed() ? m.hide() : m.show() }, animate: { show: function (t) { t = e.isFunction(t) ? t : function () { }, g.useCSS && e.fn.transition !== i && d.transition("is supported") ? ("auto" !== g.opacity && m.set.opacity(), d.transition({ animation: g.transition + " in", queue: !1, duration: m.get.duration(), useFailSafe: !0, onStart: function () { m.set.dimmed() }, onComplete: function () { m.set.active(), t() } })) : (m.verbose("Showing dimmer animation with javascript"), m.set.dimmed(), "auto" == g.opacity && (g.opacity = .8), d.stop().css({ opacity: 0, width: "100%", height: "100%" }).fadeTo(m.get.duration(), g.opacity, function () { d.removeAttr("style"), m.set.active(), t() })) }, hide: function (t) { t = e.isFunction(t) ? t : function () { }, g.useCSS && e.fn.transition !== i && d.transition("is supported") ? (m.verbose("Hiding dimmer with css"), d.transition({ animation: g.transition + " out", queue: !1, duration: m.get.duration(), useFailSafe: !0, onStart: function () { m.remove.dimmed() }, onComplete: function () { m.remove.active(), t() } })) : (m.verbose("Hiding dimmer with javascript"), m.remove.dimmed(), d.stop().fadeOut(m.get.duration(), function () { m.remove.active(), d.removeAttr("style"), t() })) } }, get: { dimmer: function () { return d }, duration: function () { return "object" == typeof g.duration ? m.is.active() ? g.duration.hide : g.duration.show : g.duration } }, has: { dimmer: function () { return g.dimmerName ? k.find(p.dimmer).filter("." + g.dimmerName).length > 0 : k.find(p.dimmer).length > 0 } }, is: { active: function () { return d.hasClass(v.active) }, animating: function () { return d.is(":animated") || d.hasClass(v.animating) }, closable: function () { return "auto" == g.closable ? "hover" != g.on : g.closable }, dimmer: function () { return k.hasClass(v.dimmer) }, dimmable: function () { return k.hasClass(v.dimmable) }, dimmed: function () { return f.hasClass(v.dimmed) }, disabled: function () { return f.hasClass(v.disabled) }, enabled: function () { return !m.is.disabled() }, page: function () { return f.is("body") }, pageDimmer: function () { return d.hasClass(v.pageDimmer) } }, can: { show: function () { return !d.hasClass(v.disabled) } }, set: { opacity: function (e) { var t = d.css("background-color"), n = t.split(","), i = n && 3 == n.length, o = n && 4 == n.length; e = 0 === g.opacity ? 0 : g.opacity || e, i || o ? (n[3] = e + ")", t = n.join(",")) : t = "rgba(0, 0, 0, " + e + ")", m.debug("Setting opacity to", e), d.css("background-color", t) }, active: function () { d.addClass(v.active) }, dimmable: function () { f.addClass(v.dimmable) }, dimmed: function () { f.addClass(v.dimmed) }, pageDimmer: function () { d.addClass(v.pageDimmer) }, disabled: function () { d.addClass(v.disabled) }, variation: function (e) { e = e || g.variation, e && d.addClass(e) } }, remove: { active: function () { d.removeClass(v.active) }, dimmed: function () { f.removeClass(v.dimmed) }, disabled: function () { d.removeClass(v.disabled) }, variation: function (e) { e = e || g.variation, e && d.removeClass(e) } }, setting: function (t, n) { if (m.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, g, t); else { if (n === i) return g[t]; e.isPlainObject(g[t]) ? e.extend(!0, g[t], n) : g[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; m[t] = n } }, debug: function () { !g.silent && g.debug && (g.performance ? m.performance.log(arguments) : (m.debug = Function.prototype.bind.call(console.info, console, g.name + ":"), m.debug.apply(console, arguments))) }, verbose: function () { !g.silent && g.verbose && g.debug && (g.performance ? m.performance.log(arguments) : (m.verbose = Function.prototype.bind.call(console.info, console, g.name + ":"), m.verbose.apply(console, arguments))) }, error: function () { g.silent || (m.error = Function.prototype.bind.call(console.error, console, g.name + ":"), m.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; g.performance && (t = (new Date).getTime(), i = r || t, n = t - i, r = t, s.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: S, "Execution Time": n })), clearTimeout(m.performance.timer), m.performance.timer = setTimeout(m.performance.display, 500) }, display: function () { var t = g.name + ":", n = 0; r = !1, clearTimeout(m.performance.timer), e.each(s, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", C && (t += " '" + C + "'"), a.length > 1 && (t += " (" + a.length + ")"), (console.group !== i || console.table !== i) && s.length > 0 && (console.groupCollapsed(t), console.table ? console.table(s) : e.each(s, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), s = [] } }, invoke: function (t, n, a) { var r, s, l, c = T; return n = n || u, a = S || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (m.error(b.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(a, n) : s !== i && (l = s), e.isArray(o) ? o.push(l) : o !== i ? o = [o, l] : l !== i && (o = l), s } }, m.preinitialize(), c ? (T === i && m.initialize(), m.invoke(l)) : (T !== i && T.invoke("destroy"), m.initialize()) }), o !== i ? o : this }, e.fn.dimmer.settings = { name: "Dimmer", namespace: "dimmer", silent: !1, debug: !1, verbose: !1, performance: !0, dimmerName: !1, variation: !1, closable: "auto", useCSS: !0, transition: "fade", on: !1, opacity: "auto", duration: { show: 500, hide: 500 }, onChange: function () { }, onShow: function () { }, onHide: function () { }, error: { method: "The method you called is not defined." }, className: { active: "active", animating: "animating", dimmable: "dimmable", dimmed: "dimmed", dimmer: "dimmer", disabled: "disabled", hide: "hide", pageDimmer: "page", show: "show" }, selector: { dimmer: "> .ui.dimmer", content: ".ui.dimmer > .content, .ui.dimmer > .content > .center" }, template: { dimmer: function () { return e("<div />").attr("class", "ui dimmer") } } } }(jQuery, window, document), function (e, t, n, i) {
  "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.dropdown = function (o) {
    var a, r = e(this), s = e(n), l = r.selector || "", c = "ontouchstart" in n.documentElement, u = (new Date).getTime(), d = [], f = arguments[0], m = "string" == typeof f, g = [].slice.call(arguments, 1); return r.each(function (p) {
      var h, v, b, y, x, C, w, k, S = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.dropdown.settings, o) : e.extend({}, e.fn.dropdown.settings), T = S.className, A = S.message, R = S.fields, P = S.keys, E = S.metadata, F = S.namespace, O = S.regExp, D = S.selector, q = S.error, j = S.templates, z = "." + F, I = "module-" + F, M = e(this), L = e(S.context), N = M.find(D.text), V = M.find(D.search), H = M.find(D.sizer), U = M.find(D.input), W = M.find(D.icon), B = M.prev().find(D.text).length > 0 ? M.prev().find(D.text) : M.prev(), Q = M.children(D.menu), X = Q.find(D.item), $ = !1, Y = !1, Z = !1, K = this, J = M.data(I); k = {
        initialize: function () { k.debug("Initializing dropdown", S), k.is.alreadySetup() ? k.setup.reference() : (k.setup.layout(), k.refreshData(), k.save.defaults(), k.restore.selected(), k.create.id(), k.bind.events(), k.observeChanges(), k.instantiate()) }, instantiate: function () { k.verbose("Storing instance of dropdown", k), J = k, M.data(I, k) }, destroy: function () { k.verbose("Destroying previous dropdown", M), k.remove.tabbable(), M.off(z).removeData(I), Q.off(z), s.off(y), k.disconnect.menuObserver(), k.disconnect.selectObserver() }, observeChanges: function () { "MutationObserver" in t && (C = new MutationObserver(k.event.select.mutation), w = new MutationObserver(k.event.menu.mutation), k.debug("Setting up mutation observer", C, w), k.observe.select(), k.observe.menu()) }, disconnect: { menuObserver: function () { w && w.disconnect() }, selectObserver: function () { C && C.disconnect() } }, observe: { select: function () { k.has.input() && C.observe(U[0], { childList: !0, subtree: !0 }) }, menu: function () { k.has.menu() && w.observe(Q[0], { childList: !0, subtree: !0 }) } }, create: { id: function () { x = (Math.random().toString(16) + "000000000").substr(2, 8), y = "." + x, k.verbose("Creating unique id for element", x) }, userChoice: function (t) { var n, o, a; return !!(t = t || k.get.userValues()) && (t = e.isArray(t) ? t : [t], e.each(t, function (t, r) { k.get.item(r) === !1 && (a = S.templates.addition(k.add.variables(A.addResult, r)), o = e("<div />").html(a).attr("data-" + E.value, r).attr("data-" + E.text, r).addClass(T.addition).addClass(T.item), S.hideAdditions && o.addClass(T.hidden), n = n === i ? o : n.add(o), k.verbose("Creating user choices for value", r, o)) }), n) }, userLabels: function (t) { var n = k.get.userValues(); n && (k.debug("Adding user labels", n), e.each(n, function (e, t) { k.verbose("Adding custom user value"), k.add.label(t, t) })) }, menu: function () { Q = e("<div />").addClass(T.menu).appendTo(M) }, sizer: function () { H = e("<span />").addClass(T.sizer).insertAfter(V) } }, search: function (e) { e = e !== i ? e : k.get.query(), k.verbose("Searching for query", e), k.has.minCharacters(e) ? k.filter(e) : k.hide() }, select: { firstUnfiltered: function () { k.verbose("Selecting first non-filtered element"), k.remove.selectedItem(), X.not(D.unselectable).not(D.addition + D.hidden).eq(0).addClass(T.selected) }, nextAvailable: function (e) { e = e.eq(0); var t = e.nextAll(D.item).not(D.unselectable).eq(0), n = e.prevAll(D.item).not(D.unselectable).eq(0), i = t.length > 0; i ? (k.verbose("Moving selection to", t), t.addClass(T.selected)) : (k.verbose("Moving selection to", n), n.addClass(T.selected)) } }, setup: { api: function () { var e = { debug: S.debug, urlData: { value: k.get.value(), query: k.get.query() }, on: !1 }; k.verbose("First request, initializing API"), M.api(e) }, layout: function () { M.is("select") && (k.setup.select(), k.setup.returnedObject()), k.has.menu() || k.create.menu(), k.is.search() && !k.has.search() && (k.verbose("Adding search input"), V = e("<input />").addClass(T.search).prop("autocomplete", "off").insertBefore(N)), k.is.multiple() && k.is.searchSelection() && !k.has.sizer() && k.create.sizer(), S.allowTab && k.set.tabbable() }, select: function () { var t = k.get.selectValues(); k.debug("Dropdown initialized on a select", t), M.is("select") && (U = M), U.parent(D.dropdown).length > 0 ? (k.debug("UI dropdown already exists. Creating dropdown menu only"), M = U.closest(D.dropdown), k.has.menu() || k.create.menu(), Q = M.children(D.menu), k.setup.menu(t)) : (k.debug("Creating entire dropdown from select"), M = e("<div />").attr("class", U.attr("class")).addClass(T.selection).addClass(T.dropdown).html(j.dropdown(t)).insertBefore(U), U.hasClass(T.multiple) && U.prop("multiple") === !1 && (k.error(q.missingMultiple), U.prop("multiple", !0)), U.is("[multiple]") && k.set.multiple(), U.prop("disabled") && (k.debug("Disabling dropdown"), M.addClass(T.disabled)), U.removeAttr("class").detach().prependTo(M)), k.refresh() }, menu: function (e) { Q.html(j.menu(e, R)), X = Q.find(D.item) }, reference: function () { k.debug("Dropdown behavior was called on select, replacing with closest dropdown"), M = M.parent(D.dropdown), k.refresh(), k.setup.returnedObject(), m && (J = k, k.invoke(f)) }, returnedObject: function () { var e = r.slice(0, p), t = r.slice(p + 1); r = e.add(M).add(t) } }, refresh: function () { k.refreshSelectors(), k.refreshData() }, refreshItems: function () { X = Q.find(D.item) }, refreshSelectors: function () { k.verbose("Refreshing selector cache"), N = M.find(D.text), V = M.find(D.search), U = M.find(D.input), W = M.find(D.icon), B = M.prev().find(D.text).length > 0 ? M.prev().find(D.text) : M.prev(), Q = M.children(D.menu), X = Q.find(D.item) }, refreshData: function () { k.verbose("Refreshing cached metadata"), X.removeData(E.text).removeData(E.value) }, clearData: function () { k.verbose("Clearing metadata"), X.removeData(E.text).removeData(E.value), M.removeData(E.defaultText).removeData(E.defaultValue).removeData(E.placeholderText) }, toggle: function () { k.verbose("Toggling menu visibility"), k.is.active() ? k.hide() : k.show() }, show: function (t) { if (t = e.isFunction(t) ? t : function () { }, !k.can.show() && k.is.remote() && (k.debug("No API results retrieved, searching before show"), k.queryRemote(k.get.query(), k.show)), k.can.show() && !k.is.active()) { if (k.debug("Showing dropdown"), !k.has.message() || k.has.maxSelections() || k.has.allResultsFiltered() || k.remove.message(), k.is.allFiltered()) return !0; S.onShow.call(K) !== !1 && k.animate.show(function () { k.can.click() && k.bind.intent(), k.has.menuSearch() && k.focusSearch(), k.set.visible(), t.call(K) }) } }, hide: function (t) { t = e.isFunction(t) ? t : function () { }, k.is.active() && (k.debug("Hiding dropdown"), S.onHide.call(K) !== !1 && k.animate.hide(function () { k.remove.visible(), t.call(K) })) }, hideOthers: function () { k.verbose("Finding other dropdowns to hide"), r.not(M).has(D.menu + "." + T.visible).dropdown("hide") }, hideMenu: function () { k.verbose("Hiding menu  instantaneously"), k.remove.active(), k.remove.visible(), Q.transition("hide") }, hideSubMenus: function () { var e = Q.children(D.item).find(D.menu); k.verbose("Hiding sub menus", e), e.transition("hide") }, bind: { events: function () { c && k.bind.touchEvents(), k.bind.keyboardEvents(), k.bind.inputEvents(), k.bind.mouseEvents() }, touchEvents: function () { k.debug("Touch device detected binding additional touch events"), k.is.searchSelection() || k.is.single() && M.on("touchstart" + z, k.event.test.toggle), Q.on("touchstart" + z, D.item, k.event.item.mouseenter) }, keyboardEvents: function () { k.verbose("Binding keyboard events"), M.on("keydown" + z, k.event.keydown), k.has.search() && M.on(k.get.inputEvent() + z, D.search, k.event.input), k.is.multiple() && s.on("keydown" + y, k.event.document.keydown) }, inputEvents: function () { k.verbose("Binding input change events"), M.on("change" + z, D.input, k.event.change) }, mouseEvents: function () { k.verbose("Binding mouse events"), k.is.multiple() && M.on("click" + z, D.label, k.event.label.click).on("click" + z, D.remove, k.event.remove.click), k.is.searchSelection() ? (M.on("mousedown" + z, k.event.mousedown).on("mouseup" + z, k.event.mouseup).on("mousedown" + z, D.menu, k.event.menu.mousedown).on("mouseup" + z, D.menu, k.event.menu.mouseup).on("click" + z, D.icon, k.event.icon.click).on("focus" + z, D.search, k.event.search.focus).on("click" + z, D.search, k.event.search.focus).on("blur" + z, D.search, k.event.search.blur).on("click" + z, D.text, k.event.text.focus), k.is.multiple() && M.on("click" + z, k.event.click)) : ("click" == S.on ? M.on("click" + z, D.icon, k.event.icon.click).on("click" + z, k.event.test.toggle) : "hover" == S.on ? M.on("mouseenter" + z, k.delay.show).on("mouseleave" + z, k.delay.hide) : M.on(S.on + z, k.toggle), M.on("mousedown" + z, k.event.mousedown).on("mouseup" + z, k.event.mouseup).on("focus" + z, k.event.focus), k.has.menuSearch() ? M.on("blur" + z, D.search, k.event.search.blur) : M.on("blur" + z, k.event.blur)), Q.on("mouseenter" + z, D.item, k.event.item.mouseenter).on("mouseleave" + z, D.item, k.event.item.mouseleave).on("click" + z, D.item, k.event.item.click) }, intent: function () { k.verbose("Binding hide intent event to document"), c && s.on("touchstart" + y, k.event.test.touch).on("touchmove" + y, k.event.test.touch), s.on("click" + y, k.event.test.hide) } }, unbind: { intent: function () { k.verbose("Removing hide intent event from document"), c && s.off("touchstart" + y).off("touchmove" + y), s.off("click" + y) } }, filter: function (e) { var t = e !== i ? e : k.get.query(), n = function () { k.is.multiple() && k.filterActive(), k.select.firstUnfiltered(), k.has.allResultsFiltered() ? S.onNoResults.call(K, t) ? S.allowAdditions ? S.hideAdditions && (k.verbose("User addition with no menu, setting empty style"), k.set.empty(), k.hideMenu()) : (k.verbose("All items filtered, showing message", t), k.add.message(A.noResults)) : (k.verbose("All items filtered, hiding dropdown", t), k.hideMenu()) : (k.remove.empty(), k.remove.message()), S.allowAdditions && k.add.userSuggestion(e), k.is.searchSelection() && k.can.show() && k.is.focusedOnSearch() && k.show() }; S.useLabels && k.has.maxSelections() || (S.apiSettings ? k.can.useAPI() ? k.queryRemote(t, function () { S.filterRemoteData && k.filterItems(t), n() }) : k.error(q.noAPI) : (k.filterItems(t), n())) }, queryRemote: function (t, n) { var i = { errorDuration: !1, cache: "local", throttle: S.throttle, urlData: { query: t }, onError: function () { k.add.message(A.serverError), n() }, onFailure: function () { k.add.message(A.serverError), n() }, onSuccess: function (e) { k.remove.message(), k.setup.menu({ values: e[R.remoteValues] }), n() } }; M.api("get request") || k.setup.api(), i = e.extend(!0, {}, i, S.apiSettings), M.api("setting", i).api("query") }, filterItems: function (t) { var n = t !== i ? t : k.get.query(), o = null, a = k.escape.string(n), r = new RegExp("^" + a, "igm"); k.has.query() && (o = [], k.verbose("Searching for matching values", n), X.each(function () { var t, i, a = e(this); if ("both" == S.match || "text" == S.match) { if (t = String(k.get.choiceText(a, !1)), t.search(r) !== -1) return o.push(this), !0; if ("exact" === S.fullTextSearch && k.exactSearch(n, t)) return o.push(this), !0; if (S.fullTextSearch === !0 && k.fuzzySearch(n, t)) return o.push(this), !0 } if ("both" == S.match || "value" == S.match) { if (i = String(k.get.choiceValue(a, t)), i.search(r) !== -1) return o.push(this), !0; if ("exact" === S.fullTextSearch && k.exactSearch(n, i)) return o.push(this), !0; if (S.fullTextSearch === !0 && k.fuzzySearch(n, i)) return o.push(this), !0 } })), k.debug("Showing only matched items", n), k.remove.filteredItem(), o && X.not(o).addClass(T.filtered) }, fuzzySearch: function (e, t) { var n = t.length, i = e.length; if (e = e.toLowerCase(), t = t.toLowerCase(), i > n) return !1; if (i === n) return e === t; e: for (var o = 0, a = 0; o < i; o++) { for (var r = e.charCodeAt(o); a < n;)if (t.charCodeAt(a++) === r) continue e; return !1 } return !0 }, exactSearch: function (e, t) { return e = e.toLowerCase(), t = t.toLowerCase(), t.indexOf(e) > -1 }, filterActive: function () { S.useLabels && X.filter("." + T.active).addClass(T.filtered) }, focusSearch: function (e) { k.has.search() && !k.is.focusedOnSearch() && (e ? (M.off("focus" + z, D.search), V.focus(), M.on("focus" + z, D.search, k.event.search.focus)) : V.focus()) }, forceSelection: function () { var e = X.not(T.filtered).filter("." + T.selected).eq(0), t = X.not(T.filtered).filter("." + T.active).eq(0), n = e.length > 0 ? e : t, i = n.length > 0; return i && !k.is.multiple() ? (k.debug("Forcing partial selection to selected item", n), void k.event.item.click.call(n, {}, !0)) : void (S.allowAdditions ? (k.set.selected(k.get.query()), k.remove.searchTerm()) : k.remove.searchTerm()) }, event: {
          change: function () {
            Z || (k.debug("Input changed, updating selection"), k.set.selected());
          }, focus: function () { S.showOnFocus && !$ && k.is.hidden() && !v && k.show() }, blur: function (e) { v = n.activeElement === this, $ || v || (k.remove.activeLabel(), k.hide()) }, mousedown: function () { k.is.searchSelection() ? b = !0 : $ = !0 }, mouseup: function () { k.is.searchSelection() ? b = !1 : $ = !1 }, click: function (t) { var n = e(t.target); n.is(M) && (k.is.focusedOnSearch() ? k.show() : k.focusSearch()) }, search: { focus: function () { $ = !0, k.is.multiple() && k.remove.activeLabel(), S.showOnFocus && k.search() }, blur: function (e) { v = n.activeElement === this, b || Y || v || (S.forceSelection && k.forceSelection(), k.hide()), b = !1 } }, icon: { click: function (e) { k.toggle() } }, text: { focus: function (e) { $ = !0, k.focusSearch() } }, input: function (e) { (k.is.multiple() || k.is.searchSelection()) && k.set.filtered(), clearTimeout(k.timer), k.timer = setTimeout(k.search, S.delay.search) }, label: { click: function (t) { var n = e(this), i = M.find(D.label), o = i.filter("." + T.active), a = n.nextAll("." + T.active), r = n.prevAll("." + T.active), s = a.length > 0 ? n.nextUntil(a).add(o).add(n) : n.prevUntil(r).add(o).add(n); t.shiftKey ? (o.removeClass(T.active), s.addClass(T.active)) : t.ctrlKey ? n.toggleClass(T.active) : (o.removeClass(T.active), n.addClass(T.active)), S.onLabelSelect.apply(this, i.filter("." + T.active)) } }, remove: { click: function () { var t = e(this).parent(); t.hasClass(T.active) ? k.remove.activeLabels() : k.remove.activeLabels(t) } }, test: { toggle: function (e) { var t = k.is.multiple() ? k.show : k.toggle; k.is.bubbledLabelClick(e) || k.is.bubbledIconClick(e) || k.determine.eventOnElement(e, t) && e.preventDefault() }, touch: function (e) { k.determine.eventOnElement(e, function () { "touchstart" == e.type ? k.timer = setTimeout(function () { k.hide() }, S.delay.touch) : "touchmove" == e.type && clearTimeout(k.timer) }), e.stopPropagation() }, hide: function (e) { k.determine.eventInModule(e, k.hide) } }, select: { mutation: function (e) { k.debug("<select> modified, recreating menu"), k.setup.select() } }, menu: { mutation: function (t) { var n = t[0], i = e(n.addedNodes ? n.addedNodes[0] : !1), o = e(n.removedNodes ? n.removedNodes[0] : !1), a = i.add(o), r = a.is(D.addition) || a.closest(D.addition).length > 0, s = a.is(D.message) || a.closest(D.message).length > 0; r || s ? (k.debug("Updating item selector cache"), k.refreshItems()) : (k.debug("Menu modified, updating selector cache"), k.refresh()) }, mousedown: function () { Y = !0 }, mouseup: function () { Y = !1 } }, item: { mouseenter: function (t) { var n = e(t.target), i = e(this), o = i.children(D.menu), a = i.siblings(D.item).children(D.menu), r = o.length > 0, s = o.find(n).length > 0; !s && r && (clearTimeout(k.itemTimer), k.itemTimer = setTimeout(function () { k.verbose("Showing sub-menu", o), e.each(a, function () { k.animate.hide(!1, e(this)) }), k.animate.show(!1, o) }, S.delay.show), t.preventDefault()) }, mouseleave: function (t) { var n = e(this).children(D.menu); n.length > 0 && (clearTimeout(k.itemTimer), k.itemTimer = setTimeout(function () { k.verbose("Hiding sub-menu", n), k.animate.hide(!1, n) }, S.delay.hide)) }, click: function (t, n) { var i = e(this), o = e(t ? t.target : ""), a = i.find(D.menu), r = k.get.choiceText(i), s = k.get.choiceValue(i, r), l = a.length > 0, c = a.find(o).length > 0; c || l && !S.allowCategorySelection || (k.is.searchSelection() && (S.allowAdditions && k.remove.userAddition(), k.remove.searchTerm(), k.is.focusedOnSearch() || 1 == n || k.focusSearch(!0)), S.useLabels || (k.remove.filteredItem(), k.set.scrollPosition(i)), k.determine.selectAction.call(this, r, s)) } }, document: { keydown: function (e) { var t = e.which, n = k.is.inObject(t, P); if (n) { var i = M.find(D.label), o = i.filter("." + T.active), a = (o.data(E.value), i.index(o)), r = i.length, s = o.length > 0, l = o.length > 1, c = 0 === a, u = a + 1 == r, d = k.is.searchSelection(), f = k.is.focusedOnSearch(), m = k.is.focused(), g = f && 0 === k.get.caretPosition(); if (d && !s && !f) return; t == P.leftArrow ? !m && !g || s ? s && (e.shiftKey ? k.verbose("Adding previous label to selection") : (k.verbose("Selecting previous label"), i.removeClass(T.active)), c && !l ? o.addClass(T.active) : o.prev(D.siblingLabel).addClass(T.active).end(), e.preventDefault()) : (k.verbose("Selecting previous label"), i.last().addClass(T.active)) : t == P.rightArrow ? (m && !s && i.first().addClass(T.active), s && (e.shiftKey ? k.verbose("Adding next label to selection") : (k.verbose("Selecting next label"), i.removeClass(T.active)), u ? d ? f ? i.removeClass(T.active) : k.focusSearch() : l ? o.next(D.siblingLabel).addClass(T.active) : o.addClass(T.active) : o.next(D.siblingLabel).addClass(T.active), e.preventDefault())) : t == P.deleteKey || t == P.backspace ? s ? (k.verbose("Removing active labels"), u && d && !f && k.focusSearch(), o.last().next(D.siblingLabel).addClass(T.active), k.remove.activeLabels(o), e.preventDefault()) : g && !s && t == P.backspace && (k.verbose("Removing last label on input backspace"), o = i.last().addClass(T.active), k.remove.activeLabels(o)) : o.removeClass(T.active) } } }, keydown: function (e) { var t = e.which, n = k.is.inObject(t, P); if (n) { var i, o, a = X.not(D.unselectable).filter("." + T.selected).eq(0), r = Q.children("." + T.active).eq(0), s = a.length > 0 ? a : r, l = s.length > 0 ? s.siblings(":not(." + T.filtered + ")").addBack() : Q.children(":not(." + T.filtered + ")"), c = s.children(D.menu), u = s.closest(D.menu), d = u.hasClass(T.visible) || u.hasClass(T.animating) || u.parent(D.menu).length > 0, f = c.length > 0, m = s.length > 0, g = s.not(D.unselectable).length > 0, p = t == P.delimiter && S.allowAdditions && k.is.multiple(), h = S.allowAdditions && S.hideAdditions && (t == P.enter || p) && g; if (h && (k.verbose("Selecting item from keyboard shortcut", s), k.event.item.click.call(s, e), k.is.searchSelection() && k.remove.searchTerm()), k.is.visible()) { if ((t == P.enter || p) && (t == P.enter && m && f && !S.allowCategorySelection ? (k.verbose("Pressed enter on unselectable category, opening sub menu"), t = P.rightArrow) : g && (k.verbose("Selecting item from keyboard shortcut", s), k.event.item.click.call(s, e), k.is.searchSelection() && k.remove.searchTerm()), e.preventDefault()), m && (t == P.leftArrow && (o = u[0] !== Q[0], o && (k.verbose("Left key pressed, closing sub-menu"), k.animate.hide(!1, u), s.removeClass(T.selected), u.closest(D.item).addClass(T.selected), e.preventDefault())), t == P.rightArrow && f && (k.verbose("Right key pressed, opening sub-menu"), k.animate.show(!1, c), s.removeClass(T.selected), c.find(D.item).eq(0).addClass(T.selected), e.preventDefault())), t == P.upArrow) { if (i = m && d ? s.prevAll(D.item + ":not(" + D.unselectable + ")").eq(0) : X.eq(0), l.index(i) < 0) return k.verbose("Up key pressed but reached top of current menu"), void e.preventDefault(); k.verbose("Up key pressed, changing active item"), s.removeClass(T.selected), i.addClass(T.selected), k.set.scrollPosition(i), S.selectOnKeydown && k.is.single() && k.set.selectedItem(i), e.preventDefault() } if (t == P.downArrow) { if (i = m && d ? i = s.nextAll(D.item + ":not(" + D.unselectable + ")").eq(0) : X.eq(0), 0 === i.length) return k.verbose("Down key pressed but reached bottom of current menu"), void e.preventDefault(); k.verbose("Down key pressed, changing active item"), X.removeClass(T.selected), i.addClass(T.selected), k.set.scrollPosition(i), S.selectOnKeydown && k.is.single() && k.set.selectedItem(i), e.preventDefault() } t == P.pageUp && (k.scrollPage("up"), e.preventDefault()), t == P.pageDown && (k.scrollPage("down"), e.preventDefault()), t == P.escape && (k.verbose("Escape key pressed, closing dropdown"), k.hide()) } else p && e.preventDefault(), t != P.downArrow || k.is.visible() || (k.verbose("Down key pressed, showing dropdown"), k.select.firstUnfiltered(), k.show(), e.preventDefault()) } else k.has.search() || k.set.selectedLetter(String.fromCharCode(t)) }
        }, trigger: { change: function () { var e = n.createEvent("HTMLEvents"), t = U[0]; t && (k.verbose("Triggering native change event"), e.initEvent("change", !0, !1), t.dispatchEvent(e)) } }, determine: { selectAction: function (t, n) { k.verbose("Determining action", S.action), e.isFunction(k.action[S.action]) ? (k.verbose("Triggering preset action", S.action, t, n), k.action[S.action].call(K, t, n, this)) : e.isFunction(S.action) ? (k.verbose("Triggering user action", S.action, t, n), S.action.call(K, t, n, this)) : k.error(q.action, S.action) }, eventInModule: function (t, i) { var o = e(t.target), a = o.closest(n.documentElement).length > 0, r = o.closest(M).length > 0; return i = e.isFunction(i) ? i : function () { }, a && !r ? (k.verbose("Triggering event", i), i(), !0) : (k.verbose("Event occurred in dropdown, canceling callback"), !1) }, eventOnElement: function (t, i) { var o = e(t.target), a = o.closest(D.siblingLabel), r = n.body.contains(t.target), s = 0 === M.find(a).length, l = 0 === o.closest(Q).length; return i = e.isFunction(i) ? i : function () { }, r && s && l ? (k.verbose("Triggering event", i), i(), !0) : (k.verbose("Event occurred in dropdown menu, canceling callback"), !1) } }, action: { nothing: function () { }, activate: function (t, n, o) { if (n = n !== i ? n : t, k.can.activate(e(o))) { if (k.set.selected(n, e(o)), k.is.multiple() && !k.is.allFiltered()) return; k.hideAndClear() } }, select: function (t, n, o) { if (n = n !== i ? n : t, k.can.activate(e(o))) { if (k.set.value(n, e(o)), k.is.multiple() && !k.is.allFiltered()) return; k.hideAndClear() } }, combo: function (t, n, o) { n = n !== i ? n : t, k.set.selected(n, e(o)), k.hideAndClear() }, hide: function (e, t, n) { k.set.value(t, e), k.hideAndClear() } }, get: { id: function () { return x }, defaultText: function () { return M.data(E.defaultText) }, defaultValue: function () { return M.data(E.defaultValue) }, placeholderText: function () { return M.data(E.placeholderText) || "" }, text: function () { return N.text() }, query: function () { return e.trim(V.val()) }, searchWidth: function (e) { return e = e !== i ? e : V.val(), H.text(e), Math.ceil(H.width() + 1) }, selectionCount: function () { var t, n = k.get.values(); return t = k.is.multiple() ? e.isArray(n) ? n.length : 0 : "" !== k.get.value() ? 1 : 0 }, transition: function (e) { return "auto" == S.transition ? k.is.upward(e) ? "slide up" : "slide down" : S.transition }, userValues: function () { var t = k.get.values(); return !!t && (t = e.isArray(t) ? t : [t], e.grep(t, function (e) { return k.get.item(e) === !1 })) }, uniqueArray: function (t) { return e.grep(t, function (n, i) { return e.inArray(n, t) === i }) }, caretPosition: function () { var e, t, i = V.get(0); return "selectionStart" in i ? i.selectionStart : n.selection ? (i.focus(), e = n.selection.createRange(), t = e.text.length, e.moveStart("character", -i.value.length), e.text.length - t) : void 0 }, value: function () { var t = U.length > 0 ? U.val() : M.data(E.value), n = e.isArray(t) && 1 === t.length && "" === t[0]; return t === i || n ? "" : t }, values: function () { var e = k.get.value(); return "" === e ? "" : !k.has.selectInput() && k.is.multiple() ? "string" == typeof e ? e.split(S.delimiter) : "" : e }, remoteValues: function () { var t = k.get.values(), n = !1; return t && ("string" == typeof t && (t = [t]), e.each(t, function (e, t) { var i = k.read.remoteData(t); k.verbose("Restoring value from session data", i, t), i && (n || (n = {}), n[t] = i) })), n }, choiceText: function (t, n) { if (n = n !== i ? n : S.preserveHTML, t) return t.find(D.menu).length > 0 && (k.verbose("Retrieving text of element with sub-menu"), t = t.clone(), t.find(D.menu).remove(), t.find(D.menuIcon).remove()), t.data(E.text) !== i ? t.data(E.text) : n ? e.trim(t.html()) : e.trim(t.text()) }, choiceValue: function (t, n) { return n = n || k.get.choiceText(t), !!t && (t.data(E.value) !== i ? String(t.data(E.value)) : "string" == typeof n ? e.trim(n.toLowerCase()) : String(n)) }, inputEvent: function () { var e = V[0]; return !!e && (e.oninput !== i ? "input" : e.onpropertychange !== i ? "propertychange" : "keyup") }, selectValues: function () { var t = {}; return t.values = [], M.find("option").each(function () { var n = e(this), o = n.html(), a = n.attr("disabled"), r = n.attr("value") !== i ? n.attr("value") : o; "auto" === S.placeholder && "" === r ? t.placeholder = o : t.values.push({ name: o, value: r, disabled: a }) }), S.placeholder && "auto" !== S.placeholder && (k.debug("Setting placeholder value to", S.placeholder), t.placeholder = S.placeholder), S.sortSelect ? (t.values.sort(function (e, t) { return e.name > t.name ? 1 : -1 }), k.debug("Retrieved and sorted values from select", t)) : k.debug("Retrieved values from select", t), t }, activeItem: function () { return X.filter("." + T.active) }, selectedItem: function () { var e = X.not(D.unselectable).filter("." + T.selected); return e.length > 0 ? e : X.eq(0) }, itemWithAdditions: function (e) { var t = k.get.item(e), n = k.create.userChoice(e), i = n && n.length > 0; return i && (t = t.length > 0 ? t.add(n) : n), t }, item: function (t, n) { var o, a, r = !1; return t = t !== i ? t : k.get.values() !== i ? k.get.values() : k.get.text(), o = a ? t.length > 0 : t !== i && null !== t, a = k.is.multiple() && e.isArray(t), n = "" === t || 0 === t || (n || !1), o && X.each(function () { var o = e(this), s = k.get.choiceText(o), l = k.get.choiceValue(o, s); if (null !== l && l !== i) if (a) e.inArray(String(l), t) === -1 && e.inArray(s, t) === -1 || (r = r ? r.add(o) : o); else if (n) { if (k.verbose("Ambiguous dropdown value using strict type check", o, t), l === t || s === t) return r = o, !0 } else if (String(l) == String(t) || s == t) return k.verbose("Found select item by value", l, t), r = o, !0 }), r } }, check: { maxSelections: function (e) { return !S.maxSelections || (e = e !== i ? e : k.get.selectionCount(), e >= S.maxSelections ? (k.debug("Maximum selection count reached"), S.useLabels && (X.addClass(T.filtered), k.add.message(A.maxSelections)), !0) : (k.verbose("No longer at maximum selection count"), k.remove.message(), k.remove.filteredItem(), k.is.searchSelection() && k.filterItems(), !1)) } }, restore: { defaults: function () { k.clear(), k.restore.defaultText(), k.restore.defaultValue() }, defaultText: function () { var e = k.get.defaultText(), t = k.get.placeholderText; e === t ? (k.debug("Restoring default placeholder text", e), k.set.placeholderText(e)) : (k.debug("Restoring default text", e), k.set.text(e)) }, placeholderText: function () { k.set.placeholderText() }, defaultValue: function () { var e = k.get.defaultValue(); e !== i && (k.debug("Restoring default value", e), "" !== e ? (k.set.value(e), k.set.selected()) : (k.remove.activeItem(), k.remove.selectedItem())) }, labels: function () { S.allowAdditions && (S.useLabels || (k.error(q.labels), S.useLabels = !0), k.debug("Restoring selected values"), k.create.userLabels()), k.check.maxSelections() }, selected: function () { k.restore.values(), k.is.multiple() ? (k.debug("Restoring previously selected values and labels"), k.restore.labels()) : k.debug("Restoring previously selected values") }, values: function () { k.set.initialLoad(), S.apiSettings && S.saveRemoteData && k.get.remoteValues() ? k.restore.remoteValues() : k.set.selected(), k.remove.initialLoad() }, remoteValues: function () { var t = k.get.remoteValues(); k.debug("Recreating selected from session data", t), t && (k.is.single() ? e.each(t, function (e, t) { k.set.text(t) }) : e.each(t, function (e, t) { k.add.label(e, t) })) } }, read: { remoteData: function (e) { var n; return t.Storage === i ? void k.error(q.noStorage) : (n = sessionStorage.getItem(e), n !== i && n) } }, save: { defaults: function () { k.save.defaultText(), k.save.placeholderText(), k.save.defaultValue() }, defaultValue: function () { var e = k.get.value(); k.verbose("Saving default value as", e), M.data(E.defaultValue, e) }, defaultText: function () { var e = k.get.text(); k.verbose("Saving default text as", e), M.data(E.defaultText, e) }, placeholderText: function () { var e; S.placeholder !== !1 && N.hasClass(T.placeholder) && (e = k.get.text(), k.verbose("Saving placeholder text as", e), M.data(E.placeholderText, e)) }, remoteData: function (e, n) { return t.Storage === i ? void k.error(q.noStorage) : (k.verbose("Saving remote data to session storage", n, e), void sessionStorage.setItem(n, e)) } }, clear: function () { k.is.multiple() && S.useLabels ? k.remove.labels() : (k.remove.activeItem(), k.remove.selectedItem()), k.set.placeholderText(), k.clearValue() }, clearValue: function () { k.set.value("") }, scrollPage: function (e, t) { var n, i, o, a = t || k.get.selectedItem(), r = a.closest(D.menu), s = r.outerHeight(), l = r.scrollTop(), c = X.eq(0).outerHeight(), u = Math.floor(s / c), d = (r.prop("scrollHeight"), "up" == e ? l - c * u : l + c * u), f = X.not(D.unselectable); o = "up" == e ? f.index(a) - u : f.index(a) + u, n = "up" == e ? o >= 0 : o < f.length, i = n ? f.eq(o) : "up" == e ? f.first() : f.last(), i.length > 0 && (k.debug("Scrolling page", e, i), a.removeClass(T.selected), i.addClass(T.selected), S.selectOnKeydown && k.is.single() && k.set.selectedItem(i), r.scrollTop(d)) }, set: { filtered: function () { var e = k.is.multiple(), t = k.is.searchSelection(), n = e && t, i = t ? k.get.query() : "", o = "string" == typeof i && i.length > 0, a = k.get.searchWidth(), r = "" !== i; e && o && (k.verbose("Adjusting input width", a, S.glyphWidth), V.css("width", a)), o || n && r ? (k.verbose("Hiding placeholder text"), N.addClass(T.filtered)) : (!e || n && !r) && (k.verbose("Showing placeholder text"), N.removeClass(T.filtered)) }, empty: function () { M.addClass(T.empty) }, loading: function () { M.addClass(T.loading) }, placeholderText: function (e) { e = e || k.get.placeholderText(), k.debug("Setting placeholder text", e), k.set.text(e), N.addClass(T.placeholder) }, tabbable: function () { k.is.searchSelection() ? (k.debug("Added tabindex to searchable dropdown"), V.val("").attr("tabindex", 0), Q.attr("tabindex", -1)) : (k.debug("Added tabindex to dropdown"), M.attr("tabindex") === i && (M.attr("tabindex", 0), Q.attr("tabindex", -1))) }, initialLoad: function () { k.verbose("Setting initial load"), h = !0 }, activeItem: function (e) { S.allowAdditions && e.filter(D.addition).length > 0 ? e.addClass(T.filtered) : e.addClass(T.active) }, partialSearch: function (e) { var t = k.get.query().length; V.val(e.substr(0, t)) }, scrollPosition: function (e, t) { var n, o, a, r, s, l, c, u, d, f = 5; e = e || k.get.selectedItem(), n = e.closest(D.menu), o = e && e.length > 0, t = t !== i && t, e && n.length > 0 && o && (r = e.position().top, n.addClass(T.loading), l = n.scrollTop(), s = n.offset().top, r = e.offset().top, a = l - s + r, t || (c = n.height(), d = l + c < a + f, u = a - f < l), k.debug("Scrolling to active item", a), (t || u || d) && n.scrollTop(a), n.removeClass(T.loading)) }, text: function (e) { "select" !== S.action && ("combo" == S.action ? (k.debug("Changing combo button text", e, B), S.preserveHTML ? B.html(e) : B.text(e)) : (e !== k.get.placeholderText() && N.removeClass(T.placeholder), k.debug("Changing text", e, N), N.removeClass(T.filtered), S.preserveHTML ? N.html(e) : N.text(e))) }, selectedItem: function (e) { var t = k.get.choiceValue(e), n = k.get.choiceText(e, !1), i = k.get.choiceText(e, !0); k.debug("Setting user selection to item", e), k.remove.activeItem(), k.set.partialSearch(n), k.set.activeItem(e), k.set.selected(t, e), k.set.text(i) }, selectedLetter: function (t) { var n, i = X.filter("." + T.selected), o = i.length > 0 && k.has.firstLetter(i, t), a = !1; o && (n = i.nextAll(X).eq(0), k.has.firstLetter(n, t) && (a = n)), a || X.each(function () { if (k.has.firstLetter(e(this), t)) return a = e(this), !1 }), a && (k.verbose("Scrolling to next value with letter", t), k.set.scrollPosition(a), i.removeClass(T.selected), a.addClass(T.selected), S.selectOnKeydown && k.is.single() && k.set.selectedItem(a)) }, direction: function (e) { "auto" == S.direction ? k.is.onScreen(e) ? k.remove.upward(e) : k.set.upward(e) : "upward" == S.direction && k.set.upward(e) }, upward: function (e) { var t = e || M; t.addClass(T.upward) }, value: function (e, t, n) { var o = k.escape.value(e), a = U.length > 0, r = (!k.has.value(e), k.get.values()), s = e !== i ? String(e) : e; if (a) { if (!S.allowReselection && s == r && (k.verbose("Skipping value update already same value", e, r), !k.is.initialLoad())) return; k.is.single() && k.has.selectInput() && k.can.extendSelect() && (k.debug("Adding user option", e), k.add.optionValue(e)), k.debug("Updating input value", o, r), Z = !0, U.val(o), S.fireOnInit === !1 && k.is.initialLoad() ? k.debug("Input native change event ignored on initial load") : k.trigger.change(), Z = !1 } else k.verbose("Storing value in metadata", o, U), o !== r && M.data(E.value, s); S.fireOnInit === !1 && k.is.initialLoad() ? k.verbose("No callback on initial load", S.onChange) : S.onChange.call(K, e, t, n) }, active: function () { M.addClass(T.active) }, multiple: function () { M.addClass(T.multiple) }, visible: function () { M.addClass(T.visible) }, exactly: function (e, t) { k.debug("Setting selected to exact values"), k.clear(), k.set.selected(e, t) }, selected: function (t, n) { var i = k.is.multiple(); n = S.allowAdditions ? n || k.get.itemWithAdditions(t) : n || k.get.item(t), n && (k.debug("Setting selected menu item to", n), k.is.multiple() && k.remove.searchWidth(), k.is.single() ? (k.remove.activeItem(), k.remove.selectedItem()) : S.useLabels && k.remove.selectedItem(), n.each(function () { var t = e(this), o = k.get.choiceText(t), a = k.get.choiceValue(t, o), r = t.hasClass(T.filtered), s = t.hasClass(T.active), l = t.hasClass(T.addition), c = i && 1 == n.length; i ? !s || l ? (S.apiSettings && S.saveRemoteData && k.save.remoteData(o, a), S.useLabels ? (k.add.value(a, o, t), k.add.label(a, o, c), k.set.activeItem(t), k.filterActive(), k.select.nextAvailable(n)) : (k.add.value(a, o, t), k.set.text(k.add.variables(A.count)), k.set.activeItem(t))) : r || (k.debug("Selected active value, removing label"), k.remove.selected(a)) : (S.apiSettings && S.saveRemoteData && k.save.remoteData(o, a), k.set.text(o), k.set.value(a, o, t), t.addClass(T.active).addClass(T.selected)) })) } }, add: { label: function (t, n, i) { var o, a = k.is.searchSelection() ? V : N, r = k.escape.value(t); return o = e("<a />").addClass(T.label).attr("data-" + E.value, r).html(j.label(r, n)), o = S.onLabelCreate.call(o, r, n), k.has.label(t) ? void k.debug("Label already exists, skipping", r) : (S.label.variation && o.addClass(S.label.variation), void (i === !0 ? (k.debug("Animating in label", o), o.addClass(T.hidden).insertBefore(a).transition(S.label.transition, S.label.duration)) : (k.debug("Adding selection label", o), o.insertBefore(a)))) }, message: function (t) { var n = Q.children(D.message), i = S.templates.message(k.add.variables(t)); n.length > 0 ? n.html(i) : n = e("<div/>").html(i).addClass(T.message).appendTo(Q) }, optionValue: function (t) { var n = k.escape.value(t), i = U.find('option[value="' + k.escape.string(n) + '"]'), o = i.length > 0; o || (k.disconnect.selectObserver(), k.is.single() && (k.verbose("Removing previous user addition"), U.find("option." + T.addition).remove()), e("<option/>").prop("value", n).addClass(T.addition).html(t).appendTo(U), k.verbose("Adding user addition as an <option>", t), k.observe.select()) }, userSuggestion: function (e) { var t, n = Q.children(D.addition), i = k.get.item(e), o = i && i.not(D.addition).length, a = n.length > 0; if (!S.useLabels || !k.has.maxSelections()) { if ("" === e || o) return void n.remove(); a ? (n.data(E.value, e).data(E.text, e).attr("data-" + E.value, e).attr("data-" + E.text, e).removeClass(T.filtered), S.hideAdditions || (t = S.templates.addition(k.add.variables(A.addResult, e)), n.html(t)), k.verbose("Replacing user suggestion with new value", n)) : (n = k.create.userChoice(e), n.prependTo(Q), k.verbose("Adding item choice to menu corresponding with user choice addition", n)), S.hideAdditions && !k.is.allFiltered() || n.addClass(T.selected).siblings().removeClass(T.selected), k.refreshItems() } }, variables: function (e, t) { var n, i, o = e.search("{count}") !== -1, a = e.search("{maxCount}") !== -1, r = e.search("{term}") !== -1; return k.verbose("Adding templated variables to message", e), o && (n = k.get.selectionCount(), e = e.replace("{count}", n)), a && (n = k.get.selectionCount(), e = e.replace("{maxCount}", S.maxSelections)), r && (i = t || k.get.query(), e = e.replace("{term}", i)), e }, value: function (t, n, i) { var o, a = k.get.values(); return "" === t ? void k.debug("Cannot select blank values from multiselect") : (e.isArray(a) ? (o = a.concat([t]), o = k.get.uniqueArray(o)) : o = [t], k.has.selectInput() ? k.can.extendSelect() && (k.debug("Adding value to select", t, o, U), k.add.optionValue(t)) : (o = o.join(S.delimiter), k.debug("Setting hidden input to delimited value", o, U)), S.fireOnInit === !1 && k.is.initialLoad() ? k.verbose("Skipping onadd callback on initial load", S.onAdd) : S.onAdd.call(K, t, n, i), k.set.value(o, t, n, i), void k.check.maxSelections()) } }, remove: { active: function () { M.removeClass(T.active) }, activeLabel: function () { M.find(D.label).removeClass(T.active) }, empty: function () { M.removeClass(T.empty) }, loading: function () { M.removeClass(T.loading) }, initialLoad: function () { h = !1 }, upward: function (e) { var t = e || M; t.removeClass(T.upward) }, visible: function () { M.removeClass(T.visible) }, activeItem: function () { X.removeClass(T.active) }, filteredItem: function () { S.useLabels && k.has.maxSelections() || (S.useLabels && k.is.multiple() ? X.not("." + T.active).removeClass(T.filtered) : X.removeClass(T.filtered), k.remove.empty()) }, optionValue: function (e) { var t = k.escape.value(e), n = U.find('option[value="' + k.escape.string(t) + '"]'), i = n.length > 0; i && n.hasClass(T.addition) && (C && (C.disconnect(), k.verbose("Temporarily disconnecting mutation observer")), n.remove(), k.verbose("Removing user addition as an <option>", t), C && C.observe(U[0], { childList: !0, subtree: !0 })) }, message: function () { Q.children(D.message).remove() }, searchWidth: function () { V.css("width", "") }, searchTerm: function () { k.verbose("Cleared search term"), V.val(""), k.set.filtered() }, userAddition: function () { X.filter(D.addition).remove() }, selected: function (t, n) { return !!(n = S.allowAdditions ? n || k.get.itemWithAdditions(t) : n || k.get.item(t)) && void n.each(function () { var t = e(this), n = k.get.choiceText(t), i = k.get.choiceValue(t, n); k.is.multiple() ? S.useLabels ? (k.remove.value(i, n, t), k.remove.label(i)) : (k.remove.value(i, n, t), 0 === k.get.selectionCount() ? k.set.placeholderText() : k.set.text(k.add.variables(A.count))) : k.remove.value(i, n, t), t.removeClass(T.filtered).removeClass(T.active), S.useLabels && t.removeClass(T.selected) }) }, selectedItem: function () { X.removeClass(T.selected) }, value: function (e, t, n) { var i, o = k.get.values(); k.has.selectInput() ? (k.verbose("Input is <select> removing selected option", e), i = k.remove.arrayValue(e, o), k.remove.optionValue(e)) : (k.verbose("Removing from delimited values", e), i = k.remove.arrayValue(e, o), i = i.join(S.delimiter)), S.fireOnInit === !1 && k.is.initialLoad() ? k.verbose("No callback on initial load", S.onRemove) : S.onRemove.call(K, e, t, n), k.set.value(i, t, n), k.check.maxSelections() }, arrayValue: function (t, n) { return e.isArray(n) || (n = [n]), n = e.grep(n, function (e) { return t != e }), k.verbose("Removed value from delimited string", t, n), n }, label: function (e, t) { var n = M.find(D.label), i = n.filter("[data-" + E.value + '="' + k.escape.string(e) + '"]'); k.verbose("Removing label", i), i.remove() }, activeLabels: function (e) { e = e || M.find(D.label).filter("." + T.active), k.verbose("Removing active label selections", e), k.remove.labels(e) }, labels: function (t) { t = t || M.find(D.label), k.verbose("Removing labels", t), t.each(function () { var t = e(this), n = t.data(E.value), o = n !== i ? String(n) : n, a = k.is.userValue(o); return S.onLabelRemove.call(t, n) === !1 ? void k.debug("Label remove callback cancelled removal") : (k.remove.message(), void (a ? (k.remove.value(o), k.remove.label(o)) : k.remove.selected(o))) }) }, tabbable: function () { k.is.searchSelection() ? (k.debug("Searchable dropdown initialized"), V.removeAttr("tabindex"), Q.removeAttr("tabindex")) : (k.debug("Simple selection dropdown initialized"), M.removeAttr("tabindex"), Q.removeAttr("tabindex")) } }, has: { menuSearch: function () { return k.has.search() && V.closest(Q).length > 0 }, search: function () { return V.length > 0 }, sizer: function () { return H.length > 0 }, selectInput: function () { return U.is("select") }, minCharacters: function (e) { return !S.minCharacters || (e = e !== i ? String(e) : String(k.get.query()), e.length >= S.minCharacters) }, firstLetter: function (e, t) { var n, i; return !(!e || 0 === e.length || "string" != typeof t) && (n = k.get.choiceText(e, !1), t = t.toLowerCase(), i = String(n).charAt(0).toLowerCase(), t == i) }, input: function () { return U.length > 0 }, items: function () { return X.length > 0 }, menu: function () { return Q.length > 0 }, message: function () { return 0 !== Q.children(D.message).length }, label: function (e) { var t = k.escape.value(e), n = M.find(D.label); return n.filter("[data-" + E.value + '="' + k.escape.string(t) + '"]').length > 0 }, maxSelections: function () { return S.maxSelections && k.get.selectionCount() >= S.maxSelections }, allResultsFiltered: function () { var e = X.not(D.addition); return e.filter(D.unselectable).length === e.length }, userSuggestion: function () { return Q.children(D.addition).length > 0 }, query: function () { return "" !== k.get.query() }, value: function (t) { var n = k.get.values(), i = e.isArray(n) ? n && e.inArray(t, n) !== -1 : n == t; return !!i } }, is: { active: function () { return M.hasClass(T.active) }, bubbledLabelClick: function (t) { return e(t.target).is("select, input") && M.closest("label").length > 0 }, bubbledIconClick: function (t) { return e(t.target).closest(W).length > 0 }, alreadySetup: function () { return M.is("select") && M.parent(D.dropdown).length > 0 && 0 === M.prev().length }, animating: function (e) { return e ? e.transition && e.transition("is animating") : Q.transition && Q.transition("is animating") }, disabled: function () { return M.hasClass(T.disabled) }, focused: function () { return n.activeElement === M[0] }, focusedOnSearch: function () { return n.activeElement === V[0] }, allFiltered: function () { return (k.is.multiple() || k.has.search()) && !(0 == S.hideAdditions && k.has.userSuggestion()) && !k.has.message() && k.has.allResultsFiltered() }, hidden: function (e) { return !k.is.visible(e) }, initialLoad: function () { return h }, onScreen: function (e) { var t, n = e || Q, i = !0, o = {}; return n.addClass(T.loading), t = { context: { scrollTop: L.scrollTop(), height: L.outerHeight() }, menu: { offset: n.offset(), height: n.outerHeight() } }, o = { above: t.context.scrollTop <= t.menu.offset.top - t.menu.height, below: t.context.scrollTop + t.context.height >= t.menu.offset.top + t.menu.height }, o.below ? (k.verbose("Dropdown can fit in context downward", o), i = !0) : o.below || o.above ? (k.verbose("Dropdown cannot fit below, opening upward", o), i = !1) : (k.verbose("Dropdown cannot fit in either direction, favoring downward", o), i = !0), n.removeClass(T.loading), i }, inObject: function (t, n) { var i = !1; return e.each(n, function (e, n) { if (n == t) return i = !0, !0 }), i }, multiple: function () { return M.hasClass(T.multiple) }, remote: function () { return S.apiSettings && k.can.useAPI() }, single: function () { return !k.is.multiple() }, selectMutation: function (t) { var n = !1; return e.each(t, function (t, i) { if (i.target && e(i.target).is("select")) return n = !0, !0 }), n }, search: function () { return M.hasClass(T.search) }, searchSelection: function () { return k.has.search() && 1 === V.parent(D.dropdown).length }, selection: function () { return M.hasClass(T.selection) }, userValue: function (t) { return e.inArray(t, k.get.userValues()) !== -1 }, upward: function (e) { var t = e || M; return t.hasClass(T.upward) }, visible: function (e) { return e ? e.hasClass(T.visible) : Q.hasClass(T.visible) } }, can: { activate: function (e) { return !!S.useLabels || (!k.has.maxSelections() || !(!k.has.maxSelections() || !e.hasClass(T.active))) }, click: function () { return c || "click" == S.on }, extendSelect: function () { return S.allowAdditions || S.apiSettings }, show: function () { return !k.is.disabled() && (k.has.items() || k.has.message()) }, useAPI: function () { return e.fn.api !== i } }, animate: { show: function (t, n) { var o, a = n || Q, r = n ? function () { } : function () { k.hideSubMenus(), k.hideOthers(), k.set.active() }; t = e.isFunction(t) ? t : function () { }, k.verbose("Doing menu show animation", a), k.set.direction(n), o = k.get.transition(n), k.is.selection() && k.set.scrollPosition(k.get.selectedItem(), !0), (k.is.hidden(a) || k.is.animating(a)) && ("none" == o ? (r(), a.transition("show"), t.call(K)) : e.fn.transition !== i && M.transition("is supported") ? a.transition({ animation: o + " in", debug: S.debug, verbose: S.verbose, duration: S.duration, queue: !0, onStart: r, onComplete: function () { t.call(K) } }) : k.error(q.noTransition, o)) }, hide: function (t, n) { var o = n || Q, a = (n ? .9 * S.duration : S.duration, n ? function () { } : function () { k.can.click() && k.unbind.intent(), k.remove.active() }), r = k.get.transition(n); t = e.isFunction(t) ? t : function () { }, (k.is.visible(o) || k.is.animating(o)) && (k.verbose("Doing menu hide animation", o), "none" == r ? (a(), o.transition("hide"), t.call(K)) : e.fn.transition !== i && M.transition("is supported") ? o.transition({ animation: r + " out", duration: S.duration, debug: S.debug, verbose: S.verbose, queue: !0, onStart: a, onComplete: function () { "auto" == S.direction && k.remove.upward(n), t.call(K) } }) : k.error(q.transition)) } }, hideAndClear: function () { k.remove.searchTerm(), k.has.maxSelections() || (k.has.search() ? k.hide(function () { k.remove.filteredItem() }) : k.hide()) }, delay: { show: function () { k.verbose("Delaying show event to ensure user intent"), clearTimeout(k.timer), k.timer = setTimeout(k.show, S.delay.show) }, hide: function () { k.verbose("Delaying hide event to ensure user intent"), clearTimeout(k.timer), k.timer = setTimeout(k.hide, S.delay.hide) } }, escape: { value: function (t) { var n = e.isArray(t), i = "string" == typeof t, o = !i && !n, a = i && t.search(O.quote) !== -1, r = []; return o || !a ? t : (k.debug("Encoding quote values for use in select", t), n ? (e.each(t, function (e, t) { r.push(t.replace(O.quote, "&quot;")) }), r) : t.replace(O.quote, "&quot;")) }, string: function (e) { return e = String(e), e.replace(O.escape, "\\$&") } }, setting: function (t, n) { if (k.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, S, t); else { if (n === i) return S[t]; e.isPlainObject(S[t]) ? e.extend(!0, S[t], n) : S[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, k, t); else { if (n === i) return k[t]; k[t] = n } }, debug: function () { !S.silent && S.debug && (S.performance ? k.performance.log(arguments) : (k.debug = Function.prototype.bind.call(console.info, console, S.name + ":"), k.debug.apply(console, arguments))) }, verbose: function () { !S.silent && S.verbose && S.debug && (S.performance ? k.performance.log(arguments) : (k.verbose = Function.prototype.bind.call(console.info, console, S.name + ":"), k.verbose.apply(console, arguments))) }, error: function () { S.silent || (k.error = Function.prototype.bind.call(console.error, console, S.name + ":"), k.error.apply(console, arguments)) }, performance: {
          log: function (e) {
            var t, n, i; S.performance && (t = (new Date).getTime(), i = u || t, n = t - i, u = t, d.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: K, "Execution Time": n })), clearTimeout(k.performance.timer), k.performance.timer = setTimeout(k.performance.display, 500);
          }, display: function () { var t = S.name + ":", n = 0; u = !1, clearTimeout(k.performance.timer), e.each(d, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", l && (t += " '" + l + "'"), (console.group !== i || console.table !== i) && d.length > 0 && (console.groupCollapsed(t), console.table ? console.table(d) : e.each(d, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), d = [] }
        }, invoke: function (t, n, o) { var r, s, l, c = J; return n = n || g, o = K || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (k.error(q.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s }
      }, m ? (J === i && k.initialize(), k.invoke(f)) : (J !== i && J.invoke("destroy"), k.initialize())
    }), a !== i ? a : r
  }, e.fn.dropdown.settings = { silent: !1, debug: !1, verbose: !1, performance: !0, on: "click", action: "activate", apiSettings: !1, selectOnKeydown: !0, minCharacters: 0, filterRemoteData: !1, saveRemoteData: !0, throttle: 200, context: t, direction: "auto", keepOnScreen: !0, match: "both", fullTextSearch: !1, placeholder: "auto", preserveHTML: !0, sortSelect: !1, forceSelection: !0, allowAdditions: !1, hideAdditions: !0, maxSelections: !1, useLabels: !0, delimiter: ",", showOnFocus: !0, allowReselection: !1, allowTab: !0, allowCategorySelection: !1, fireOnInit: !1, transition: "auto", duration: 200, glyphWidth: 1.037, label: { transition: "scale", duration: 200, variation: !1 }, delay: { hide: 300, show: 200, search: 20, touch: 50 }, onChange: function (e, t, n) { }, onAdd: function (e, t, n) { }, onRemove: function (e, t, n) { }, onLabelSelect: function (e) { }, onLabelCreate: function (t, n) { return e(this) }, onLabelRemove: function (e) { return !0 }, onNoResults: function (e) { return !0 }, onShow: function () { }, onHide: function () { }, name: "Dropdown", namespace: "dropdown", message: { addResult: "Add <b>{term}</b>", count: "{count} selected", maxSelections: "Max {maxCount} selections", noResults: "No results found.", serverError: "There was an error contacting the server" }, error: { action: "You called a dropdown action that was not defined", alreadySetup: "Once a select has been initialized behaviors must be called on the created ui dropdown", labels: "Allowing user additions currently requires the use of labels.", missingMultiple: "<select> requires multiple property to be set to correctly preserve multiple values", method: "The method you called is not defined.", noAPI: "The API module is required to load resources remotely", noStorage: "Saving remote data requires session storage", noTransition: "This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>" }, regExp: { escape: /[-[\]{}()*+?.,\\^$|#\s]/g, quote: /"/g }, metadata: { defaultText: "defaultText", defaultValue: "defaultValue", placeholderText: "placeholder", text: "text", value: "value" }, fields: { remoteValues: "results", values: "values", disabled: "disabled", name: "name", value: "value", text: "text" }, keys: { backspace: 8, delimiter: 188, deleteKey: 46, enter: 13, escape: 27, pageUp: 33, pageDown: 34, leftArrow: 37, upArrow: 38, rightArrow: 39, downArrow: 40 }, selector: { addition: ".addition", dropdown: ".ui.dropdown", hidden: ".hidden", icon: "> .dropdown.icon", input: '> input[type="hidden"], > select', item: ".item", label: "> .label", remove: "> .label > .delete.icon", siblingLabel: ".label", menu: ".menu", message: ".message", menuIcon: ".dropdown.icon", search: "input.search, .menu > .search > input, .menu input.search", sizer: "> input.sizer", text: "> .text:not(.icon)", unselectable: ".disabled, .filtered" }, className: { active: "active", addition: "addition", animating: "animating", disabled: "disabled", empty: "empty", dropdown: "ui dropdown", filtered: "filtered", hidden: "hidden transition", item: "item", label: "ui label", loading: "loading", menu: "menu", message: "message", multiple: "multiple", placeholder: "default", sizer: "sizer", search: "search", selected: "selected", selection: "selection", upward: "upward", visible: "visible" } }, e.fn.dropdown.settings.templates = { dropdown: function (t) { var n = t.placeholder || !1, i = (t.values || {}, ""); return i += '<i class="dropdown icon"></i>', i += t.placeholder ? '<div class="default text">' + n + "</div>" : '<div class="text"></div>', i += '<div class="menu">', e.each(t.values, function (e, t) { i += t.disabled ? '<div class="disabled item" data-value="' + t.value + '">' + t.name + "</div>" : '<div class="item" data-value="' + t.value + '">' + t.name + "</div>" }), i += "</div>" }, menu: function (t, n) { var i = t[n.values] || {}, o = ""; return e.each(i, function (e, t) { var i = t[n.text] ? 'data-text="' + t[n.text] + '"' : "", a = t[n.disabled] ? "disabled " : ""; o += '<div class="' + a + 'item" data-value="' + t[n.value] + '"' + i + ">", o += t[n.name], o += "</div>" }), o }, label: function (e, t) { return t + '<i class="delete icon"></i>' }, message: function (e) { return e }, addition: function (e) { return e } }
}(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.embed = function (n) { var o, a = e(this), r = a.selector || "", s = (new Date).getTime(), l = [], c = arguments[0], u = "string" == typeof c, d = [].slice.call(arguments, 1); return a.each(function () { var f, m = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.embed.settings, n) : e.extend({}, e.fn.embed.settings), g = m.selector, p = m.className, h = m.sources, v = m.error, b = m.metadata, y = m.namespace, x = m.templates, C = "." + y, w = "module-" + y, k = (e(t), e(this)), S = k.find(g.placeholder), T = k.find(g.icon), A = k.find(g.embed), R = this, P = k.data(w); f = { initialize: function () { f.debug("Initializing embed"), f.determine.autoplay(), f.create(), f.bind.events(), f.instantiate() }, instantiate: function () { f.verbose("Storing instance of module", f), P = f, k.data(w, f) }, destroy: function () { f.verbose("Destroying previous instance of embed"), f.reset(), k.removeData(w).off(C) }, refresh: function () { f.verbose("Refreshing selector cache"), S = k.find(g.placeholder), T = k.find(g.icon), A = k.find(g.embed) }, bind: { events: function () { f.has.placeholder() && (f.debug("Adding placeholder events"), k.on("click" + C, g.placeholder, f.createAndShow).on("click" + C, g.icon, f.createAndShow)) } }, create: function () { var e = f.get.placeholder(); e ? f.createPlaceholder() : f.createAndShow() }, createPlaceholder: function (e) { var t = f.get.icon(), n = f.get.url(); f.generate.embed(n); e = e || f.get.placeholder(), k.html(x.placeholder(e, t)), f.debug("Creating placeholder for embed", e, t) }, createEmbed: function (t) { f.refresh(), t = t || f.get.url(), A = e("<div/>").addClass(p.embed).html(f.generate.embed(t)).appendTo(k), m.onCreate.call(R, t), f.debug("Creating embed object", A) }, changeEmbed: function (e) { A.html(f.generate.embed(e)) }, createAndShow: function () { f.createEmbed(), f.show() }, change: function (e, t, n) { f.debug("Changing video to ", e, t, n), k.data(b.source, e).data(b.id, t), n ? k.data(b.url, n) : k.removeData(b.url), f.has.embed() ? f.changeEmbed() : f.create() }, reset: function () { f.debug("Clearing embed and showing placeholder"), f.remove.active(), f.remove.embed(), f.showPlaceholder(), m.onReset.call(R) }, show: function () { f.debug("Showing embed"), f.set.active(), m.onDisplay.call(R) }, hide: function () { f.debug("Hiding embed"), f.showPlaceholder() }, showPlaceholder: function () { f.debug("Showing placeholder image"), f.remove.active(), m.onPlaceholderDisplay.call(R) }, get: { id: function () { return m.id || k.data(b.id) }, placeholder: function () { return m.placeholder || k.data(b.placeholder) }, icon: function () { return m.icon ? m.icon : k.data(b.icon) !== i ? k.data(b.icon) : f.determine.icon() }, source: function (e) { return m.source ? m.source : k.data(b.source) !== i ? k.data(b.source) : f.determine.source() }, type: function () { var e = f.get.source(); return h[e] !== i && h[e].type }, url: function () { return m.url ? m.url : k.data(b.url) !== i ? k.data(b.url) : f.determine.url() } }, determine: { autoplay: function () { f.should.autoplay() && (m.autoplay = !0) }, source: function (t) { var n = !1; return t = t || f.get.url(), t && e.each(h, function (e, i) { if (t.search(i.domain) !== -1) return n = e, !1 }), n }, icon: function () { var e = f.get.source(); return h[e] !== i && h[e].icon }, url: function () { var e, t = m.id || k.data(b.id), n = m.source || k.data(b.source); return e = h[n] !== i && h[n].url.replace("{id}", t), e && k.data(b.url, e), e } }, set: { active: function () { k.addClass(p.active) } }, remove: { active: function () { k.removeClass(p.active) }, embed: function () { A.empty() } }, encode: { parameters: function (e) { var t, n = []; for (t in e) n.push(encodeURIComponent(t) + "=" + encodeURIComponent(e[t])); return n.join("&amp;") } }, generate: { embed: function (e) { f.debug("Generating embed html"); var t, n, i = f.get.source(); return e = f.get.url(e), e ? (n = f.generate.parameters(i), t = x.iframe(e, n)) : f.error(v.noURL, k), t }, parameters: function (t, n) { var o = h[t] && h[t].parameters !== i ? h[t].parameters(m) : {}; return n = n || m.parameters, n && (o = e.extend({}, o, n)), o = m.onEmbed(o), f.encode.parameters(o) } }, has: { embed: function () { return A.length > 0 }, placeholder: function () { return m.placeholder || k.data(b.placeholder) } }, should: { autoplay: function () { return "auto" === m.autoplay ? m.placeholder || k.data(b.placeholder) !== i : m.autoplay } }, is: { video: function () { return "video" == f.get.type() } }, setting: function (t, n) { if (f.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; e.isPlainObject(m[t]) ? e.extend(!0, m[t], n) : m[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, f, t); else { if (n === i) return f[t]; f[t] = n } }, debug: function () { !m.silent && m.debug && (m.performance ? f.performance.log(arguments) : (f.debug = Function.prototype.bind.call(console.info, console, m.name + ":"), f.debug.apply(console, arguments))) }, verbose: function () { !m.silent && m.verbose && m.debug && (m.performance ? f.performance.log(arguments) : (f.verbose = Function.prototype.bind.call(console.info, console, m.name + ":"), f.verbose.apply(console, arguments))) }, error: function () { m.silent || (f.error = Function.prototype.bind.call(console.error, console, m.name + ":"), f.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; m.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: R, "Execution Time": n })), clearTimeout(f.performance.timer), f.performance.timer = setTimeout(f.performance.display, 500) }, display: function () { var t = m.name + ":", n = 0; s = !1, clearTimeout(f.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", r && (t += " '" + r + "'"), a.length > 1 && (t += " (" + a.length + ")"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, a) { var r, s, l, c = P; return n = n || d, a = R || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (f.error(v.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(a, n) : s !== i && (l = s), e.isArray(o) ? o.push(l) : o !== i ? o = [o, l] : l !== i && (o = l), s } }, u ? (P === i && f.initialize(), f.invoke(c)) : (P !== i && P.invoke("destroy"), f.initialize()) }), o !== i ? o : this }, e.fn.embed.settings = { name: "Embed", namespace: "embed", silent: !1, debug: !1, verbose: !1, performance: !0, icon: !1, source: !1, url: !1, id: !1, autoplay: "auto", color: "#444444", hd: !0, brandedUI: !1, parameters: !1, onDisplay: function () { }, onPlaceholderDisplay: function () { }, onReset: function () { }, onCreate: function (e) { }, onEmbed: function (e) { return e }, metadata: { id: "id", icon: "icon", placeholder: "placeholder", source: "source", url: "url" }, error: { noURL: "No URL specified", method: "The method you called is not defined" }, className: { active: "active", embed: "embed" }, selector: { embed: ".embed", placeholder: ".placeholder", icon: ".icon" }, sources: { youtube: { name: "youtube", type: "video", icon: "video play", domain: "youtube.com", url: "//www.youtube.com/embed/{id}", parameters: function (e) { return { autohide: !e.brandedUI, autoplay: e.autoplay, color: e.color || i, hq: e.hd, jsapi: e.api, modestbranding: !e.brandedUI } } }, vimeo: { name: "vimeo", type: "video", icon: "video play", domain: "vimeo.com", url: "//player.vimeo.com/video/{id}", parameters: function (e) { return { api: e.api, autoplay: e.autoplay, byline: e.brandedUI, color: e.color || i, portrait: e.brandedUI, title: e.brandedUI } } } }, templates: { iframe: function (e, t) { var n = e; return t && (n += "?" + t), '<iframe src="' + n + '" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>' }, placeholder: function (e, t) { var n = ""; return t && (n += '<i class="' + t + ' icon"></i>'), e && (n += '<img class="placeholder" src="' + e + '">'), n } }, api: !1, onPause: function () { }, onPlay: function () { }, onStop: function () { } } }(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.suimodal = function (o) { var a, r = e(this), s = e(t), l = e(n), c = e("body"), u = r.selector || "", d = (new Date).getTime(), f = [], m = arguments[0], g = "string" == typeof m, p = [].slice.call(arguments, 1), h = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }; return r.each(function () { var r, v, b, y, x, C, w, k, S, T = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.suimodal.settings, o) : e.extend({}, e.fn.suimodal.settings), A = T.selector, R = T.className, P = T.namespace, E = T.error, F = "." + P, O = "module-" + P, D = e(this), q = e(T.context), j = D.find(A.close), z = this, I = D.data(O); S = { initialize: function () { S.verbose("Initializing dimmer", q), S.create.id(), S.create.dimmer(), S.refreshsuimodals(), S.bind.events(), T.observeChanges && S.observeChanges(), S.instantiate() }, instantiate: function () { S.verbose("Storing instance of suimodal"), I = S, D.data(O, I) }, create: { dimmer: function () { var t = { debug: T.debug, dimmerName: "suimodals", duration: { show: T.duration, hide: T.duration } }, n = e.extend(!0, t, T.dimmerSettings); return T.inverted && (n.variation = n.variation !== i ? n.variation + " inverted" : "inverted"), e.fn.dimmer === i ? void S.error(E.dimmer) : (S.debug("Creating dimmer with settings", n), y = q.dimmer(n), T.detachable ? (S.verbose("suimodal is detachable, moving content into dimmer"), y.dimmer("add content", D)) : S.set.undetached(), T.blurring && y.addClass(R.blurring), void (x = y.dimmer("get dimmer"))) }, id: function () { w = (Math.random().toString(16) + "000000000").substr(2, 8), C = "." + w, S.verbose("Creating unique id for element", w) } }, destroy: function () { S.verbose("Destroying previous suimodal"), D.removeData(O).off(F), s.off(C), x.off(C), j.off(F), q.dimmer("destroy") }, observeChanges: function () { "MutationObserver" in t && (k = new MutationObserver(function (e) { S.debug("DOM tree modified, refreshing"), S.refresh() }), k.observe(z, { childList: !0, subtree: !0 }), S.debug("Setting up mutation observer", k)) }, refresh: function () { S.remove.scrolling(), S.cacheSizes(), S.set.screenHeight(), S.set.type(), S.set.position() }, refreshsuimodals: function () { v = D.siblings(A.suimodal), r = v.add(D) }, attachEvents: function (t, n) { var i = e(t); n = e.isFunction(S[n]) ? S[n] : S.toggle, i.length > 0 ? (S.debug("Attaching suimodal events to element", t, n), i.off(F).on("click" + F, n)) : S.error(E.notFound, t) }, bind: { events: function () { S.verbose("Attaching events"), D.on("click" + F, A.close, S.event.close).on("click" + F, A.approve, S.event.approve).on("click" + F, A.deny, S.event.deny), s.on("resize" + C, S.event.resize) } }, get: { id: function () { return (Math.random().toString(16) + "000000000").substr(2, 8) } }, event: { approve: function () { return T.onApprove.call(z, e(this)) === !1 ? void S.verbose("Approve callback returned false cancelling hide") : void S.hide() }, deny: function () { return T.onDeny.call(z, e(this)) === !1 ? void S.verbose("Deny callback returned false cancelling hide") : void S.hide() }, close: function () { S.hide() }, click: function (t) { var i = e(t.target), o = i.closest(A.suimodal).length > 0, a = e.contains(n.documentElement, t.target); !o && a && (S.debug("Dimmer clicked, hiding all suimodals"), S.is.active() && (S.remove.clickaway(), T.allowMultiple ? S.hide() : S.hideAll())) }, debounce: function (e, t) { clearTimeout(S.timer), S.timer = setTimeout(e, t) }, keyboard: function (e) { var t = e.which, n = 27; t == n && (T.closable ? (S.debug("Escape key pressed hiding suimodal"), S.hide()) : S.debug("Escape key pressed, but closable is set to false"), e.preventDefault()) }, resize: function () { y.dimmer("is active") && h(S.refresh) } }, toggle: function () { S.is.active() || S.is.animating() ? S.hide() : S.show() }, show: function (t) { t = e.isFunction(t) ? t : function () { }, S.refreshsuimodals(), S.showsuimodal(t) }, hide: function (t) { t = e.isFunction(t) ? t : function () { }, S.refreshsuimodals(), S.hidesuimodal(t) }, showsuimodal: function (t) { t = e.isFunction(t) ? t : function () { }, S.is.animating() || !S.is.active() ? (S.showDimmer(), S.cacheSizes(), S.set.position(), S.set.screenHeight(), S.set.type(), S.set.clickaway(), !T.allowMultiple && S.others.active() ? S.hideOthers(S.showsuimodal) : (T.onShow.call(z), T.transition && e.fn.transition !== i && D.transition("is supported") ? (S.debug("Showing suimodal with css animations"), D.transition({ debug: T.debug, animation: T.transition + " in", queue: T.queue, duration: T.duration, useFailSafe: !0, onComplete: function () { T.onVisible.apply(z), T.keyboardShortcuts && S.add.keyboardShortcuts(), S.save.focus(), S.set.active(), T.autofocus && S.set.autofocus(), t() } })) : S.error(E.noTransition))) : S.debug("suimodal is already visible") }, hidesuimodal: function (t, n) { return t = e.isFunction(t) ? t : function () { }, S.debug("Hiding suimodal"), T.onHide.call(z, e(this)) === !1 ? void S.verbose("Hide callback returned false cancelling hide") : void ((S.is.animating() || S.is.active()) && (T.transition && e.fn.transition !== i && D.transition("is supported") ? (S.remove.active(), D.transition({ debug: T.debug, animation: T.transition + " out", queue: T.queue, duration: T.duration, useFailSafe: !0, onStart: function () { S.others.active() || n || S.hideDimmer(), T.keyboardShortcuts && S.remove.keyboardShortcuts() }, onComplete: function () { T.onHidden.call(z), S.restore.focus(), t() } })) : S.error(E.noTransition))) }, showDimmer: function () { y.dimmer("is animating") || !y.dimmer("is active") ? (S.debug("Showing dimmer"), y.dimmer("show")) : S.debug("Dimmer already visible") }, hideDimmer: function () { return y.dimmer("is animating") || y.dimmer("is active") ? void y.dimmer("hide", function () { S.remove.clickaway(), S.remove.screenHeight() }) : void S.debug("Dimmer is not visible cannot hide") }, hideAll: function (t) { var n = r.filter("." + R.active + ", ." + R.animating); t = e.isFunction(t) ? t : function () { }, n.length > 0 && (S.debug("Hiding all visible suimodals"), S.hideDimmer(), n.suimodal("hide suimodal", t)) }, hideOthers: function (t) { var n = v.filter("." + R.active + ", ." + R.animating); t = e.isFunction(t) ? t : function () { }, n.length > 0 && (S.debug("Hiding other suimodals", v), n.suimodal("hide suimodal", t, !0)) }, others: { active: function () { return v.filter("." + R.active).length > 0 }, animating: function () { return v.filter("." + R.animating).length > 0 } }, add: { keyboardShortcuts: function () { S.verbose("Adding keyboard shortcuts"), l.on("keyup" + F, S.event.keyboard) } }, save: { focus: function () { b = e(n.activeElement).blur() } }, restore: { focus: function () { b && b.length > 0 && b.focus() } }, remove: { active: function () { D.removeClass(R.active) }, clickaway: function () { T.closable && x.off("click" + C) }, bodyStyle: function () { "" === c.attr("style") && (S.verbose("Removing style attribute"), c.removeAttr("style")) }, screenHeight: function () { S.debug("Removing page height"), c.css("height", "") }, keyboardShortcuts: function () { S.verbose("Removing keyboard shortcuts"), l.off("keyup" + F) }, scrolling: function () { y.removeClass(R.scrolling), D.removeClass(R.scrolling) } }, cacheSizes: function () { var o = D.outerHeight(); S.cache !== i && 0 === o || (S.cache = { pageHeight: e(n).outerHeight(), height: o + T.offset, contextHeight: "body" == T.context ? e(t).height() : y.height() }), S.debug("Caching suimodal and container sizes", S.cache) }, can: { fit: function () { return S.cache.height + 2 * T.padding < S.cache.contextHeight } }, is: { active: function () { return D.hasClass(R.active) }, animating: function () { return D.transition("is supported") ? D.transition("is animating") : D.is(":visible") }, scrolling: function () { return y.hasClass(R.scrolling) }, modernBrowser: function () { return !(t.ActiveXObject || "ActiveXObject" in t) } }, set: { autofocus: function () { var e = D.find("[tabindex], :input").filter(":visible"), t = e.filter("[autofocus]"), n = t.length > 0 ? t.first() : e.first(); n.length > 0 && n.focus() }, clickaway: function () { T.closable && x.on("click" + C, S.event.click) }, screenHeight: function () { S.can.fit() ? c.css("height", "") : (S.debug("suimodal is taller than page content, resizing page height"), c.css("height", S.cache.height + 2 * T.padding)) }, active: function () { D.addClass(R.active) }, scrolling: function () { y.addClass(R.scrolling), D.addClass(R.scrolling) }, type: function () { S.can.fit() ? (S.verbose("suimodal fits on screen"), S.others.active() || S.others.animating() || S.remove.scrolling()) : (S.verbose("suimodal cannot fit on screen setting to scrolling"), S.set.scrolling()) }, position: function () { S.verbose("Centering suimodal on page", S.cache), S.can.fit() ? D.css({ top: "", marginTop: -(S.cache.height / 2) }) : D.css({ marginTop: "", top: l.scrollTop() }) }, undetached: function () { y.addClass(R.undetached) } }, setting: function (t, n) { if (S.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, T, t); else { if (n === i) return T[t]; e.isPlainObject(T[t]) ? e.extend(!0, T[t], n) : T[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, S, t); else { if (n === i) return S[t]; S[t] = n } }, debug: function () { !T.silent && T.debug && (T.performance ? S.performance.log(arguments) : (S.debug = Function.prototype.bind.call(console.info, console, T.name + ":"), S.debug.apply(console, arguments))) }, verbose: function () { !T.silent && T.verbose && T.debug && (T.performance ? S.performance.log(arguments) : (S.verbose = Function.prototype.bind.call(console.info, console, T.name + ":"), S.verbose.apply(console, arguments))) }, error: function () { T.silent || (S.error = Function.prototype.bind.call(console.error, console, T.name + ":"), S.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; T.performance && (t = (new Date).getTime(), i = d || t, n = t - i, d = t, f.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: z, "Execution Time": n })), clearTimeout(S.performance.timer), S.performance.timer = setTimeout(S.performance.display, 500) }, display: function () { var t = T.name + ":", n = 0; d = !1, clearTimeout(S.performance.timer), e.each(f, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", u && (t += " '" + u + "'"), (console.group !== i || console.table !== i) && f.length > 0 && (console.groupCollapsed(t), console.table ? console.table(f) : e.each(f, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), f = [] } }, invoke: function (t, n, o) { var r, s, l, c = I; return n = n || p, o = z || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o], !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s } }, g ? (I === i && S.initialize(), S.invoke(m)) : (I !== i && I.invoke("destroy"), S.initialize()) }), a !== i ? a : this }, e.fn.suimodal.settings = { name: "suimodal", namespace: "suimodal", silent: !1, debug: !1, verbose: !1, performance: !0, observeChanges: !1, allowMultiple: !1, detachable: !0, closable: !0, autofocus: !0, inverted: !1, blurring: !1, dimmerSettings: { closable: !1, useCSS: !0 }, keyboardShortcuts: !0, context: "body", queue: !1, duration: 500, offset: 0, transition: "scale", padding: 50, onShow: function () { }, onVisible: function () { }, onHide: function () { return !0 }, onHidden: function () { }, onApprove: function () { return !0 }, onDeny: function () { return !0 }, selector: { close: "> .close", approve: ".actions .positive, .actions .approve, .actions .ok", deny: ".actions .negative, .actions .deny, .actions .cancel", suimodal: ".ui.suimodal" }, error: { dimmer: "UI Dimmer, a required component is not included in this page", method: "The method you called is not defined.", notFound: "The element you specified could not be found" }, className: { active: "active", animating: "animating", blurring: "blurring", scrolling: "scrolling", undetached: "undetached" } } }(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.nag = function (n) { var o, a = e(this), r = a.selector || "", s = (new Date).getTime(), l = [], c = arguments[0], u = "string" == typeof c, d = [].slice.call(arguments, 1); return a.each(function () { var a, f = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.nag.settings, n) : e.extend({}, e.fn.nag.settings), m = (f.className, f.selector), g = f.error, p = f.namespace, h = "." + p, v = p + "-module", b = e(this), y = (b.find(m.close), e(f.context ? f.context : "body")), x = this, C = b.data(v); t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }; a = { initialize: function () { a.verbose("Initializing element"), b.on("click" + h, m.close, a.dismiss).data(v, a), f.detachable && b.parent()[0] !== y[0] && b.detach().prependTo(y), f.displayTime > 0 && setTimeout(a.hide, f.displayTime), a.show() }, destroy: function () { a.verbose("Destroying instance"), b.removeData(v).off(h) }, show: function () { a.should.show() && !b.is(":visible") && (a.debug("Showing nag", f.animation.show), "fade" == f.animation.show ? b.fadeIn(f.duration, f.easing) : b.slideDown(f.duration, f.easing)) }, hide: function () { a.debug("Showing nag", f.animation.hide), "fade" == f.animation.show ? b.fadeIn(f.duration, f.easing) : b.slideUp(f.duration, f.easing) }, onHide: function () { a.debug("Removing nag", f.animation.hide), b.remove(), f.onHide && f.onHide() }, dismiss: function (e) { f.storageMethod && a.storage.set(f.key, f.value), a.hide(), e.stopImmediatePropagation(), e.preventDefault() }, should: { show: function () { return f.persist ? (a.debug("Persistent nag is set, can show nag"), !0) : a.storage.get(f.key) != f.value.toString() ? (a.debug("Stored value is not set, can show nag", a.storage.get(f.key)), !0) : (a.debug("Stored value is set, cannot show nag", a.storage.get(f.key)), !1) } }, get: { storageOptions: function () { var e = {}; return f.expires && (e.expires = f.expires), f.domain && (e.domain = f.domain), f.path && (e.path = f.path), e } }, clear: function () { a.storage.remove(f.key) }, storage: { set: function (n, o) { var r = a.get.storageOptions(); if ("localstorage" == f.storageMethod && t.localStorage !== i) t.localStorage.setItem(n, o), a.debug("Value stored using local storage", n, o); else if ("sessionstorage" == f.storageMethod && t.sessionStorage !== i) t.sessionStorage.setItem(n, o), a.debug("Value stored using session storage", n, o); else { if (e.cookie === i) return void a.error(g.noCookieStorage); e.cookie(n, o, r), a.debug("Value stored using cookie", n, o, r) } }, get: function (n, o) { var r; return "localstorage" == f.storageMethod && t.localStorage !== i ? r = t.localStorage.getItem(n) : "sessionstorage" == f.storageMethod && t.sessionStorage !== i ? r = t.sessionStorage.getItem(n) : e.cookie !== i ? r = e.cookie(n) : a.error(g.noCookieStorage), "undefined" != r && "null" != r && r !== i && null !== r || (r = i), r }, remove: function (n) { var o = a.get.storageOptions(); "localstorage" == f.storageMethod && t.localStorage !== i ? t.localStorage.removeItem(n) : "sessionstorage" == f.storageMethod && t.sessionStorage !== i ? t.sessionStorage.removeItem(n) : e.cookie !== i ? e.removeCookie(n, o) : a.error(g.noStorage) } }, setting: function (t, n) { if (a.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, f, t); else { if (n === i) return f[t]; e.isPlainObject(f[t]) ? e.extend(!0, f[t], n) : f[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, a, t); else { if (n === i) return a[t]; a[t] = n } }, debug: function () { !f.silent && f.debug && (f.performance ? a.performance.log(arguments) : (a.debug = Function.prototype.bind.call(console.info, console, f.name + ":"), a.debug.apply(console, arguments))) }, verbose: function () { !f.silent && f.verbose && f.debug && (f.performance ? a.performance.log(arguments) : (a.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"), a.verbose.apply(console, arguments))) }, error: function () { f.silent || (a.error = Function.prototype.bind.call(console.error, console, f.name + ":"), a.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; f.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: x, "Execution Time": n })), clearTimeout(a.performance.timer), a.performance.timer = setTimeout(a.performance.display, 500) }, display: function () { var t = f.name + ":", n = 0; s = !1, clearTimeout(a.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", r && (t += " '" + r + "'"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, r) { var s, l, c, u = C; return n = n || d, r = x || r, "string" == typeof t && u !== i && (t = t.split(/[\. ]/), s = t.length - 1, e.each(t, function (n, o) { var r = n != s ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(u[r]) && n != s) u = u[r]; else { if (u[r] !== i) return l = u[r], !1; if (!e.isPlainObject(u[o]) || n == s) return u[o] !== i ? (l = u[o], !1) : (a.error(g.method, t), !1); u = u[o] } })), e.isFunction(l) ? c = l.apply(r, n) : l !== i && (c = l), e.isArray(o) ? o.push(c) : o !== i ? o = [o, c] : c !== i && (o = c), l } }, u ? (C === i && a.initialize(), a.invoke(c)) : (C !== i && C.invoke("destroy"), a.initialize()) }), o !== i ? o : this }, e.fn.nag.settings = { name: "Nag", silent: !1, debug: !1, verbose: !1, performance: !0, namespace: "Nag", persist: !1, displayTime: 0, animation: { show: "slide", hide: "slide" }, context: !1, detachable: !1, expires: 30, domain: !1, path: "/", storageMethod: "cookie", key: "nag", value: "dismiss", error: { noCookieStorage: "$.cookie is not included. A storage solution is required.", noStorage: "Neither $.cookie or store is defined. A storage solution is required for storing state", method: "The method you called is not defined." }, className: { bottom: "bottom", fixed: "fixed" }, selector: { close: ".close.icon" }, speed: 500, easing: "easeOutQuad", onHide: function () { } }, e.extend(e.easing, { easeOutQuad: function (e, t, n, i, o) { return -i * (t /= o) * (t - 2) + n } }) }(jQuery, window, document), function (e, t, n, i) {
  "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.popup = function (o) {
    var a, r = e(this), s = e(n), l = e(t), c = e("body"), u = r.selector || "", d = !0, f = (new Date).getTime(), m = [], g = arguments[0], p = "string" == typeof g, h = [].slice.call(arguments, 1); return r.each(function () {
      var r, v, b, y, x, C, w = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.popup.settings, o) : e.extend({}, e.fn.popup.settings), k = w.selector, S = w.className, T = w.error, A = w.metadata, R = w.namespace, P = "." + w.namespace, E = "module-" + R, F = e(this), O = e(w.context), D = e(w.scrollContext), q = e(w.boundary), j = w.target ? e(w.target) : F, z = 0, I = !1, M = !1, L = this, N = F.data(E); C = {
        initialize: function () { C.debug("Initializing", F), C.createID(), C.bind.events(), !C.exists() && w.preserve && C.create(), w.observeChanges && C.observeChanges(), C.instantiate() }, instantiate: function () { C.verbose("Storing instance", C), N = C, F.data(E, N) }, observeChanges: function () { "MutationObserver" in t && (b = new MutationObserver(C.event.documentChanged), b.observe(n, { childList: !0, subtree: !0 }), C.debug("Setting up mutation observer", b)) }, refresh: function () { w.popup ? r = e(w.popup).eq(0) : w.inline && (r = j.nextAll(k.popup).eq(0), w.popup = r), w.popup ? (r.addClass(S.loading), v = C.get.offsetParent(), r.removeClass(S.loading), w.movePopup && C.has.popup() && C.get.offsetParent(r)[0] !== v[0] && (C.debug("Moving popup to the same offset parent as activating element"), r.detach().appendTo(v))) : v = w.inline ? C.get.offsetParent(j) : C.has.popup() ? C.get.offsetParent(r) : c, v.is("html") && v[0] !== c[0] && (C.debug("Setting page as offset parent"), v = c), C.get.variation() && C.set.variation() }, reposition: function () { C.refresh(), C.set.position() }, destroy: function () { C.debug("Destroying previous module"), b && b.disconnect(), r && !w.preserve && C.removePopup(), clearTimeout(C.hideTimer), clearTimeout(C.showTimer), C.unbind.close(), C.unbind.events(), F.removeData(E) }, event: { start: function (t) { var n = e.isPlainObject(w.delay) ? w.delay.show : w.delay; clearTimeout(C.hideTimer), M || (C.showTimer = setTimeout(C.show, n)) }, end: function () { var t = e.isPlainObject(w.delay) ? w.delay.hide : w.delay; clearTimeout(C.showTimer), C.hideTimer = setTimeout(C.hide, t) }, touchstart: function (e) { M = !0, C.show() }, resize: function () { C.is.visible() && C.set.position() }, documentChanged: function (t) { [].forEach.call(t, function (t) { t.removedNodes && [].forEach.call(t.removedNodes, function (t) { (t == L || e(t).find(L).length > 0) && (C.debug("Element removed from DOM, tearing down events"), C.destroy()) }) }) }, hideGracefully: function (t) { var i = e(t.target), o = e.contains(n.documentElement, t.target), a = i.closest(k.popup).length > 0; t && !a && o ? (C.debug("Click occurred outside popup hiding popup"), C.hide()) : C.debug("Click was inside popup, keeping popup open") } }, create: function () {
          var t = C.get.html(), n = C.get.title(), i = C.get.content(); t || i || n ? (C.debug("Creating pop-up html"),
            t || (t = w.templates.popup({ title: n, content: i })), r = e("<div/>").addClass(S.popup).data(A.activator, F).html(t), w.inline ? (C.verbose("Inserting popup element inline", r), r.insertAfter(F)) : (C.verbose("Appending popup element to body", r), r.appendTo(O)), C.refresh(), C.set.variation(), w.hoverable && C.bind.popup(), w.onCreate.call(r, L)) : 0 !== j.next(k.popup).length ? (C.verbose("Pre-existing popup found"), w.inline = !0, w.popup = j.next(k.popup).data(A.activator, F), C.refresh(), w.hoverable && C.bind.popup()) : w.popup ? (e(w.popup).data(A.activator, F), C.verbose("Used popup specified in settings"), C.refresh(), w.hoverable && C.bind.popup()) : C.debug("No content specified skipping display", L)
        }, createID: function () { x = (Math.random().toString(16) + "000000000").substr(2, 8), y = "." + x, C.verbose("Creating unique id for element", x) }, toggle: function () { C.debug("Toggling pop-up"), C.is.hidden() ? (C.debug("Popup is hidden, showing pop-up"), C.unbind.close(), C.show()) : (C.debug("Popup is visible, hiding pop-up"), C.hide()) }, show: function (e) { if (e = e || function () { }, C.debug("Showing pop-up", w.transition), C.is.hidden() && (!C.is.active() || !C.is.dropdown())) { if (C.exists() || C.create(), w.onShow.call(r, L) === !1) return void C.debug("onShow callback returned false, cancelling popup animation"); w.preserve || w.popup || C.refresh(), r && C.set.position() && (C.save.conditions(), w.exclusive && C.hideAll(), C.animate.show(e)) } }, hide: function (e) { if (e = e || function () { }, C.is.visible() || C.is.animating()) { if (w.onHide.call(r, L) === !1) return void C.debug("onHide callback returned false, cancelling popup animation"); C.remove.visible(), C.unbind.close(), C.restore.conditions(), C.animate.hide(e) } }, hideAll: function () { e(k.popup).filter("." + S.visible).each(function () { e(this).data(A.activator).popup("hide") }) }, exists: function () { return !!r && (w.inline || w.popup ? C.has.popup() : r.closest(O).length >= 1) }, removePopup: function () { C.has.popup() && !w.popup && (C.debug("Removing popup", r), r.remove(), r = i, w.onRemove.call(r, L)) }, save: { conditions: function () { C.cache = { title: F.attr("title") }, C.cache.title && F.removeAttr("title"), C.verbose("Saving original attributes", C.cache.title) } }, restore: { conditions: function () { return C.cache && C.cache.title && (F.attr("title", C.cache.title), C.verbose("Restoring original attributes", C.cache.title)), !0 } }, supports: { svg: function () { return typeof SVGGraphicsElement === i } }, animate: { show: function (t) { t = e.isFunction(t) ? t : function () { }, w.transition && e.fn.transition !== i && F.transition("is supported") ? (C.set.visible(), r.transition({ animation: w.transition + " in", queue: !1, debug: w.debug, verbose: w.verbose, duration: w.duration, onComplete: function () { C.bind.close(), t.call(r, L), w.onVisible.call(r, L) } })) : C.error(T.noTransition) }, hide: function (t) { return t = e.isFunction(t) ? t : function () { }, C.debug("Hiding pop-up"), w.onHide.call(r, L) === !1 ? void C.debug("onHide callback returned false, cancelling popup animation") : void (w.transition && e.fn.transition !== i && F.transition("is supported") ? r.transition({ animation: w.transition + " out", queue: !1, duration: w.duration, debug: w.debug, verbose: w.verbose, onComplete: function () { C.reset(), t.call(r, L), w.onHidden.call(r, L) } }) : C.error(T.noTransition)) } }, change: { content: function (e) { r.html(e) } }, get: { html: function () { return F.removeData(A.html), F.data(A.html) || w.html }, title: function () { return F.removeData(A.title), F.data(A.title) || w.title }, content: function () { return F.removeData(A.content), F.data(A.content) || F.attr("title") || w.content }, variation: function () { return F.removeData(A.variation), F.data(A.variation) || w.variation }, popup: function () { return r }, popupOffset: function () { return r.offset() }, calculations: function () { var e, n = j[0], i = q[0] == t, o = w.inline || w.popup && w.movePopup ? j.position() : j.offset(), a = i ? { top: 0, left: 0 } : q.offset(), s = {}, c = i ? { top: l.scrollTop(), left: l.scrollLeft() } : { top: 0, left: 0 }; return s = { target: { element: j[0], width: j.outerWidth(), height: j.outerHeight(), top: o.top, left: o.left, margin: {} }, popup: { width: r.outerWidth(), height: r.outerHeight() }, parent: { width: v.outerWidth(), height: v.outerHeight() }, screen: { top: a.top, left: a.left, scroll: { top: c.top, left: c.left }, width: q.width(), height: q.height() } }, w.setFluidWidth && C.is.fluid() && (s.container = { width: r.parent().outerWidth() }, s.popup.width = s.container.width), s.target.margin.top = w.inline ? parseInt(t.getComputedStyle(n).getPropertyValue("margin-top"), 10) : 0, s.target.margin.left = w.inline ? C.is.rtl() ? parseInt(t.getComputedStyle(n).getPropertyValue("margin-right"), 10) : parseInt(t.getComputedStyle(n).getPropertyValue("margin-left"), 10) : 0, e = s.screen, s.boundary = { top: e.top + e.scroll.top, bottom: e.top + e.scroll.top + e.height, left: e.left + e.scroll.left, right: e.left + e.scroll.left + e.width }, s }, id: function () { return x }, startEvent: function () { return "hover" == w.on ? "mouseenter" : "focus" == w.on && "focus" }, scrollEvent: function () { return "scroll" }, endEvent: function () { return "hover" == w.on ? "mouseleave" : "focus" == w.on && "blur" }, distanceFromBoundary: function (e, t) { var n, i, o = {}; return t = t || C.get.calculations(), n = t.popup, i = t.boundary, e && (o = { top: e.top - i.top, left: e.left - i.left, right: i.right - (e.left + n.width), bottom: i.bottom - (e.top + n.height) }, C.verbose("Distance from boundaries determined", e, o)), o }, offsetParent: function (t) { var n = t !== i ? t[0] : F[0], o = n.parentNode, a = e(o); if (o) for (var r = "none" === a.css("transform"), s = "static" === a.css("position"), l = a.is("html"); o && !l && s && r;)o = o.parentNode, a = e(o), r = "none" === a.css("transform"), s = "static" === a.css("position"), l = a.is("html"); return a && a.length > 0 ? a : e() }, positions: function () { return { "top left": !1, "top center": !1, "top right": !1, "bottom left": !1, "bottom center": !1, "bottom right": !1, "left center": !1, "right center": !1 } }, nextPosition: function (e) { var t = e.split(" "), n = t[0], i = t[1], o = { top: "bottom", bottom: "top", left: "right", right: "left" }, a = { left: "center", center: "right", right: "left" }, r = { "top left": "top center", "top center": "top right", "top right": "right center", "right center": "bottom right", "bottom right": "bottom center", "bottom center": "bottom left", "bottom left": "left center", "left center": "top left" }, s = "top" == n || "bottom" == n, l = !1, c = !1, u = !1; return I || (C.verbose("All available positions available"), I = C.get.positions()), C.debug("Recording last position tried", e), I[e] = !0, "opposite" === w.prefer && (u = [o[n], i], u = u.join(" "), l = I[u] === !0, C.debug("Trying opposite strategy", u)), "adjacent" === w.prefer && s && (u = [n, a[i]], u = u.join(" "), c = I[u] === !0, C.debug("Trying adjacent strategy", u)), (c || l) && (C.debug("Using backup position", u), u = r[e]), u } }, set: { position: function (e, t) { if (0 === j.length || 0 === r.length) return void C.error(T.notFound); var n, o, a, s, l, c, u, d; if (t = t || C.get.calculations(), e = e || F.data(A.position) || w.position, n = F.data(A.offset) || w.offset, o = w.distanceAway, a = t.target, s = t.popup, l = t.parent, 0 === a.width && 0 === a.height && !C.is.svg(a.element)) return C.debug("Popup target is hidden, no action taken"), !1; switch (w.inline && (C.debug("Adding margin to calculation", a.margin), "left center" == e || "right center" == e ? (n += a.margin.top, o += -a.margin.left) : "top left" == e || "top center" == e || "top right" == e ? (n += a.margin.left, o -= a.margin.top) : (n += a.margin.left, o += a.margin.top)), C.debug("Determining popup position from calculations", e, t), C.is.rtl() && (e = e.replace(/left|right/g, function (e) { return "left" == e ? "right" : "left" }), C.debug("RTL: Popup position updated", e)), z == w.maxSearchDepth && "string" == typeof w.lastResort && (e = w.lastResort), e) { case "top left": c = { top: "auto", bottom: l.height - a.top + o, left: a.left + n, right: "auto" }; break; case "top center": c = { bottom: l.height - a.top + o, left: a.left + a.width / 2 - s.width / 2 + n, top: "auto", right: "auto" }; break; case "top right": c = { bottom: l.height - a.top + o, right: l.width - a.left - a.width - n, top: "auto", left: "auto" }; break; case "left center": c = { top: a.top + a.height / 2 - s.height / 2 + n, right: l.width - a.left + o, left: "auto", bottom: "auto" }; break; case "right center": c = { top: a.top + a.height / 2 - s.height / 2 + n, left: a.left + a.width + o, bottom: "auto", right: "auto" }; break; case "bottom left": c = { top: a.top + a.height + o, left: a.left + n, bottom: "auto", right: "auto" }; break; case "bottom center": c = { top: a.top + a.height + o, left: a.left + a.width / 2 - s.width / 2 + n, bottom: "auto", right: "auto" }; break; case "bottom right": c = { top: a.top + a.height + o, right: l.width - a.left - a.width - n, left: "auto", bottom: "auto" } }if (c === i && C.error(T.invalidPosition, e), C.debug("Calculated popup positioning values", c), r.css(c).removeClass(S.position).addClass(e).addClass(S.loading), u = C.get.popupOffset(), d = C.get.distanceFromBoundary(u, t), C.is.offstage(d, e)) { if (C.debug("Position is outside viewport", e), z < w.maxSearchDepth) return z++, e = C.get.nextPosition(e), C.debug("Trying new position", e), !!r && C.set.position(e, t); if (!w.lastResort) return C.debug("Popup could not find a position to display", r), C.error(T.cannotPlace, L), C.remove.attempts(), C.remove.loading(), C.reset(), w.onUnplaceable.call(r, L), !1; C.debug("No position found, showing with last position") } return C.debug("Position is on stage", e), C.remove.attempts(), C.remove.loading(), w.setFluidWidth && C.is.fluid() && C.set.fluidWidth(t), !0 }, fluidWidth: function (e) { e = e || C.get.calculations(), C.debug("Automatically setting element width to parent width", e.parent.width), r.css("width", e.container.width) }, variation: function (e) { e = e || C.get.variation(), e && C.has.popup() && (C.verbose("Adding variation to popup", e), r.addClass(e)) }, visible: function () { F.addClass(S.visible) } }, remove: { loading: function () { r.removeClass(S.loading) }, variation: function (e) { e = e || C.get.variation(), e && (C.verbose("Removing variation", e), r.removeClass(e)) }, visible: function () { F.removeClass(S.visible) }, attempts: function () { C.verbose("Resetting all searched positions"), z = 0, I = !1 } }, bind: { events: function () { C.debug("Binding popup events to module"), "click" == w.on && F.on("click" + P, C.toggle), "hover" == w.on && d && F.on("touchstart" + P, C.event.touchstart), C.get.startEvent() && F.on(C.get.startEvent() + P, C.event.start).on(C.get.endEvent() + P, C.event.end), w.target && C.debug("Target set to element", j), l.on("resize" + y, C.event.resize) }, popup: function () { C.verbose("Allowing hover events on popup to prevent closing"), r && C.has.popup() && r.on("mouseenter" + P, C.event.start).on("mouseleave" + P, C.event.end) }, close: function () { (w.hideOnScroll === !0 || "auto" == w.hideOnScroll && "click" != w.on) && D.one(C.get.scrollEvent() + y, C.event.hideGracefully), "hover" == w.on && M && (C.verbose("Binding popup close event to document"), s.on("touchstart" + y, function (e) { C.verbose("Touched away from popup"), C.event.hideGracefully.call(L, e) })), "click" == w.on && w.closable && (C.verbose("Binding popup close event to document"), s.on("click" + y, function (e) { C.verbose("Clicked away from popup"), C.event.hideGracefully.call(L, e) })) } }, unbind: { events: function () { l.off(y), F.off(P) }, close: function () { s.off(y), D.off(y) } }, has: { popup: function () { return r && r.length > 0 } }, is: { offstage: function (t, n) { var i = []; return e.each(t, function (e, t) { t < -w.jitter && (C.debug("Position exceeds allowable distance from edge", e, t, n), i.push(e)) }), i.length > 0 }, svg: function (e) { return C.supports.svg() && e instanceof SVGGraphicsElement }, active: function () { return F.hasClass(S.active) }, animating: function () { return r !== i && r.hasClass(S.animating) }, fluid: function () { return r !== i && r.hasClass(S.fluid) }, visible: function () { return r !== i && r.hasClass(S.visible) }, dropdown: function () { return F.hasClass(S.dropdown) }, hidden: function () { return !C.is.visible() }, rtl: function () { return "rtl" == F.css("direction") } }, reset: function () { C.remove.visible(), w.preserve ? e.fn.transition !== i && r.transition("remove transition") : C.removePopup() }, setting: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, w, t); else { if (n === i) return w[t]; w[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, C, t); else { if (n === i) return C[t]; C[t] = n } }, debug: function () { !w.silent && w.debug && (w.performance ? C.performance.log(arguments) : (C.debug = Function.prototype.bind.call(console.info, console, w.name + ":"), C.debug.apply(console, arguments))) }, verbose: function () { !w.silent && w.verbose && w.debug && (w.performance ? C.performance.log(arguments) : (C.verbose = Function.prototype.bind.call(console.info, console, w.name + ":"), C.verbose.apply(console, arguments))) }, error: function () { w.silent || (C.error = Function.prototype.bind.call(console.error, console, w.name + ":"), C.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; w.performance && (t = (new Date).getTime(), i = f || t, n = t - i, f = t, m.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: L, "Execution Time": n })), clearTimeout(C.performance.timer), C.performance.timer = setTimeout(C.performance.display, 500) }, display: function () { var t = w.name + ":", n = 0; f = !1, clearTimeout(C.performance.timer), e.each(m, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", u && (t += " '" + u + "'"), (console.group !== i || console.table !== i) && m.length > 0 && (console.groupCollapsed(t), console.table ? console.table(m) : e.each(m, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), m = [] } }, invoke: function (t, n, o) { var r, s, l, c = N; return n = n || h, o = L || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o], !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s }
      }, p ? (N === i && C.initialize(), C.invoke(g)) : (N !== i && N.invoke("destroy"), C.initialize())
    }), a !== i ? a : this
  }, e.fn.popup.settings = { name: "Popup", silent: !1, debug: !1, verbose: !1, performance: !0, namespace: "popup", observeChanges: !0, onCreate: function () { }, onRemove: function () { }, onShow: function () { }, onVisible: function () { }, onHide: function () { }, onUnplaceable: function () { }, onHidden: function () { }, on: "hover", boundary: t, addTouchEvents: !0, position: "top left", variation: "", movePopup: !0, target: !1, popup: !1, inline: !1, preserve: !1, hoverable: !1, content: !1, html: !1, title: !1, closable: !0, hideOnScroll: "auto", exclusive: !1, context: "body", scrollContext: t, prefer: "opposite", lastResort: !1, delay: { show: 50, hide: 70 }, setFluidWidth: !0, duration: 200, transition: "scale", distanceAway: 0, jitter: 2, offset: 0, maxSearchDepth: 15, error: { invalidPosition: "The position you specified is not a valid position", cannotPlace: "Popup does not fit within the boundaries of the viewport", method: "The method you called is not defined.", noTransition: "This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>", notFound: "The target or popup you specified does not exist on the page" }, metadata: { activator: "activator", content: "content", html: "html", offset: "offset", position: "position", title: "title", variation: "variation" }, className: { active: "active", animating: "animating", dropdown: "dropdown", fluid: "fluid", loading: "loading", popup: "ui popup", position: "top left center bottom right", visible: "visible" }, selector: { popup: ".ui.popup" }, templates: { escape: function (e) { var t = /[&<>"'`]/g, n = /[&<>"'`]/, i = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, o = function (e) { return i[e] }; return n.test(e) ? e.replace(t, o) : e }, popup: function (t) { var n = "", o = e.fn.popup.settings.templates.escape; return typeof t !== i && (typeof t.title !== i && t.title && (t.title = o(t.title), n += '<div class="header">' + t.title + "</div>"), typeof t.content !== i && t.content && (t.content = o(t.content), n += '<div class="content">' + t.content + "</div>")), n } } }
}(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); e.fn.progress = function (t) { var o, a = e(this), r = a.selector || "", s = (new Date).getTime(), l = [], c = arguments[0], u = "string" == typeof c, d = [].slice.call(arguments, 1); return a.each(function () { var a, f, m = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.progress.settings, t) : e.extend({}, e.fn.progress.settings), g = m.className, p = m.metadata, h = m.namespace, v = m.selector, b = m.error, y = "." + h, x = "module-" + h, C = e(this), w = e(this).find(v.bar), k = e(this).find(v.progress), S = e(this).find(v.label), T = this, A = C.data(x), R = !1; f = { initialize: function () { f.debug("Initializing progress bar", m), f.set.duration(), f.set.transitionEvent(), f.read.metadata(), f.read.settings(), f.instantiate() }, instantiate: function () { f.verbose("Storing instance of progress", f), A = f, C.data(x, f) }, destroy: function () { f.verbose("Destroying previous progress for", C), clearInterval(A.interval), f.remove.state(), C.removeData(x), A = i }, reset: function () { f.remove.nextValue(), f.update.progress(0) }, complete: function () { (f.percent === i || f.percent < 100) && (f.remove.progressPoll(), f.set.percent(100)) }, read: { metadata: function () { var e = { percent: C.data(p.percent), total: C.data(p.total), value: C.data(p.value) }; e.percent && (f.debug("Current percent value set from metadata", e.percent), f.set.percent(e.percent)), e.total && (f.debug("Total value set from metadata", e.total), f.set.total(e.total)), e.value && (f.debug("Current value set from metadata", e.value), f.set.value(e.value), f.set.progress(e.value)) }, settings: function () { m.total !== !1 && (f.debug("Current total set in settings", m.total), f.set.total(m.total)), m.value !== !1 && (f.debug("Current value set in settings", m.value), f.set.value(m.value), f.set.progress(f.value)), m.percent !== !1 && (f.debug("Current percent set in settings", m.percent), f.set.percent(m.percent)) } }, bind: { transitionEnd: function (e) { var t = f.get.transitionEnd(); w.one(t + y, function (t) { clearTimeout(f.failSafeTimer), e.call(this, t) }), f.failSafeTimer = setTimeout(function () { w.triggerHandler(t) }, m.duration + m.failSafeDelay), f.verbose("Adding fail safe timer", f.timer) } }, increment: function (e) { var t, n, i; f.has.total() ? (n = f.get.value(), e = e || 1, i = n + e) : (n = f.get.percent(), e = e || f.get.randomValue(), i = n + e, t = 100, f.debug("Incrementing percentage by", n, i)), i = f.get.normalizedValue(i), f.set.progress(i) }, decrement: function (e) { var t, n, i = f.get.total(); i ? (t = f.get.value(), e = e || 1, n = t - e, f.debug("Decrementing value by", e, t)) : (t = f.get.percent(), e = e || f.get.randomValue(), n = t - e, f.debug("Decrementing percentage by", e, t)), n = f.get.normalizedValue(n), f.set.progress(n) }, has: { progressPoll: function () { return f.progressPoll }, total: function () { return f.get.total() !== !1 } }, get: { text: function (e) { var t = f.value || 0, n = f.total || 0, i = R ? f.get.displayPercent() : f.percent || 0, o = f.total > 0 ? n - t : 100 - i; return e = e || "", e = e.replace("{value}", t).replace("{total}", n).replace("{left}", o).replace("{percent}", i), f.verbose("Adding variables to progress bar text", e), e }, normalizedValue: function (e) { if (e < 0) return f.debug("Value cannot decrement below 0"), 0; if (f.has.total()) { if (e > f.total) return f.debug("Value cannot increment above total", f.total), f.total } else if (e > 100) return f.debug("Value cannot increment above 100 percent"), 100; return e }, updateInterval: function () { return "auto" == m.updateInterval ? m.duration : m.updateInterval }, randomValue: function () { return f.debug("Generating random increment percentage"), Math.floor(Math.random() * m.random.max + m.random.min) }, numericValue: function (e) { return "string" == typeof e ? "" !== e.replace(/[^\d.]/g, "") && +e.replace(/[^\d.]/g, "") : e }, transitionEnd: function () { var e, t = n.createElement("element"), o = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (e in o) if (t.style[e] !== i) return o[e] }, displayPercent: function () { var e = w.width(), t = C.width(), n = parseInt(w.css("min-width"), 10), i = e > n ? e / t * 100 : f.percent; return m.precision > 0 ? Math.round(i * (10 * m.precision)) / (10 * m.precision) : Math.round(i) }, percent: function () { return f.percent || 0 }, value: function () { return f.nextValue || f.value || 0 }, total: function () { return f.total || !1 } }, create: { progressPoll: function () { f.progressPoll = setTimeout(function () { f.update.toNextValue(), f.remove.progressPoll() }, f.get.updateInterval()) } }, is: { complete: function () { return f.is.success() || f.is.warning() || f.is.error() }, success: function () { return C.hasClass(g.success) }, warning: function () { return C.hasClass(g.warning) }, error: function () { return C.hasClass(g.error) }, active: function () { return C.hasClass(g.active) }, visible: function () { return C.is(":visible") } }, remove: { progressPoll: function () { f.verbose("Removing progress poll timer"), f.progressPoll && (clearTimeout(f.progressPoll), delete f.progressPoll) }, nextValue: function () { f.verbose("Removing progress value stored for next update"), delete f.nextValue }, state: function () { f.verbose("Removing stored state"), delete f.total, delete f.percent, delete f.value }, active: function () { f.verbose("Removing active state"), C.removeClass(g.active) }, success: function () { f.verbose("Removing success state"), C.removeClass(g.success) }, warning: function () { f.verbose("Removing warning state"), C.removeClass(g.warning) }, error: function () { f.verbose("Removing error state"), C.removeClass(g.error) } }, set: { barWidth: function (e) { e > 100 ? f.error(b.tooHigh, e) : e < 0 ? f.error(b.tooLow, e) : (w.css("width", e + "%"), C.attr("data-percent", parseInt(e, 10))) }, duration: function (e) { e = e || m.duration, e = "number" == typeof e ? e + "ms" : e, f.verbose("Setting progress bar transition duration", e), w.css({ "transition-duration": e }) }, percent: function (e) { e = "string" == typeof e ? +e.replace("%", "") : e, e = m.precision > 0 ? Math.round(e * (10 * m.precision)) / (10 * m.precision) : Math.round(e), f.percent = e, f.has.total() || (f.value = m.precision > 0 ? Math.round(e / 100 * f.total * (10 * m.precision)) / (10 * m.precision) : Math.round(e / 100 * f.total * 10) / 10, m.limitValues && (f.value = f.value > 100 ? 100 : f.value < 0 ? 0 : f.value)), f.set.barWidth(e), f.set.labelInterval(), f.set.labels(), m.onChange.call(T, e, f.value, f.total) }, labelInterval: function () { var t = function () { f.verbose("Bar finished animating, removing continuous label updates"), clearInterval(f.interval), R = !1, f.set.labels() }; clearInterval(f.interval), f.bind.transitionEnd(t), R = !0, f.interval = setInterval(function () { var t = e.contains(n.documentElement, T); t || (clearInterval(f.interval), R = !1), f.set.labels() }, m.framerate) }, labels: function () { f.verbose("Setting both bar progress and outer label text"), f.set.barLabel(), f.set.state() }, label: function (e) { e = e || "", e && (e = f.get.text(e), f.verbose("Setting label to text", e), S.text(e)) }, state: function (e) { e = e !== i ? e : f.percent, 100 === e ? m.autoSuccess && !(f.is.warning() || f.is.error() || f.is.success()) ? (f.set.success(), f.debug("Automatically triggering success at 100%")) : (f.verbose("Reached 100% removing active state"), f.remove.active(), f.remove.progressPoll()) : e > 0 ? (f.verbose("Adjusting active progress bar label", e), f.set.active()) : (f.remove.active(), f.set.label(m.text.active)) }, barLabel: function (e) { e !== i ? k.text(f.get.text(e)) : "ratio" == m.label && f.total ? (f.verbose("Adding ratio to bar label"), k.text(f.get.text(m.text.ratio))) : "percent" == m.label && (f.verbose("Adding percentage to bar label"), k.text(f.get.text(m.text.percent))) }, active: function (e) { e = e || m.text.active, f.debug("Setting active state"), m.showActivity && !f.is.active() && C.addClass(g.active), f.remove.warning(), f.remove.error(), f.remove.success(), e = m.onLabelUpdate("active", e, f.value, f.total), e && f.set.label(e), f.bind.transitionEnd(function () { m.onActive.call(T, f.value, f.total) }) }, success: function (e) { e = e || m.text.success || m.text.active, f.debug("Setting success state"), C.addClass(g.success), f.remove.active(), f.remove.warning(), f.remove.error(), f.complete(), m.text.success ? (e = m.onLabelUpdate("success", e, f.value, f.total), f.set.label(e)) : (e = m.onLabelUpdate("active", e, f.value, f.total), f.set.label(e)), f.bind.transitionEnd(function () { m.onSuccess.call(T, f.total) }) }, warning: function (e) { e = e || m.text.warning, f.debug("Setting warning state"), C.addClass(g.warning), f.remove.active(), f.remove.success(), f.remove.error(), f.complete(), e = m.onLabelUpdate("warning", e, f.value, f.total), e && f.set.label(e), f.bind.transitionEnd(function () { m.onWarning.call(T, f.value, f.total) }) }, error: function (e) { e = e || m.text.error, f.debug("Setting error state"), C.addClass(g.error), f.remove.active(), f.remove.success(), f.remove.warning(), f.complete(), e = m.onLabelUpdate("error", e, f.value, f.total), e && f.set.label(e), f.bind.transitionEnd(function () { m.onError.call(T, f.value, f.total) }) }, transitionEvent: function () { a = f.get.transitionEnd() }, total: function (e) { f.total = e }, value: function (e) { f.value = e }, progress: function (e) { f.has.progressPoll() ? (f.debug("Updated within interval, setting next update to use new value", e), f.set.nextValue(e)) : (f.debug("First update in progress update interval, immediately updating", e), f.update.progress(e), f.create.progressPoll()) }, nextValue: function (e) { f.nextValue = e } }, update: { toNextValue: function () { var e = f.nextValue; e && (f.debug("Update interval complete using last updated value", e), f.update.progress(e), f.remove.nextValue()) }, progress: function (e) { var t; e = f.get.numericValue(e), e === !1 && f.error(b.nonNumeric, e), e = f.get.normalizedValue(e), f.has.total() ? (f.set.value(e), t = e / f.total * 100, f.debug("Calculating percent complete from total", t), f.set.percent(t)) : (t = e, f.debug("Setting value to exact percentage value", t), f.set.percent(t)) } }, setting: function (t, n) { if (f.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; e.isPlainObject(m[t]) ? e.extend(!0, m[t], n) : m[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, f, t); else { if (n === i) return f[t]; f[t] = n } }, debug: function () { !m.silent && m.debug && (m.performance ? f.performance.log(arguments) : (f.debug = Function.prototype.bind.call(console.info, console, m.name + ":"), f.debug.apply(console, arguments))) }, verbose: function () { !m.silent && m.verbose && m.debug && (m.performance ? f.performance.log(arguments) : (f.verbose = Function.prototype.bind.call(console.info, console, m.name + ":"), f.verbose.apply(console, arguments))) }, error: function () { m.silent || (f.error = Function.prototype.bind.call(console.error, console, m.name + ":"), f.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; m.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: T, "Execution Time": n })), clearTimeout(f.performance.timer), f.performance.timer = setTimeout(f.performance.display, 500) }, display: function () { var t = m.name + ":", n = 0; s = !1, clearTimeout(f.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", r && (t += " '" + r + "'"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, a) { var r, s, l, c = A; return n = n || d, a = T || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (f.error(b.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(a, n) : s !== i && (l = s), e.isArray(o) ? o.push(l) : o !== i ? o = [o, l] : l !== i && (o = l), s } }, u ? (A === i && f.initialize(), f.invoke(c)) : (A !== i && A.invoke("destroy"), f.initialize()) }), o !== i ? o : this }, e.fn.progress.settings = { name: "Progress", namespace: "progress", silent: !1, debug: !1, verbose: !1, performance: !0, random: { min: 2, max: 5 }, duration: 300, updateInterval: "auto", autoSuccess: !0, showActivity: !0, limitValues: !0, label: "percent", precision: 0, framerate: 1e3 / 30, percent: !1, total: !1, value: !1, failSafeDelay: 100, onLabelUpdate: function (e, t, n, i) { return t }, onChange: function (e, t, n) { }, onSuccess: function (e) { }, onActive: function (e, t) { }, onError: function (e, t) { }, onWarning: function (e, t) { }, error: { method: "The method you called is not defined.", nonNumeric: "Progress value is non numeric", tooHigh: "Value specified is above 100%", tooLow: "Value specified is below 0%" }, regExp: { variable: /\{\$*[A-z0-9]+\}/g }, metadata: { percent: "percent", total: "total", value: "value" }, selector: { bar: "> .bar", label: "> .label", progress: ".bar > .progress" }, text: { active: !1, error: !1, success: !1, warning: !1, percent: "{percent}%", ratio: "{value} of {total}" }, className: { active: "active", error: "error", success: "success", warning: "warning" } } }(jQuery, window, document), function (e, t, n, i) {
  "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.rating = function (t) {
    var n, o = e(this), a = o.selector || "", r = (new Date).getTime(), s = [], l = arguments[0], c = "string" == typeof l, u = [].slice.call(arguments, 1); return o.each(function () {
      var d, f, m = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.rating.settings, t) : e.extend({}, e.fn.rating.settings), g = m.namespace, p = m.className, h = m.metadata, v = m.selector, b = (m.error, "." + g), y = "module-" + g, x = this, C = e(this).data(y), w = e(this), k = w.find(v.icon); f = {
        initialize: function () { f.verbose("Initializing rating module", m), 0 === k.length && f.setup.layout(), m.interactive ? f.enable() : f.disable(), f.set.initialLoad(), f.set.rating(f.get.initialRating()), f.remove.initialLoad(), f.instantiate() }, instantiate: function () { f.verbose("Instantiating module", m), C = f, w.data(y, f) }, destroy: function () { f.verbose("Destroying previous instance", C), f.remove.events(), w.removeData(y) }, refresh: function () { k = w.find(v.icon) }, setup: { layout: function () { var t = f.get.maxRating(), n = e.fn.rating.settings.templates.icon(t); f.debug("Generating icon html dynamically"), w.html(n), f.refresh() } }, event: { mouseenter: function () { var t = e(this); t.nextAll().removeClass(p.selected), w.addClass(p.selected), t.addClass(p.selected).prevAll().addClass(p.selected) }, mouseleave: function () { w.removeClass(p.selected), k.removeClass(p.selected) }, click: function () { var t = e(this), n = f.get.rating(), i = k.index(t) + 1, o = "auto" == m.clearable ? 1 === k.length : m.clearable; o && n == i ? f.clearRating() : f.set.rating(i) } }, clearRating: function () { f.debug("Clearing current rating"), f.set.rating(0) }, bind: { events: function () { f.verbose("Binding events"), w.on("mouseenter" + b, v.icon, f.event.mouseenter).on("mouseleave" + b, v.icon, f.event.mouseleave).on("click" + b, v.icon, f.event.click) } }, remove: { events: function () { f.verbose("Removing events"), w.off(b) }, initialLoad: function () { d = !1 } }, enable: function () { f.debug("Setting rating to interactive mode"), f.bind.events(), w.removeClass(p.disabled) }, disable: function () { f.debug("Setting rating to read-only mode"), f.remove.events(), w.addClass(p.disabled) }, is: { initialLoad: function () { return d } }, get: { initialRating: function () { return w.data(h.rating) !== i ? (w.removeData(h.rating), w.data(h.rating)) : m.initialRating }, maxRating: function () { return w.data(h.maxRating) !== i ? (w.removeData(h.maxRating), w.data(h.maxRating)) : m.maxRating }, rating: function () { var e = k.filter("." + p.active).length; return f.verbose("Current rating retrieved", e), e } }, set: { rating: function (e) { var t = e - 1 >= 0 ? e - 1 : 0, n = k.eq(t); w.removeClass(p.selected), k.removeClass(p.selected).removeClass(p.active), e > 0 && (f.verbose("Setting current rating to", e), n.prevAll().addBack().addClass(p.active)), f.is.initialLoad() || m.onRate.call(x, e) }, initialLoad: function () { d = !0 } }, setting: function (t, n) { if (f.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; e.isPlainObject(m[t]) ? e.extend(!0, m[t], n) : m[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, f, t); else { if (n === i) return f[t]; f[t] = n } }, debug: function () { !m.silent && m.debug && (m.performance ? f.performance.log(arguments) : (f.debug = Function.prototype.bind.call(console.info, console, m.name + ":"), f.debug.apply(console, arguments))) }, verbose: function () { !m.silent && m.verbose && m.debug && (m.performance ? f.performance.log(arguments) : (f.verbose = Function.prototype.bind.call(console.info, console, m.name + ":"), f.verbose.apply(console, arguments))) }, error: function () { m.silent || (f.error = Function.prototype.bind.call(console.error, console, m.name + ":"), f.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; m.performance && (t = (new Date).getTime(), i = r || t, n = t - i, r = t, s.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: x, "Execution Time": n })), clearTimeout(f.performance.timer), f.performance.timer = setTimeout(f.performance.display, 500) }, display: function () { var t = m.name + ":", n = 0; r = !1, clearTimeout(f.performance.timer), e.each(s, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", a && (t += " '" + a + "'"), o.length > 1 && (t += " (" + o.length + ")"), (console.group !== i || console.table !== i) && s.length > 0 && (console.groupCollapsed(t), console.table ? console.table(s) : e.each(s, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), s = [] } }, invoke: function (t, o, a) {
          var r, s, l, c = C; return o = o || u, a = x || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) {
            var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else {
              if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o],
                !1); c = c[o]
            }
          })), e.isFunction(s) ? l = s.apply(a, o) : s !== i && (l = s), e.isArray(n) ? n.push(l) : n !== i ? n = [n, l] : l !== i && (n = l), s
        }
      }, c ? (C === i && f.initialize(), f.invoke(l)) : (C !== i && C.invoke("destroy"), f.initialize())
    }), n !== i ? n : this
  }, e.fn.rating.settings = { name: "Rating", namespace: "rating", slent: !1, debug: !1, verbose: !1, performance: !0, initialRating: 0, interactive: !0, maxRating: 4, clearable: "auto", fireOnInit: !1, onRate: function (e) { }, error: { method: "The method you called is not defined", noMaximum: "No maximum rating specified. Cannot generate HTML automatically" }, metadata: { rating: "rating", maxRating: "maxRating" }, className: { active: "active", disabled: "disabled", selected: "selected", loading: "loading" }, selector: { icon: ".icon" }, templates: { icon: function (e) { for (var t = 1, n = ""; t <= e;)n += '<i class="icon"></i>', t++; return n } } }
}(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.search = function (o) { var a, r = e(this), s = r.selector || "", l = (new Date).getTime(), c = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1); return e(this).each(function () { var m, g = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.search.settings, o) : e.extend({}, e.fn.search.settings), p = g.className, h = g.metadata, v = g.regExp, b = g.fields, y = g.selector, x = g.error, C = g.namespace, w = "." + C, k = C + "-module", S = e(this), T = S.find(y.prompt), A = S.find(y.searchButton), R = S.find(y.results), P = S.find(y.result), E = S.find(y.category), F = this, O = S.data(k), D = !1, q = !1; m = { initialize: function () { m.verbose("Initializing module"), m.determine.searchFields(), m.bind.events(), m.set.type(), m.create.results(), m.instantiate() }, instantiate: function () { m.verbose("Storing instance of module", m), O = m, S.data(k, m) }, destroy: function () { m.verbose("Destroying instance"), S.off(w).removeData(k) }, refresh: function () { m.debug("Refreshing selector cache"), T = S.find(y.prompt), A = S.find(y.searchButton), E = S.find(y.category), R = S.find(y.results), P = S.find(y.result) }, refreshResults: function () { R = S.find(y.results), P = S.find(y.result) }, bind: { events: function () { m.verbose("Binding events to search"), g.automatic && (S.on(m.get.inputEvent() + w, y.prompt, m.event.input), T.attr("autocomplete", "off")), S.on("focus" + w, y.prompt, m.event.focus).on("blur" + w, y.prompt, m.event.blur).on("keydown" + w, y.prompt, m.handleKeyboard).on("click" + w, y.searchButton, m.query).on("mousedown" + w, y.results, m.event.result.mousedown).on("mouseup" + w, y.results, m.event.result.mouseup).on("click" + w, y.result, m.event.result.click) } }, determine: { searchFields: function () { o && o.searchFields !== i && (g.searchFields = o.searchFields) } }, event: { input: function () { clearTimeout(m.timer), m.timer = setTimeout(m.query, g.searchDelay) }, focus: function () { m.set.focus(), g.searchOnFocus && m.has.minimumCharacters() && m.query(function () { m.can.show() && m.showResults() }) }, blur: function (e) { var t = n.activeElement === this, i = function () { m.cancel.query(), m.remove.focus(), m.timer = setTimeout(m.hideResults, g.hideDelay) }; t || (q = !1, m.resultsClicked ? (m.debug("Determining if user action caused search to close"), S.one("click.close" + w, y.results, function (e) { return m.is.inMessage(e) || D ? void T.focus() : (D = !1, void (m.is.animating() || m.is.hidden() || i())) })) : (m.debug("Input blurred without user action, closing results"), i())) }, result: { mousedown: function () { m.resultsClicked = !0 }, mouseup: function () { m.resultsClicked = !1 }, click: function (n) { m.debug("Search result selected"); var i = e(this), o = i.find(y.title).eq(0), a = i.is("a[href]") ? i : i.find("a[href]").eq(0), r = a.attr("href") || !1, s = a.attr("target") || !1, l = (o.html(), o.length > 0 && o.text()), c = m.get.results(), u = i.data(h.result) || m.get.result(l, c); return e.isFunction(g.onSelect) && g.onSelect.call(F, u, c) === !1 ? (m.debug("Custom onSelect callback cancelled default select action"), void (D = !0)) : (m.hideResults(), l && m.set.value(l), void (r && (m.verbose("Opening search link found in result", a), "_blank" == s || n.ctrlKey ? t.open(r) : t.location.href = r))) } } }, handleKeyboard: function (e) { var t, n = S.find(y.result), i = S.find(y.category), o = n.filter("." + p.active), a = n.index(o), r = n.length, s = o.length > 0, l = e.which, c = { backspace: 8, enter: 13, escape: 27, upArrow: 38, downArrow: 40 }; if (l == c.escape && (m.verbose("Escape key pressed, blurring search field"), m.hideResults(), q = !0), m.is.visible()) if (l == c.enter) { if (m.verbose("Enter key pressed, selecting active result"), n.filter("." + p.active).length > 0) return m.event.result.click.call(n.filter("." + p.active), e), e.preventDefault(), !1 } else l == c.upArrow && s ? (m.verbose("Up key pressed, changing active result"), t = a - 1 < 0 ? a : a - 1, i.removeClass(p.active), n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active), e.preventDefault()) : l == c.downArrow && (m.verbose("Down key pressed, changing active result"), t = a + 1 >= r ? a : a + 1, i.removeClass(p.active), n.removeClass(p.active).eq(t).addClass(p.active).closest(i).addClass(p.active), e.preventDefault()); else l == c.enter && (m.verbose("Enter key pressed, executing query"), m.query(), m.set.buttonPressed(), T.one("keyup", m.remove.buttonFocus)) }, setup: { api: function (t, n) { var i = { debug: g.debug, on: !1, cache: !0, action: "search", urlData: { query: t }, onSuccess: function (e) { m.parse.response.call(F, e, t), n() }, onFailure: function () { m.displayMessage(x.serverError), n() }, onAbort: function (e) { }, onError: m.error }; e.extend(!0, i, g.apiSettings), m.verbose("Setting up API request", i), S.api(i) } }, can: { useAPI: function () { return e.fn.api !== i }, show: function () { return m.is.focused() && !m.is.visible() && !m.is.empty() }, transition: function () { return g.transition && e.fn.transition !== i && S.transition("is supported") } }, is: { animating: function () { return R.hasClass(p.animating) }, hidden: function () { return R.hasClass(p.hidden) }, inMessage: function (t) { if (t.target) { var i = e(t.target), o = e.contains(n.documentElement, t.target); return o && i.closest(y.message).length > 0 } }, empty: function () { return "" === R.html() }, visible: function () { return R.filter(":visible").length > 0 }, focused: function () { return T.filter(":focus").length > 0 } }, get: { inputEvent: function () { var e = T[0], t = e !== i && e.oninput !== i ? "input" : e !== i && e.onpropertychange !== i ? "propertychange" : "keyup"; return t }, value: function () { return T.val() }, results: function () { var e = S.data(h.results); return e }, result: function (t, n) { var o = ["title", "id"], a = !1; return t = t !== i ? t : m.get.value(), n = n !== i ? n : m.get.results(), "category" === g.type ? (m.debug("Finding result that matches", t), e.each(n, function (n, i) { if (e.isArray(i.results) && (a = m.search.object(t, i.results, o)[0])) return !1 })) : (m.debug("Finding result in results object", t), a = m.search.object(t, n, o)[0]), a || !1 } }, select: { firstResult: function () { m.verbose("Selecting first result"), P.first().addClass(p.active) } }, set: { focus: function () { S.addClass(p.focus) }, loading: function () { S.addClass(p.loading) }, value: function (e) { m.verbose("Setting search input value", e), T.val(e) }, type: function (e) { e = e || g.type, "category" == g.type && S.addClass(g.type) }, buttonPressed: function () { A.addClass(p.pressed) } }, remove: { loading: function () { S.removeClass(p.loading) }, focus: function () { S.removeClass(p.focus) }, buttonPressed: function () { A.removeClass(p.pressed) } }, query: function (t) { t = e.isFunction(t) ? t : function () { }; var n = m.get.value(), i = m.read.cache(n); t = t || function () { }, m.has.minimumCharacters() ? (i ? (m.debug("Reading result from cache", n), m.save.results(i.results), m.addResults(i.html), m.inject.id(i.results), t()) : (m.debug("Querying for", n), e.isPlainObject(g.source) || e.isArray(g.source) ? (m.search.local(n), t()) : m.can.useAPI() ? m.search.remote(n, t) : (m.error(x.source), t())), g.onSearchQuery.call(F, n)) : m.hideResults() }, search: { local: function (e) { var t, n = m.search.object(e, g.content); m.set.loading(), m.save.results(n), m.debug("Returned local search results", n), t = m.generateResults({ results: n }), m.remove.loading(), m.addResults(t), m.inject.id(n), m.write.cache(e, { html: t, results: n }) }, remote: function (t, n) { n = e.isFunction(n) ? n : function () { }, S.api("is loading") && S.api("abort"), m.setup.api(t, n), S.api("query") }, object: function (t, n, o) { var a = [], r = [], s = t.toString().replace(v.escape, "\\$&"), l = new RegExp(v.beginsWith + s, "i"), c = function (t, n) { var i = e.inArray(n, a) == -1, o = e.inArray(n, r) == -1; i && o && t.push(n) }; return n = n || g.source, o = o !== i ? o : g.searchFields, e.isArray(o) || (o = [o]), n === i || n === !1 ? (m.error(x.source), []) : (e.each(o, function (i, o) { e.each(n, function (e, n) { var i = "string" == typeof n[o]; i && (n[o].search(l) !== -1 ? c(a, n) : g.searchFullText && m.fuzzySearch(t, n[o]) && c(r, n)) }) }), e.merge(a, r)) } }, fuzzySearch: function (e, t) { var n = t.length, i = e.length; if ("string" != typeof e) return !1; if (e = e.toLowerCase(), t = t.toLowerCase(), i > n) return !1; if (i === n) return e === t; e: for (var o = 0, a = 0; o < i; o++) { for (var r = e.charCodeAt(o); a < n;)if (t.charCodeAt(a++) === r) continue e; return !1 } return !0 }, parse: { response: function (e, t) { var n = m.generateResults(e); m.verbose("Parsing server response", e), e !== i && t !== i && e[b.results] !== i && (m.addResults(n), m.inject.id(e[b.results]), m.write.cache(t, { html: n, results: e[b.results] }), m.save.results(e[b.results])) } }, cancel: { query: function () { m.can.useAPI() && S.api("abort") } }, has: { minimumCharacters: function () { var e = m.get.value(), t = e.length; return t >= g.minCharacters }, results: function () { if (0 === R.length) return !1; var e = R.html(); return "" != e } }, clear: { cache: function (e) { var t = S.data(h.cache); e ? e && t && t[e] && (m.debug("Removing value from cache", e), delete t[e], S.data(h.cache, t)) : (m.debug("Clearing cache", e), S.removeData(h.cache)) } }, read: { cache: function (e) { var t = S.data(h.cache); return !!g.cache && (m.verbose("Checking cache for generated html for query", e), "object" == typeof t && t[e] !== i && t[e]) } }, create: { id: function (e, t) { var n, o, a = e + 1; return t !== i ? (n = String.fromCharCode(97 + t), o = n + a, m.verbose("Creating category result id", o)) : (o = a, m.verbose("Creating result id", o)), o }, results: function () { 0 === R.length && (R = e("<div />").addClass(p.results).appendTo(S)) } }, inject: { result: function (e, t, n) { m.verbose("Injecting result into results"); var o = n !== i ? R.children().eq(n).children(y.result).eq(t) : R.children(y.result).eq(t); m.verbose("Injecting results metadata", o), o.data(h.result, e) }, id: function (t) { m.debug("Injecting unique ids into results"); var n = 0, o = 0; return "category" === g.type ? e.each(t, function (t, a) { o = 0, e.each(a.results, function (e, t) { var r = a.results[e]; r.id === i && (r.id = m.create.id(o, n)), m.inject.result(r, o, n), o++ }), n++ }) : e.each(t, function (e, n) { var a = t[e]; a.id === i && (a.id = m.create.id(o)), m.inject.result(a, o), o++ }), t } }, save: { results: function (e) { m.verbose("Saving current search results to metadata", e), S.data(h.results, e) } }, write: { cache: function (e, t) { var n = S.data(h.cache) !== i ? S.data(h.cache) : {}; g.cache && (m.verbose("Writing generated html to cache", e, t), n[e] = t, S.data(h.cache, n)) } }, addResults: function (t) { return e.isFunction(g.onResultsAdd) && g.onResultsAdd.call(R, t) === !1 ? (m.debug("onResultsAdd callback cancelled default action"), !1) : void (t ? (R.html(t), m.refreshResults(), g.selectFirstResult && m.select.firstResult(), m.showResults()) : m.hideResults(function () { R.empty() })) }, showResults: function (t) { t = e.isFunction(t) ? t : function () { }, q || !m.is.visible() && m.has.results() && (m.can.transition() ? (m.debug("Showing results with css animations"), R.transition({ animation: g.transition + " in", debug: g.debug, verbose: g.verbose, duration: g.duration, onComplete: function () { t() }, queue: !0 })) : (m.debug("Showing results with javascript"), R.stop().fadeIn(g.duration, g.easing)), g.onResultsOpen.call(R)) }, hideResults: function (t) { t = e.isFunction(t) ? t : function () { }, m.is.visible() && (m.can.transition() ? (m.debug("Hiding results with css animations"), R.transition({ animation: g.transition + " out", debug: g.debug, verbose: g.verbose, duration: g.duration, onComplete: function () { t() }, queue: !0 })) : (m.debug("Hiding results with javascript"), R.stop().fadeOut(g.duration, g.easing)), g.onResultsClose.call(R)) }, generateResults: function (t) { m.debug("Generating html from response", t); var n = g.templates[g.type], i = e.isPlainObject(t[b.results]) && !e.isEmptyObject(t[b.results]), o = e.isArray(t[b.results]) && t[b.results].length > 0, a = ""; return i || o ? (g.maxResults > 0 && (i ? "standard" == g.type && m.error(x.maxResults) : t[b.results] = t[b.results].slice(0, g.maxResults)), e.isFunction(n) ? a = n(t, b) : m.error(x.noTemplate, !1)) : g.showNoResults && (a = m.displayMessage(x.noResults, "empty")), g.onResults.call(F, t), a }, displayMessage: function (e, t) { return t = t || "standard", m.debug("Displaying message", e, t), m.addResults(g.templates.message(e, t)), g.templates.message(e, t) }, setting: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, g, t); else { if (n === i) return g[t]; g[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; m[t] = n } }, debug: function () { !g.silent && g.debug && (g.performance ? m.performance.log(arguments) : (m.debug = Function.prototype.bind.call(console.info, console, g.name + ":"), m.debug.apply(console, arguments))) }, verbose: function () { !g.silent && g.verbose && g.debug && (g.performance ? m.performance.log(arguments) : (m.verbose = Function.prototype.bind.call(console.info, console, g.name + ":"), m.verbose.apply(console, arguments))) }, error: function () { g.silent || (m.error = Function.prototype.bind.call(console.error, console, g.name + ":"), m.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; g.performance && (t = (new Date).getTime(), i = l || t, n = t - i, l = t, c.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: F, "Execution Time": n })), clearTimeout(m.performance.timer), m.performance.timer = setTimeout(m.performance.display, 500) }, display: function () { var t = g.name + ":", n = 0; l = !1, clearTimeout(m.performance.timer), e.each(c, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", s && (t += " '" + s + "'"), r.length > 1 && (t += " (" + r.length + ")"), (console.group !== i || console.table !== i) && c.length > 0 && (console.groupCollapsed(t), console.table ? console.table(c) : e.each(c, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), c = [] } }, invoke: function (t, n, o) { var r, s, l, c = O; return n = n || f, o = F || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o], !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s } }, d ? (O === i && m.initialize(), m.invoke(u)) : (O !== i && O.invoke("destroy"), m.initialize()) }), a !== i ? a : this }, e.fn.search.settings = { name: "Search", namespace: "search", silent: !1, debug: !1, verbose: !1, performance: !0, type: "standard", minCharacters: 1, selectFirstResult: !1, apiSettings: !1, source: !1, searchOnFocus: !0, searchFields: ["title", "description"], displayField: "", searchFullText: !0, automatic: !0, hideDelay: 0, searchDelay: 200, maxResults: 7, cache: !0, showNoResults: !0, transition: "scale", duration: 200, easing: "easeOutExpo", onSelect: !1, onResultsAdd: !1, onSearchQuery: function (e) { }, onResults: function (e) { }, onResultsOpen: function () { }, onResultsClose: function () { }, className: { animating: "animating", active: "active", empty: "empty", focus: "focus", hidden: "hidden", loading: "loading", results: "results", pressed: "down" }, error: { source: "Cannot search. No source used, and Semantic API module was not included", noResults: "Your search returned no results", logging: "Error in debug logging, exiting.", noEndpoint: "No search endpoint was specified", noTemplate: "A valid template name was not specified.", serverError: "There was an issue querying the server.", maxResults: "Results must be an array to use maxResults setting", method: "The method you called is not defined." }, metadata: { cache: "cache", results: "results", result: "result" }, regExp: { escape: /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, beginsWith: "(?:s|^)" }, fields: { categories: "results", categoryName: "name", categoryResults: "results", description: "description", image: "image", price: "price", results: "results", title: "title", url: "url", action: "action", actionText: "text", actionURL: "url" }, selector: { prompt: ".prompt", searchButton: ".search.button", results: ".results", message: ".results > .message", category: ".category", result: ".result", title: ".title, .name" }, templates: { escape: function (e) { var t = /[&<>"'`]/g, n = /[&<>"'`]/, i = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, o = function (e) { return i[e] }; return n.test(e) ? e.replace(t, o) : e }, message: function (e, t) { var n = ""; return e !== i && t !== i && (n += '<div class="message ' + t + '">', n += "empty" == t ? '<div class="header">No Results</div class="header"><div class="description">' + e + '</div class="description">' : ' <div class="description">' + e + "</div>", n += "</div>"), n }, category: function (t, n) { var o = ""; e.fn.search.settings.templates.escape; return t[n.categoryResults] !== i && (e.each(t[n.categoryResults], function (t, a) { a[n.results] !== i && a.results.length > 0 && (o += '<div class="category">', a[n.categoryName] !== i && (o += '<div class="name">' + a[n.categoryName] + "</div>"), e.each(a.results, function (e, t) { o += t[n.url] ? '<a class="result" href="' + t[n.url] + '">' : '<a class="result">', t[n.image] !== i && (o += '<div class="image"> <img src="' + t[n.image] + '"></div>'), o += '<div class="content">', t[n.price] !== i && (o += '<div class="price">' + t[n.price] + "</div>"), t[n.title] !== i && (o += '<div class="title">' + t[n.title] + "</div>"), t[n.description] !== i && (o += '<div class="description">' + t[n.description] + "</div>"), o += "</div>", o += "</a>" }), o += "</div>") }), t[n.action] && (o += '<a href="' + t[n.action][n.actionURL] + '" class="action">' + t[n.action][n.actionText] + "</a>"), o) }, standard: function (t, n) { var o = ""; return t[n.results] !== i && (e.each(t[n.results], function (e, t) { o += t[n.url] ? '<a class="result" href="' + t[n.url] + '">' : '<a class="result">', t[n.image] !== i && (o += '<div class="image"> <img src="' + t[n.image] + '"></div>'), o += '<div class="content">', t[n.price] !== i && (o += '<div class="price">' + t[n.price] + "</div>"), t[n.title] !== i && (o += '<div class="title">' + t[n.title] + "</div>"), t[n.description] !== i && (o += '<div class="description">' + t[n.description] + "</div>"), o += "</div>", o += "</a>" }), t[n.action] && (o += '<a href="' + t[n.action][n.actionURL] + '" class="action">' + t[n.action][n.actionText] + "</a>"), o) } } } }(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.shape = function (o) { var a, r = e(this), s = (e("body"), (new Date).getTime()), l = [], c = arguments[0], u = "string" == typeof c, d = [].slice.call(arguments, 1), f = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }; return r.each(function () { var t, m, g, p = r.selector || "", h = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.shape.settings, o) : e.extend({}, e.fn.shape.settings), v = h.namespace, b = h.selector, y = h.error, x = h.className, C = "." + v, w = "module-" + v, k = e(this), S = k.find(b.sides), T = k.find(b.side), A = !1, R = this, P = k.data(w); g = { initialize: function () { g.verbose("Initializing module for", R), g.set.defaultSide(), g.instantiate() }, instantiate: function () { g.verbose("Storing instance of module", g), P = g, k.data(w, P) }, destroy: function () { g.verbose("Destroying previous module for", R), k.removeData(w).off(C) }, refresh: function () { g.verbose("Refreshing selector cache for", R), k = e(R), S = e(this).find(b.shape), T = e(this).find(b.side) }, repaint: function () { g.verbose("Forcing repaint event"); var e = S[0] || n.createElement("div"); e.offsetWidth }, animate: function (e, n) { g.verbose("Animating box with properties", e), n = n || function (e) { g.verbose("Executing animation callback"), e !== i && e.stopPropagation(), g.reset(), g.set.active() }, h.beforeChange.call(m[0]), g.get.transitionEvent() ? (g.verbose("Starting CSS animation"), k.addClass(x.animating), S.css(e).one(g.get.transitionEvent(), n), g.set.duration(h.duration), f(function () { k.addClass(x.animating), t.addClass(x.hidden) })) : n() }, queue: function (e) { g.debug("Queueing animation of", e), S.one(g.get.transitionEvent(), function () { g.debug("Executing queued animation"), setTimeout(function () { k.shape(e) }, 0) }) }, reset: function () { g.verbose("Animating states reset"), k.removeClass(x.animating).attr("style", "").removeAttr("style"), S.attr("style", "").removeAttr("style"), T.attr("style", "").removeAttr("style").removeClass(x.hidden), m.removeClass(x.animating).attr("style", "").removeAttr("style") }, is: { complete: function () { return T.filter("." + x.active)[0] == m[0] }, animating: function () { return k.hasClass(x.animating) } }, set: { defaultSide: function () { t = k.find("." + h.className.active), m = t.next(b.side).length > 0 ? t.next(b.side) : k.find(b.side).first(), A = !1, g.verbose("Active side set to", t), g.verbose("Next side set to", m) }, duration: function (e) { e = e || h.duration, e = "number" == typeof e ? e + "ms" : e, g.verbose("Setting animation duration", e), (h.duration || 0 === h.duration) && S.add(T).css({ "-webkit-transition-duration": e, "-moz-transition-duration": e, "-ms-transition-duration": e, "-o-transition-duration": e, "transition-duration": e }) }, currentStageSize: function () { var e = k.find("." + h.className.active), t = e.outerWidth(!0), n = e.outerHeight(!0); k.css({ width: t, height: n }) }, stageSize: function () { var e = k.clone().addClass(x.loading), t = e.find("." + h.className.active), n = A ? e.find(b.side).eq(A) : t.next(b.side).length > 0 ? t.next(b.side) : e.find(b.side).first(), i = "next" == h.width ? n.outerWidth(!0) : "initial" == h.width ? k.width() : h.width, o = "next" == h.height ? n.outerHeight(!0) : "initial" == h.height ? k.height() : h.height; t.removeClass(x.active), n.addClass(x.active), e.insertAfter(k), e.remove(), "auto" != h.width && (k.css("width", i + h.jitter), g.verbose("Specifying width during animation", i)), "auto" != h.height && (k.css("height", o + h.jitter), g.verbose("Specifying height during animation", o)) }, nextSide: function (e) { A = e, m = T.filter(e), A = T.index(m), 0 === m.length && (g.set.defaultSide(), g.error(y.side)), g.verbose("Next side manually set to", m) }, active: function () { g.verbose("Setting new side to active", m), T.removeClass(x.active), m.addClass(x.active), h.onChange.call(m[0]), g.set.defaultSide() } }, flip: { up: function () { if (g.is.complete() && !g.is.animating() && !h.allowRepeats) return void g.debug("Side already visible", m); if (g.is.animating()) g.queue("flip up"); else { g.debug("Flipping up", m); var e = g.get.transform.up(); g.set.stageSize(), g.stage.above(), g.animate(e) } }, down: function () { if (g.is.complete() && !g.is.animating() && !h.allowRepeats) return void g.debug("Side already visible", m); if (g.is.animating()) g.queue("flip down"); else { g.debug("Flipping down", m); var e = g.get.transform.down(); g.set.stageSize(), g.stage.below(), g.animate(e) } }, left: function () { if (g.is.complete() && !g.is.animating() && !h.allowRepeats) return void g.debug("Side already visible", m); if (g.is.animating()) g.queue("flip left"); else { g.debug("Flipping left", m); var e = g.get.transform.left(); g.set.stageSize(), g.stage.left(), g.animate(e) } }, right: function () { if (g.is.complete() && !g.is.animating() && !h.allowRepeats) return void g.debug("Side already visible", m); if (g.is.animating()) g.queue("flip right"); else { g.debug("Flipping right", m); var e = g.get.transform.right(); g.set.stageSize(), g.stage.right(), g.animate(e) } }, over: function () { return !g.is.complete() || g.is.animating() || h.allowRepeats ? void (g.is.animating() ? g.queue("flip over") : (g.debug("Flipping over", m), g.set.stageSize(), g.stage.behind(), g.animate(g.get.transform.over()))) : void g.debug("Side already visible", m) }, back: function () { return !g.is.complete() || g.is.animating() || h.allowRepeats ? void (g.is.animating() ? g.queue("flip back") : (g.debug("Flipping back", m), g.set.stageSize(), g.stage.behind(), g.animate(g.get.transform.back()))) : void g.debug("Side already visible", m) } }, get: { transform: { up: function () { var e = { y: -((t.outerHeight(!0) - m.outerHeight(!0)) / 2), z: -(t.outerHeight(!0) / 2) }; return { transform: "translateY(" + e.y + "px) translateZ(" + e.z + "px) rotateX(-90deg)" } }, down: function () { var e = { y: -((t.outerHeight(!0) - m.outerHeight(!0)) / 2), z: -(t.outerHeight(!0) / 2) }; return { transform: "translateY(" + e.y + "px) translateZ(" + e.z + "px) rotateX(90deg)" } }, left: function () { var e = { x: -((t.outerWidth(!0) - m.outerWidth(!0)) / 2), z: -(t.outerWidth(!0) / 2) }; return { transform: "translateX(" + e.x + "px) translateZ(" + e.z + "px) rotateY(90deg)" } }, right: function () { var e = { x: -((t.outerWidth(!0) - m.outerWidth(!0)) / 2), z: -(t.outerWidth(!0) / 2) }; return { transform: "translateX(" + e.x + "px) translateZ(" + e.z + "px) rotateY(-90deg)" } }, over: function () { var e = { x: -((t.outerWidth(!0) - m.outerWidth(!0)) / 2) }; return { transform: "translateX(" + e.x + "px) rotateY(180deg)" } }, back: function () { var e = { x: -((t.outerWidth(!0) - m.outerWidth(!0)) / 2) }; return { transform: "translateX(" + e.x + "px) rotateY(-180deg)" } } }, transitionEvent: function () { var e, t = n.createElement("element"), o = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (e in o) if (t.style[e] !== i) return o[e] }, nextSide: function () { return t.next(b.side).length > 0 ? t.next(b.side) : k.find(b.side).first() } }, stage: { above: function () { var e = { origin: (t.outerHeight(!0) - m.outerHeight(!0)) / 2, depth: { active: m.outerHeight(!0) / 2, next: t.outerHeight(!0) / 2 } }; g.verbose("Setting the initial animation position as above", m, e), S.css({ transform: "translateZ(-" + e.depth.active + "px)" }), t.css({ transform: "rotateY(0deg) translateZ(" + e.depth.active + "px)" }), m.addClass(x.animating).css({ top: e.origin + "px", transform: "rotateX(90deg) translateZ(" + e.depth.next + "px)" }) }, below: function () { var e = { origin: (t.outerHeight(!0) - m.outerHeight(!0)) / 2, depth: { active: m.outerHeight(!0) / 2, next: t.outerHeight(!0) / 2 } }; g.verbose("Setting the initial animation position as below", m, e), S.css({ transform: "translateZ(-" + e.depth.active + "px)" }), t.css({ transform: "rotateY(0deg) translateZ(" + e.depth.active + "px)" }), m.addClass(x.animating).css({ top: e.origin + "px", transform: "rotateX(-90deg) translateZ(" + e.depth.next + "px)" }) }, left: function () { var e = { active: t.outerWidth(!0), next: m.outerWidth(!0) }, n = { origin: (e.active - e.next) / 2, depth: { active: e.next / 2, next: e.active / 2 } }; g.verbose("Setting the initial animation position as left", m, n), S.css({ transform: "translateZ(-" + n.depth.active + "px)" }), t.css({ transform: "rotateY(0deg) translateZ(" + n.depth.active + "px)" }), m.addClass(x.animating).css({ left: n.origin + "px", transform: "rotateY(-90deg) translateZ(" + n.depth.next + "px)" }) }, right: function () { var e = { active: t.outerWidth(!0), next: m.outerWidth(!0) }, n = { origin: (e.active - e.next) / 2, depth: { active: e.next / 2, next: e.active / 2 } }; g.verbose("Setting the initial animation position as left", m, n), S.css({ transform: "translateZ(-" + n.depth.active + "px)" }), t.css({ transform: "rotateY(0deg) translateZ(" + n.depth.active + "px)" }), m.addClass(x.animating).css({ left: n.origin + "px", transform: "rotateY(90deg) translateZ(" + n.depth.next + "px)" }) }, behind: function () { var e = { active: t.outerWidth(!0), next: m.outerWidth(!0) }, n = { origin: (e.active - e.next) / 2, depth: { active: e.next / 2, next: e.active / 2 } }; g.verbose("Setting the initial animation position as behind", m, n), t.css({ transform: "rotateY(0deg)" }), m.addClass(x.animating).css({ left: n.origin + "px", transform: "rotateY(-180deg)" }) } }, setting: function (t, n) { if (g.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, h, t); else { if (n === i) return h[t]; e.isPlainObject(h[t]) ? e.extend(!0, h[t], n) : h[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, g, t); else { if (n === i) return g[t]; g[t] = n } }, debug: function () { !h.silent && h.debug && (h.performance ? g.performance.log(arguments) : (g.debug = Function.prototype.bind.call(console.info, console, h.name + ":"), g.debug.apply(console, arguments))) }, verbose: function () { !h.silent && h.verbose && h.debug && (h.performance ? g.performance.log(arguments) : (g.verbose = Function.prototype.bind.call(console.info, console, h.name + ":"), g.verbose.apply(console, arguments))) }, error: function () { h.silent || (g.error = Function.prototype.bind.call(console.error, console, h.name + ":"), g.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; h.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: R, "Execution Time": n })), clearTimeout(g.performance.timer), g.performance.timer = setTimeout(g.performance.display, 500) }, display: function () { var t = h.name + ":", n = 0; s = !1, clearTimeout(g.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", p && (t += " '" + p + "'"), r.length > 1 && (t += " (" + r.length + ")"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, o) { var r, s, l, c = P; return n = n || d, o = R || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o], !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s } }, u ? (P === i && g.initialize(), g.invoke(c)) : (P !== i && P.invoke("destroy"), g.initialize()) }), a !== i ? a : this }, e.fn.shape.settings = { name: "Shape", silent: !1, debug: !1, verbose: !1, jitter: 0, performance: !0, namespace: "shape", width: "initial", height: "initial", beforeChange: function () { }, onChange: function () { }, allowRepeats: !1, duration: !1, error: { side: "You tried to switch to a side that does not exist.", method: "The method you called is not defined" }, className: { animating: "animating", hidden: "hidden", loading: "loading", active: "active" }, selector: { sides: ".sides", side: ".side" } } }(jQuery, window, document), function (e, t, n, i) {
  "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.sidebar = function (o) {
    var a, r = e(this), s = e(t), l = e(n), c = e("html"), u = e("head"), d = r.selector || "", f = (new Date).getTime(), m = [], g = arguments[0], p = "string" == typeof g, h = [].slice.call(arguments, 1), v = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }; return r.each(function () {
      var r, b, y, x, C, w, k = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.sidebar.settings, o) : e.extend({}, e.fn.sidebar.settings), S = k.selector, T = k.className, A = k.namespace, R = k.regExp, P = k.error, E = "." + A, F = "module-" + A, O = e(this), D = e(k.context), q = O.children(S.sidebar), j = D.children(S.fixed), z = D.children(S.pusher), I = this, M = O.data(F); w = {
        initialize: function () { w.debug("Initializing sidebar", o), w.create.id(), C = w.get.transitionEvent(), w.is.ios() && w.set.ios(), k.delaySetup ? v(w.setup.layout) : w.setup.layout(), v(function () { w.setup.cache() }), w.instantiate() }, instantiate: function () { w.verbose("Storing instance of module", w), M = w, O.data(F, w) }, create: { id: function () { y = (Math.random().toString(16) + "000000000").substr(2, 8), b = "." + y, w.verbose("Creating unique id for element", y) } }, destroy: function () { w.verbose("Destroying previous module for", O), O.off(E).removeData(F), w.is.ios() && w.remove.ios(), D.off(b), s.off(b), l.off(b) }, event: { clickaway: function (e) { var t = z.find(e.target).length > 0 || z.is(e.target), n = D.is(e.target); t && (w.verbose("User clicked on dimmed page"), w.hide()), n && (w.verbose("User clicked on dimmable context (scaled out page)"), w.hide()) }, touch: function (e) { }, containScroll: function (e) { I.scrollTop <= 0 && (I.scrollTop = 1), I.scrollTop + I.offsetHeight >= I.scrollHeight && (I.scrollTop = I.scrollHeight - I.offsetHeight - 1) }, scroll: function (t) { 0 === e(t.target).closest(S.sidebar).length && t.preventDefault() } }, bind: { clickaway: function () { w.verbose("Adding clickaway events to context", D), k.closable && D.on("click" + b, w.event.clickaway).on("touchend" + b, w.event.clickaway) }, scrollLock: function () { k.scrollLock && (w.debug("Disabling page scroll"), s.on("DOMMouseScroll" + b, w.event.scroll)), w.verbose("Adding events to contain sidebar scroll"), l.on("touchmove" + b, w.event.touch), O.on("scroll" + E, w.event.containScroll) } }, unbind: { clickaway: function () { w.verbose("Removing clickaway events from context", D), D.off(b) }, scrollLock: function () { w.verbose("Removing scroll lock from page"), l.off(b), s.off(b), O.off("scroll" + E) } }, add: {
          inlineCSS: function () {
            var t, n = w.cache.width || O.outerWidth(), i = w.cache.height || O.outerHeight(), o = w.is.rtl(), a = w.get.direction(), s = { left: n, right: -n, top: i, bottom: -i }; o && (w.verbose("RTL detected, flipping widths"), s.left = -n, s.right = n), t = "<style>", "left" === a || "right" === a ? (w.debug("Adding CSS rules for animation distance", n), t += " .ui.visible." + a + ".sidebar ~ .fixed, .ui.visible." + a + ".sidebar ~ .pusher {   -webkit-transform: translate3d(" + s[a] + "px, 0, 0);           transform: translate3d(" + s[a] + "px, 0, 0); }") : "top" !== a && "bottom" != a || (t += " .ui.visible." + a + ".sidebar ~ .fixed, .ui.visible." + a + ".sidebar ~ .pusher {   -webkit-transform: translate3d(0, " + s[a] + "px, 0);           transform: translate3d(0, " + s[a] + "px, 0); }"), w.is.ie() && ("left" === a || "right" === a ? (w.debug("Adding CSS rules for animation distance", n),
              t += " body.pushable > .ui.visible." + a + ".sidebar ~ .pusher:after {   -webkit-transform: translate3d(" + s[a] + "px, 0, 0);           transform: translate3d(" + s[a] + "px, 0, 0); }") : "top" !== a && "bottom" != a || (t += " body.pushable > .ui.visible." + a + ".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, " + s[a] + "px, 0);           transform: translate3d(0, " + s[a] + "px, 0); }"), t += " body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"), t += "</style>", r = e(t).appendTo(u), w.debug("Adding sizing css to head", r)
          }
        }, refresh: function () { w.verbose("Refreshing selector cache"), D = e(k.context), q = D.children(S.sidebar), z = D.children(S.pusher), j = D.children(S.fixed), w.clear.cache() }, refreshSidebars: function () { w.verbose("Refreshing other sidebars"), q = D.children(S.sidebar) }, repaint: function () { w.verbose("Forcing repaint event"), I.style.display = "none"; I.offsetHeight; I.scrollTop = I.scrollTop, I.style.display = "" }, setup: { cache: function () { w.cache = { width: O.outerWidth(), height: O.outerHeight(), rtl: "rtl" == O.css("direction") } }, layout: function () { 0 === D.children(S.pusher).length && (w.debug("Adding wrapper element for sidebar"), w.error(P.pusher), z = e('<div class="pusher" />'), D.children().not(S.omitted).not(q).wrapAll(z), w.refresh()), 0 !== O.nextAll(S.pusher).length && O.nextAll(S.pusher)[0] === z[0] || (w.debug("Moved sidebar to correct parent element"), w.error(P.movedSidebar, I), O.detach().prependTo(D), w.refresh()), w.clear.cache(), w.set.pushable(), w.set.direction() } }, attachEvents: function (t, n) { var i = e(t); n = e.isFunction(w[n]) ? w[n] : w.toggle, i.length > 0 ? (w.debug("Attaching sidebar events to element", t, n), i.on("click" + E, n)) : w.error(P.notFound, t) }, show: function (t) { if (t = e.isFunction(t) ? t : function () { }, w.is.hidden()) { if (w.refreshSidebars(), k.overlay && (w.error(P.overlay), k.transition = "overlay"), w.refresh(), w.othersActive()) if (w.debug("Other sidebars currently visible"), k.exclusive) { if ("overlay" != k.transition) return void w.hideOthers(w.show); w.hideOthers() } else k.transition = "overlay"; w.pushPage(function () { t.call(I), k.onShow.call(I) }), k.onChange.call(I), k.onVisible.call(I) } else w.debug("Sidebar is already visible") }, hide: function (t) { t = e.isFunction(t) ? t : function () { }, (w.is.visible() || w.is.animating()) && (w.debug("Hiding sidebar", t), w.refreshSidebars(), w.pullPage(function () { t.call(I), k.onHidden.call(I) }), k.onChange.call(I), k.onHide.call(I)) }, othersAnimating: function () { return q.not(O).filter("." + T.animating).length > 0 }, othersVisible: function () { return q.not(O).filter("." + T.visible).length > 0 }, othersActive: function () { return w.othersVisible() || w.othersAnimating() }, hideOthers: function (e) { var t = q.not(O).filter("." + T.visible), n = t.length, i = 0; e = e || function () { }, t.sidebar("hide", function () { i++, i == n && e() }) }, toggle: function () { w.verbose("Determining toggled direction"), w.is.hidden() ? w.show() : w.hide() }, pushPage: function (t) { var n, i, o, a = w.get.transition(), r = "overlay" === a || w.othersActive() ? O : z; t = e.isFunction(t) ? t : function () { }, "scale down" == k.transition && w.scrollToTop(), w.set.transition(a), w.repaint(), n = function () { w.bind.clickaway(), w.add.inlineCSS(), w.set.animating(), w.set.visible() }, i = function () { w.set.dimmed() }, o = function (e) { e.target == r[0] && (r.off(C + b, o), w.remove.animating(), w.bind.scrollLock(), t.call(I)) }, r.off(C + b), r.on(C + b, o), v(n), k.dimPage && !w.othersVisible() && v(i) }, pullPage: function (t) { var n, i, o = w.get.transition(), a = "overlay" == o || w.othersActive() ? O : z; t = e.isFunction(t) ? t : function () { }, w.verbose("Removing context push state", w.get.direction()), w.unbind.clickaway(), w.unbind.scrollLock(), n = function () { w.set.transition(o), w.set.animating(), w.remove.visible(), k.dimPage && !w.othersVisible() && z.removeClass(T.dimmed) }, i = function (e) { e.target == a[0] && (a.off(C + b, i), w.remove.animating(), w.remove.transition(), w.remove.inlineCSS(), ("scale down" == o || k.returnScroll && w.is.mobile()) && w.scrollBack(), t.call(I)) }, a.off(C + b), a.on(C + b, i), v(n) }, scrollToTop: function () { w.verbose("Scrolling to top of page to avoid animation issues"), x = e(t).scrollTop(), O.scrollTop(0), t.scrollTo(0, 0) }, scrollBack: function () { w.verbose("Scrolling back to original page position"), t.scrollTo(0, x) }, clear: { cache: function () { w.verbose("Clearing cached dimensions"), w.cache = {} } }, set: { ios: function () { c.addClass(T.ios) }, pushed: function () { D.addClass(T.pushed) }, pushable: function () { D.addClass(T.pushable) }, dimmed: function () { z.addClass(T.dimmed) }, active: function () { O.addClass(T.active) }, animating: function () { O.addClass(T.animating) }, transition: function (e) { e = e || w.get.transition(), O.addClass(e) }, direction: function (e) { e = e || w.get.direction(), O.addClass(T[e]) }, visible: function () { O.addClass(T.visible) }, overlay: function () { O.addClass(T.overlay) } }, remove: { inlineCSS: function () { w.debug("Removing inline css styles", r), r && r.length > 0 && r.remove() }, ios: function () { c.removeClass(T.ios) }, pushed: function () { D.removeClass(T.pushed) }, pushable: function () { D.removeClass(T.pushable) }, active: function () { O.removeClass(T.active) }, animating: function () { O.removeClass(T.animating) }, transition: function (e) { e = e || w.get.transition(), O.removeClass(e) }, direction: function (e) { e = e || w.get.direction(), O.removeClass(T[e]) }, visible: function () { O.removeClass(T.visible) }, overlay: function () { O.removeClass(T.overlay) } }, get: { direction: function () { return O.hasClass(T.top) ? T.top : O.hasClass(T.right) ? T.right : O.hasClass(T.bottom) ? T.bottom : T.left }, transition: function () { var e, t = w.get.direction(); return e = w.is.mobile() ? "auto" == k.mobileTransition ? k.defaultTransition.mobile[t] : k.mobileTransition : "auto" == k.transition ? k.defaultTransition.computer[t] : k.transition, w.verbose("Determined transition", e), e }, transitionEvent: function () { var e, t = n.createElement("element"), o = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (e in o) if (t.style[e] !== i) return o[e] } }, is: { ie: function () { var e = !t.ActiveXObject && "ActiveXObject" in t, n = "ActiveXObject" in t; return e || n }, ios: function () { var e = navigator.userAgent, t = e.match(R.ios), n = e.match(R.mobileChrome); return !(!t || n) && (w.verbose("Browser was found to be iOS", e), !0) }, mobile: function () { var e = navigator.userAgent, t = e.match(R.mobile); return t ? (w.verbose("Browser was found to be mobile", e), !0) : (w.verbose("Browser is not mobile, using regular transition", e), !1) }, hidden: function () { return !w.is.visible() }, visible: function () { return O.hasClass(T.visible) }, open: function () { return w.is.visible() }, closed: function () { return w.is.hidden() }, vertical: function () { return O.hasClass(T.top) }, animating: function () { return D.hasClass(T.animating) }, rtl: function () { return w.cache.rtl === i && (w.cache.rtl = "rtl" == O.css("direction")), w.cache.rtl } }, setting: function (t, n) { if (w.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, k, t); else { if (n === i) return k[t]; e.isPlainObject(k[t]) ? e.extend(!0, k[t], n) : k[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, w, t); else { if (n === i) return w[t]; w[t] = n } }, debug: function () { !k.silent && k.debug && (k.performance ? w.performance.log(arguments) : (w.debug = Function.prototype.bind.call(console.info, console, k.name + ":"), w.debug.apply(console, arguments))) }, verbose: function () { !k.silent && k.verbose && k.debug && (k.performance ? w.performance.log(arguments) : (w.verbose = Function.prototype.bind.call(console.info, console, k.name + ":"), w.verbose.apply(console, arguments))) }, error: function () { k.silent || (w.error = Function.prototype.bind.call(console.error, console, k.name + ":"), w.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; k.performance && (t = (new Date).getTime(), i = f || t, n = t - i, f = t, m.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: I, "Execution Time": n })), clearTimeout(w.performance.timer), w.performance.timer = setTimeout(w.performance.display, 500) }, display: function () { var t = k.name + ":", n = 0; f = !1, clearTimeout(w.performance.timer), e.each(m, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", d && (t += " '" + d + "'"), (console.group !== i || console.table !== i) && m.length > 0 && (console.groupCollapsed(t), console.table ? console.table(m) : e.each(m, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), m = [] } }, invoke: function (t, n, o) { var r, s, l, c = M; return n = n || h, o = I || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (w.error(P.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s }
      }, p ? (M === i && w.initialize(), w.invoke(g)) : (M !== i && w.invoke("destroy"), w.initialize())
    }), a !== i ? a : this
  }, e.fn.sidebar.settings = { name: "Sidebar", namespace: "sidebar", silent: !1, debug: !1, verbose: !1, performance: !0, transition: "auto", mobileTransition: "auto", defaultTransition: { computer: { left: "uncover", right: "uncover", top: "overlay", bottom: "overlay" }, mobile: { left: "uncover", right: "uncover", top: "overlay", bottom: "overlay" } }, context: "body", exclusive: !1, closable: !0, dimPage: !0, scrollLock: !1, returnScroll: !1, delaySetup: !1, duration: 500, onChange: function () { }, onShow: function () { }, onHide: function () { }, onHidden: function () { }, onVisible: function () { }, className: { active: "active", animating: "animating", dimmed: "dimmed", ios: "ios", pushable: "pushable", pushed: "pushed", right: "right", top: "top", left: "left", bottom: "bottom", visible: "visible" }, selector: { fixed: ".fixed", omitted: "script, link, style, .ui.suimodal, .ui.dimmer, .ui.nag, .ui.fixed", pusher: ".pusher", sidebar: ".ui.sidebar" }, regExp: { ios: /(iPad|iPhone|iPod)/g, mobileChrome: /(CriOS)/g, mobile: /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g }, error: { method: "The method you called is not defined.", pusher: "Had to add pusher element. For optimal performance make sure body content is inside a pusher element", movedSidebar: "Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag", overlay: "The overlay setting is no longer supported, use animation: overlay", notFound: "There were no elements that matched the specified selector" } }
}(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.sticky = function (o) { var a, r = e(this), s = r.selector || "", l = (new Date).getTime(), c = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1); return r.each(function () { var r, m, g, p, h, v = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.sticky.settings, o) : e.extend({}, e.fn.sticky.settings), b = v.className, y = v.namespace, x = v.error, C = "." + y, w = "module-" + y, k = e(this), S = e(t), T = e(v.scrollContext), A = (k.selector || "", k.data(w)), R = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }, P = this; h = { initialize: function () { h.determineContainer(), h.determineContext(), h.verbose("Initializing sticky", v, r), h.save.positions(), h.checkErrors(), h.bind.events(), v.observeChanges && h.observeChanges(), h.instantiate() }, instantiate: function () { h.verbose("Storing instance of module", h), A = h, k.data(w, h) }, destroy: function () { h.verbose("Destroying previous instance"), h.reset(), g && g.disconnect(), p && p.disconnect(), S.off("load" + C, h.event.load).off("resize" + C, h.event.resize), T.off("scrollchange" + C, h.event.scrollchange), k.removeData(w) }, observeChanges: function () { "MutationObserver" in t && (g = new MutationObserver(h.event.documentChanged), p = new MutationObserver(h.event.changed), g.observe(n, { childList: !0, subtree: !0 }), p.observe(P, { childList: !0, subtree: !0 }), p.observe(m[0], { childList: !0, subtree: !0 }), h.debug("Setting up mutation observer", p)) }, determineContainer: function () { r = v.container ? e(v.container) : k.offsetParent() }, determineContext: function () { if (m = v.context ? e(v.context) : r, 0 === m.length) return void h.error(x.invalidContext, v.context, k) }, checkErrors: function () { if (h.is.hidden() && h.error(x.visible, k), h.cache.element.height > h.cache.context.height) return h.reset(), void h.error(x.elementSize, k) }, bind: { events: function () { S.on("load" + C, h.event.load).on("resize" + C, h.event.resize), T.off("scroll" + C).on("scroll" + C, h.event.scroll).on("scrollchange" + C, h.event.scrollchange) } }, event: { changed: function (e) { clearTimeout(h.timer), h.timer = setTimeout(function () { h.verbose("DOM tree modified, updating sticky menu", e), h.refresh() }, 100) }, documentChanged: function (t) { [].forEach.call(t, function (t) { t.removedNodes && [].forEach.call(t.removedNodes, function (t) { (t == P || e(t).find(P).length > 0) && (h.debug("Element removed from DOM, tearing down events"), h.destroy()) }) }) }, load: function () { h.verbose("Page contents finished loading"), R(h.refresh) }, resize: function () { h.verbose("Window resized"), R(h.refresh) }, scroll: function () { R(function () { T.triggerHandler("scrollchange" + C, T.scrollTop()) }) }, scrollchange: function (e, t) { h.stick(t), v.onScroll.call(P) } }, refresh: function (e) { h.reset(), v.context || h.determineContext(), e && h.determineContainer(), h.save.positions(), h.stick(), v.onReposition.call(P) }, supports: { sticky: function () { var t = e("<div/>"); t[0]; return t.addClass(b.supported), t.css("position").match("sticky") } }, save: { lastScroll: function (e) { h.lastScroll = e }, elementScroll: function (e) { h.elementScroll = e }, positions: function () { var e = { height: T.height() }, t = { margin: { top: parseInt(k.css("margin-top"), 10), bottom: parseInt(k.css("margin-bottom"), 10) }, offset: k.offset(), width: k.outerWidth(), height: k.outerHeight() }, n = { offset: m.offset(), height: m.outerHeight() }; ({ height: r.outerHeight() }); h.is.standardScroll() || (h.debug("Non-standard scroll. Removing scroll offset from element offset"), e.top = T.scrollTop(), e.left = T.scrollLeft(), t.offset.top += e.top, n.offset.top += e.top, t.offset.left += e.left, n.offset.left += e.left), h.cache = { fits: t.height < e.height, scrollContext: { height: e.height }, element: { margin: t.margin, top: t.offset.top - t.margin.top, left: t.offset.left, width: t.width, height: t.height, bottom: t.offset.top + t.height }, context: { top: n.offset.top, height: n.height, bottom: n.offset.top + n.height } }, h.set.containerSize(), h.set.size(), h.stick(), h.debug("Caching element positions", h.cache) } }, get: { direction: function (e) { var t = "down"; return e = e || T.scrollTop(), h.lastScroll !== i && (h.lastScroll < e ? t = "down" : h.lastScroll > e && (t = "up")), t }, scrollChange: function (e) { return e = e || T.scrollTop(), h.lastScroll ? e - h.lastScroll : 0 }, currentElementScroll: function () { return h.elementScroll ? h.elementScroll : h.is.top() ? Math.abs(parseInt(k.css("top"), 10)) || 0 : Math.abs(parseInt(k.css("bottom"), 10)) || 0 }, elementScroll: function (e) { e = e || T.scrollTop(); var t = h.cache.element, n = h.cache.scrollContext, i = h.get.scrollChange(e), o = t.height - n.height + v.offset, a = h.get.currentElementScroll(), r = a + i; return a = h.cache.fits || r < 0 ? 0 : r > o ? o : r } }, remove: { lastScroll: function () { delete h.lastScroll }, elementScroll: function (e) { delete h.elementScroll }, offset: function () { k.css("margin-top", "") } }, set: { offset: function () { h.verbose("Setting offset on element", v.offset), k.css("margin-top", v.offset) }, containerSize: function () { var e = r.get(0).tagName; "HTML" === e || "body" == e ? h.determineContainer() : Math.abs(r.outerHeight() - h.cache.context.height) > v.jitter && (h.debug("Context has padding, specifying exact height for container", h.cache.context.height), r.css({ height: h.cache.context.height })) }, minimumSize: function () { var e = h.cache.element; r.css("min-height", e.height) }, scroll: function (e) { h.debug("Setting scroll on element", e), h.elementScroll != e && (h.is.top() && k.css("bottom", "").css("top", -e), h.is.bottom() && k.css("top", "").css("bottom", e)) }, size: function () { 0 !== h.cache.element.height && 0 !== h.cache.element.width && (P.style.setProperty("width", h.cache.element.width + "px", "important"), P.style.setProperty("height", h.cache.element.height + "px", "important")) } }, is: { standardScroll: function () { return T[0] == t }, top: function () { return k.hasClass(b.top) }, bottom: function () { return k.hasClass(b.bottom) }, initialPosition: function () { return !h.is.fixed() && !h.is.bound() }, hidden: function () { return !k.is(":visible") }, bound: function () { return k.hasClass(b.bound) }, fixed: function () { return k.hasClass(b.fixed) } }, stick: function (e) { var t = e || T.scrollTop(), n = h.cache, i = n.fits, o = n.element, a = n.scrollContext, r = n.context, s = h.is.bottom() && v.pushing ? v.bottomOffset : v.offset, e = { top: t + s, bottom: t + s + a.height }, l = (h.get.direction(e.top), i ? 0 : h.get.elementScroll(e.top)), c = !i, u = 0 !== o.height; u && (h.is.initialPosition() ? e.top >= r.bottom ? (h.debug("Initial element position is bottom of container"), h.bindBottom()) : e.top > o.top && (o.height + e.top - l >= r.bottom ? (h.debug("Initial element position is bottom of container"), h.bindBottom()) : (h.debug("Initial element position is fixed"), h.fixTop())) : h.is.fixed() ? h.is.top() ? e.top <= o.top ? (h.debug("Fixed element reached top of container"), h.setInitialPosition()) : o.height + e.top - l >= r.bottom ? (h.debug("Fixed element reached bottom of container"), h.bindBottom()) : c && (h.set.scroll(l), h.save.lastScroll(e.top), h.save.elementScroll(l)) : h.is.bottom() && (e.bottom - o.height <= o.top ? (h.debug("Bottom fixed rail has reached top of container"), h.setInitialPosition()) : e.bottom >= r.bottom ? (h.debug("Bottom fixed rail has reached bottom of container"), h.bindBottom()) : c && (h.set.scroll(l), h.save.lastScroll(e.top), h.save.elementScroll(l))) : h.is.bottom() && (e.top <= o.top ? (h.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"), h.setInitialPosition()) : v.pushing ? h.is.bound() && e.bottom <= r.bottom && (h.debug("Fixing bottom attached element to bottom of browser."), h.fixBottom()) : h.is.bound() && e.top <= r.bottom - o.height && (h.debug("Fixing bottom attached element to top of browser."), h.fixTop()))) }, bindTop: function () { h.debug("Binding element to top of parent container"), h.remove.offset(), k.css({ left: "", top: "", marginBottom: "" }).removeClass(b.fixed).removeClass(b.bottom).addClass(b.bound).addClass(b.top), v.onTop.call(P), v.onUnstick.call(P) }, bindBottom: function () { h.debug("Binding element to bottom of parent container"), h.remove.offset(), k.css({ left: "", top: "" }).removeClass(b.fixed).removeClass(b.top).addClass(b.bound).addClass(b.bottom), v.onBottom.call(P), v.onUnstick.call(P) }, setInitialPosition: function () { h.debug("Returning to initial position"), h.unfix(), h.unbind() }, fixTop: function () { h.debug("Fixing element to top of page"), h.set.minimumSize(), h.set.offset(), k.css({ left: h.cache.element.left, bottom: "", marginBottom: "" }).removeClass(b.bound).removeClass(b.bottom).addClass(b.fixed).addClass(b.top), v.onStick.call(P) }, fixBottom: function () { h.debug("Sticking element to bottom of page"), h.set.minimumSize(), h.set.offset(), k.css({ left: h.cache.element.left, bottom: "", marginBottom: "" }).removeClass(b.bound).removeClass(b.top).addClass(b.fixed).addClass(b.bottom), v.onStick.call(P) }, unbind: function () { h.is.bound() && (h.debug("Removing container bound position on element"), h.remove.offset(), k.removeClass(b.bound).removeClass(b.top).removeClass(b.bottom)) }, unfix: function () { h.is.fixed() && (h.debug("Removing fixed position on element"), h.remove.offset(), k.removeClass(b.fixed).removeClass(b.top).removeClass(b.bottom), v.onUnstick.call(P)) }, reset: function () { h.debug("Resetting elements position"), h.unbind(), h.unfix(), h.resetCSS(), h.remove.offset(), h.remove.lastScroll() }, resetCSS: function () { k.css({ width: "", height: "" }), r.css({ height: "" }) }, setting: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, v, t); else { if (n === i) return v[t]; v[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, h, t); else { if (n === i) return h[t]; h[t] = n } }, debug: function () { !v.silent && v.debug && (v.performance ? h.performance.log(arguments) : (h.debug = Function.prototype.bind.call(console.info, console, v.name + ":"), h.debug.apply(console, arguments))) }, verbose: function () { !v.silent && v.verbose && v.debug && (v.performance ? h.performance.log(arguments) : (h.verbose = Function.prototype.bind.call(console.info, console, v.name + ":"), h.verbose.apply(console, arguments))) }, error: function () { v.silent || (h.error = Function.prototype.bind.call(console.error, console, v.name + ":"), h.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; v.performance && (t = (new Date).getTime(), i = l || t, n = t - i, l = t, c.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: P, "Execution Time": n })), clearTimeout(h.performance.timer), h.performance.timer = setTimeout(h.performance.display, 0) }, display: function () { var t = v.name + ":", n = 0; l = !1, clearTimeout(h.performance.timer), e.each(c, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", s && (t += " '" + s + "'"), (console.group !== i || console.table !== i) && c.length > 0 && (console.groupCollapsed(t), console.table ? console.table(c) : e.each(c, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), c = [] } }, invoke: function (t, n, o) { var r, s, l, c = A; return n = n || f, o = P || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o], !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s } }, d ? (A === i && h.initialize(), h.invoke(u)) : (A !== i && A.invoke("destroy"), h.initialize()) }), a !== i ? a : this }, e.fn.sticky.settings = { name: "Sticky", namespace: "sticky", silent: !1, debug: !1, verbose: !0, performance: !0, pushing: !1, context: !1, container: !1, scrollContext: t, offset: 0, bottomOffset: 0, jitter: 5, observeChanges: !1, onReposition: function () { }, onScroll: function () { }, onStick: function () { }, onUnstick: function () { }, onTop: function () { }, onBottom: function () { }, error: { container: "Sticky element must be inside a relative container", visible: "Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.", method: "The method you called is not defined.", invalidContext: "Context specified does not exist", elementSize: "Sticky element is larger than its container, cannot create sticky." }, className: { bound: "bound", fixed: "fixed", supported: "native", top: "top", bottom: "bottom" } } }(jQuery, window, document), function (e, t, n, i) {
  "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.tab = function (o) {
    var a, r = e(e.isFunction(this) ? t : this), s = r.selector || "", l = (new Date).getTime(), c = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1), m = !1; return r.each(function () {
      var g, p, h, v, b, y, x = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.tab.settings, o) : e.extend({}, e.fn.tab.settings), C = x.className, w = x.metadata, k = x.selector, S = x.error, T = "." + x.namespace, A = "module-" + x.namespace, R = e(this), P = {}, E = !0, F = 0, O = this, D = R.data(A); b = {
        initialize: function () { b.debug("Initializing tab menu item", R), b.fix.callbacks(), b.determineTabs(), b.debug("Determining tabs", x.context, p), x.auto && b.set.auto(), b.bind.events(), x.history && !m && (b.initializeHistory(), m = !0), b.instantiate() }, instantiate: function () { b.verbose("Storing instance of module", b), D = b, R.data(A, b) }, destroy: function () { b.debug("Destroying tabs", R), R.removeData(A).off(T) }, bind: { events: function () { e.isWindow(O) || (b.debug("Attaching tab activation events to element", R), R.on("click" + T, b.event.click)) } }, determineTabs: function () { var t; "parent" === x.context ? (R.closest(k.ui).length > 0 ? (t = R.closest(k.ui), b.verbose("Using closest UI element as parent", t)) : t = R, g = t.parent(), b.verbose("Determined parent element for creating context", g)) : x.context ? (g = e(x.context), b.verbose("Using selector for tab context", x.context, g)) : g = e("body"), x.childrenOnly ? (p = g.children(k.tabs), b.debug("Searching tab context children for tabs", g, p)) : (p = g.find(k.tabs), b.debug("Searching tab context for tabs", g, p)) }, fix: { callbacks: function () { e.isPlainObject(o) && (o.onTabLoad || o.onTabInit) && (o.onTabLoad && (o.onLoad = o.onTabLoad, delete o.onTabLoad, b.error(S.legacyLoad, o.onLoad)), o.onTabInit && (o.onFirstLoad = o.onTabInit, delete o.onTabInit, b.error(S.legacyInit, o.onFirstLoad)), x = e.extend(!0, {}, e.fn.tab.settings, o)) } }, initializeHistory: function () { if (b.debug("Initializing page state"), e.address === i) return b.error(S.state), !1; if ("state" == x.historyType) { if (b.debug("Using HTML5 to manage state"), x.path === !1) return b.error(S.path), !1; e.address.history(!0).state(x.path) } e.address.bind("change", b.event.history.change) }, event: { click: function (t) { var n = e(this).data(w.tab); n !== i ? (x.history ? (b.verbose("Updating page state", t), e.address.value(n)) : (b.verbose("Changing tab", t), b.changeTab(n)), t.preventDefault()) : b.debug("No tab specified") }, history: { change: function (t) { var n = t.pathNames.join("/") || b.get.initialPath(), o = x.templates.determineTitle(n) || !1; b.performance.display(), b.debug("History change event", n, t), y = t, n !== i && b.changeTab(n), o && e.address.title(o) } } }, refresh: function () { h && (b.debug("Refreshing tab", h), b.changeTab(h)) }, cache: { read: function (e) { return e !== i && P[e] }, add: function (e, t) { e = e || h, b.debug("Adding cached content for", e), P[e] = t }, remove: function (e) { e = e || h, b.debug("Removing cached content for", e), delete P[e] } }, set: { auto: function () { var t = "string" == typeof x.path ? x.path.replace(/\/$/, "") + "/{$tab}" : "/{$tab}"; b.verbose("Setting up automatic tab retrieval from server", t), e.isPlainObject(x.apiSettings) ? x.apiSettings.url = t : x.apiSettings = { url: t } }, loading: function (e) { var t = b.get.tabElement(e), n = t.hasClass(C.loading); n || (b.verbose("Setting loading state for", t), t.addClass(C.loading).siblings(p).removeClass(C.active + " " + C.loading), t.length > 0 && x.onRequest.call(t[0], e)) }, state: function (t) { e.address.value(t) } }, changeTab: function (n) { var i = t.history && t.history.pushState, o = i && x.ignoreFirstLoad && E, a = x.auto || e.isPlainObject(x.apiSettings), r = a && !o ? b.utilities.pathToArray(n) : b.get.defaultPathArray(n); n = b.utilities.arrayToPath(r), e.each(r, function (t, i) { var s, l, c, u, d = r.slice(0, t + 1), f = b.utilities.arrayToPath(d), m = b.is.tab(f), p = t + 1 == r.length, k = b.get.tabElement(f); if (b.verbose("Looking for tab", i), m) { if (b.verbose("Tab was found", i), h = f, v = b.utilities.filterArray(r, d), p ? u = !0 : (l = r.slice(0, t + 2), c = b.utilities.arrayToPath(l), u = !b.is.tab(c), u && b.verbose("Tab parameters found", l)), u && a) return o ? (b.debug("Ignoring remote content on first tab load", f), E = !1, b.cache.add(n, k.html()), b.activate.all(f), x.onFirstLoad.call(k[0], f, v, y), x.onLoad.call(k[0], f, v, y)) : (b.activate.navigation(f), b.fetch.content(f, n)), !1; b.debug("Opened local tab", f), b.activate.all(f), b.cache.read(f) || (b.cache.add(f, !0), b.debug("First time tab loaded calling tab init"), x.onFirstLoad.call(k[0], f, v, y)), x.onLoad.call(k[0], f, v, y) } else { if (n.search("/") != -1 || "" === n) return b.error(S.missingTab, R, g, f), !1; if (s = e("#" + n + ', a[name="' + n + '"]'), f = s.closest("[data-tab]").data(w.tab), k = b.get.tabElement(f), s && s.length > 0 && f) return b.debug("Anchor link used, opening parent tab", k, s), k.hasClass(C.active) || setTimeout(function () { b.scrollTo(s) }, 0), b.activate.all(f), b.cache.read(f) || (b.cache.add(f, !0), b.debug("First time tab loaded calling tab init"), x.onFirstLoad.call(k[0], f, v, y)), x.onLoad.call(k[0], f, v, y), !1 } }) }, scrollTo: function (t) { var i = !!(t && t.length > 0) && t.offset().top; i !== !1 && (b.debug("Forcing scroll to an in-page link in a hidden tab", i, t), e(n).scrollTop(i)) }, update: { content: function (t, n, o) { var a = b.get.tabElement(t), r = a[0]; o = o !== i ? o : x.evaluateScripts, "string" == typeof x.cacheType && "dom" == x.cacheType.toLowerCase() && "string" != typeof n ? a.empty().append(e(n).clone(!0)) : o ? (b.debug("Updating HTML and evaluating inline scripts", t, n), a.html(n)) : (b.debug("Updating HTML", t, n), r.innerHTML = n) } }, fetch: { content: function (t, n) { var o, a, r = b.get.tabElement(t), s = { dataType: "html", encodeParameters: !1, on: "now", cache: x.alwaysRefresh, headers: { "X-Remote": !0 }, onSuccess: function (e) { "response" == x.cacheType && b.cache.add(n, e), b.update.content(t, e), t == h ? (b.debug("Content loaded", t), b.activate.tab(t)) : b.debug("Content loaded in background", t), x.onFirstLoad.call(r[0], t, v, y), x.onLoad.call(r[0], t, v, y), x.loadOnce ? b.cache.add(n, !0) : "string" == typeof x.cacheType && "dom" == x.cacheType.toLowerCase() && r.children().length > 0 ? setTimeout(function () { var e = r.children().clone(!0); e = e.not("script"), b.cache.add(n, e) }, 0) : b.cache.add(n, r.html()) }, urlData: { tab: n } }, l = r.api("get request") || !1, c = l && "pending" === l.state(); n = n || t, a = b.cache.read(n), x.cache && a ? (b.activate.tab(t), b.debug("Adding cached content", n), x.loadOnce || ("once" == x.evaluateScripts ? b.update.content(t, a, !1) : b.update.content(t, a)), x.onLoad.call(r[0], t, v, y)) : c ? (b.set.loading(t), b.debug("Content is already loading", n)) : e.api !== i ? (o = e.extend(!0, {}, x.apiSettings, s), b.debug("Retrieving remote content", n, o), b.set.loading(t), r.api(o)) : b.error(S.api) } }, activate: { all: function (e) { b.activate.tab(e), b.activate.navigation(e) }, tab: function (e) { var t = b.get.tabElement(e), n = "siblings" == x.deactivate ? t.siblings(p) : p.not(t), i = t.hasClass(C.active); b.verbose("Showing tab content for", t), i || (t.addClass(C.active), n.removeClass(C.active + " " + C.loading), t.length > 0 && x.onVisible.call(t[0], e)) }, navigation: function (e) { var t = b.get.navElement(e), n = "siblings" == x.deactivate ? t.siblings(r) : r.not(t), i = t.hasClass(C.active); b.verbose("Activating tab navigation for", t, e), i || (t.addClass(C.active), n.removeClass(C.active + " " + C.loading)) } }, deactivate: { all: function () { b.deactivate.navigation(), b.deactivate.tabs() }, navigation: function () { r.removeClass(C.active) }, tabs: function () { p.removeClass(C.active + " " + C.loading) } }, is: { tab: function (e) { return e !== i && b.get.tabElement(e).length > 0 } }, get: { initialPath: function () { return r.eq(0).data(w.tab) || p.eq(0).data(w.tab) }, path: function () { return e.address.value() }, defaultPathArray: function (e) { return b.utilities.pathToArray(b.get.defaultPath(e)) }, defaultPath: function (e) { var t = r.filter("[data-" + w.tab + '^="' + e + '/"]').eq(0), n = t.data(w.tab) || !1; if (n) { if (b.debug("Found default tab", n), F < x.maxDepth) return F++, b.get.defaultPath(n); b.error(S.recursion) } else b.debug("No default tabs found for", e, p); return F = 0, e }, navElement: function (e) { return e = e || h, r.filter("[data-" + w.tab + '="' + e + '"]') }, tabElement: function (e) { var t, n, i, o; return e = e || h, i = b.utilities.pathToArray(e), o = b.utilities.last(i), t = p.filter("[data-" + w.tab + '="' + e + '"]'), n = p.filter("[data-" + w.tab + '="' + o + '"]'), t.length > 0 ? t : n }, tab: function () { return h } }, utilities: { filterArray: function (t, n) { return e.grep(t, function (t) { return e.inArray(t, n) == -1 }) }, last: function (t) { return !!e.isArray(t) && t[t.length - 1] }, pathToArray: function (e) { return e === i && (e = h), "string" == typeof e ? e.split("/") : [e] }, arrayToPath: function (t) { return !!e.isArray(t) && t.join("/") } }, setting: function (t, n) { if (b.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, x, t); else { if (n === i) return x[t]; e.isPlainObject(x[t]) ? e.extend(!0, x[t], n) : x[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, b, t); else { if (n === i) return b[t]; b[t] = n } }, debug: function () { !x.silent && x.debug && (x.performance ? b.performance.log(arguments) : (b.debug = Function.prototype.bind.call(console.info, console, x.name + ":"), b.debug.apply(console, arguments))) }, verbose: function () { !x.silent && x.verbose && x.debug && (x.performance ? b.performance.log(arguments) : (b.verbose = Function.prototype.bind.call(console.info, console, x.name + ":"), b.verbose.apply(console, arguments))) }, error: function () { x.silent || (b.error = Function.prototype.bind.call(console.error, console, x.name + ":"), b.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; x.performance && (t = (new Date).getTime(), i = l || t, n = t - i, l = t, c.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: O, "Execution Time": n })), clearTimeout(b.performance.timer), b.performance.timer = setTimeout(b.performance.display, 500) }, display: function () { var t = x.name + ":", n = 0; l = !1, clearTimeout(b.performance.timer), e.each(c, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", s && (t += " '" + s + "'"), (console.group !== i || console.table !== i) && c.length > 0 && (console.groupCollapsed(t), console.table ? console.table(c) : e.each(c, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), c = [] } }, invoke: function (t, n, o) {
          var r, s, l, c = D; return n = n || f, o = O || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) {
            var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else {
              if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o],
                !1) : (b.error(S.method, t), !1); c = c[o]
            }
          })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s
        }
      }, d ? (D === i && b.initialize(), b.invoke(u)) : (D !== i && D.invoke("destroy"), b.initialize())
    }), a !== i ? a : this
  }, e.tab = function () { e(t).tab.apply(this, arguments) }, e.fn.tab.settings = { name: "Tab", namespace: "tab", silent: !1, debug: !1, verbose: !1, performance: !0, auto: !1, history: !1, historyType: "hash", path: !1, context: !1, childrenOnly: !1, maxDepth: 25, deactivate: "siblings", alwaysRefresh: !1, cache: !0, loadOnce: !1, cacheType: "response", ignoreFirstLoad: !1, apiSettings: !1, evaluateScripts: "once", onFirstLoad: function (e, t, n) { }, onLoad: function (e, t, n) { }, onVisible: function (e, t, n) { }, onRequest: function (e, t, n) { }, templates: { determineTitle: function (e) { } }, error: { api: "You attempted to load content without API module", method: "The method you called is not defined", missingTab: "Activated tab cannot be found. Tabs are case-sensitive.", noContent: "The tab you specified is missing a content url.", path: "History enabled, but no path was specified", recursion: "Max recursive depth reached", legacyInit: "onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.", legacyLoad: "onTabLoad has been renamed to onLoad in 2.0. Please adjust your code", state: "History requires Asual's Address library <https://github.com/asual/jquery-address>" }, metadata: { tab: "tab", loaded: "loaded", promise: "promise" }, className: { loading: "loading", active: "active" }, selector: { tabs: ".ui.tab", ui: ".ui" } }
}(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.transition = function () { var o, a = e(this), r = a.selector || "", s = (new Date).getTime(), l = [], c = arguments, u = c[0], d = [].slice.call(arguments, 1), f = "string" == typeof u; t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }; return a.each(function (t) { var m, g, p, h, v, b, y, x, C, w = e(this), k = this; C = { initialize: function () { m = C.get.settings.apply(k, c), h = m.className, p = m.error, v = m.metadata, x = "." + m.namespace, y = "module-" + m.namespace, g = w.data(y) || C, b = C.get.animationEndEvent(), f && (f = C.invoke(u)), f === !1 && (C.verbose("Converted arguments into settings object", m), m.interval ? C.delay(m.animate) : C.animate(), C.instantiate()) }, instantiate: function () { C.verbose("Storing instance of module", C), g = C, w.data(y, g) }, destroy: function () { C.verbose("Destroying previous module for", k), w.removeData(y) }, refresh: function () { C.verbose("Refreshing display type on next animation"), delete C.displayType }, forceRepaint: function () { C.verbose("Forcing element repaint"); var e = w.parent(), t = w.next(); 0 === t.length ? w.detach().appendTo(e) : w.detach().insertBefore(t) }, repaint: function () { C.verbose("Repainting element"); k.offsetWidth }, delay: function (e) { var n, o, r = C.get.animationDirection(); r || (r = C.can.transition() ? C.get.direction() : "static"), e = e !== i ? e : m.interval, n = "auto" == m.reverse && r == h.outward, o = n || 1 == m.reverse ? (a.length - t) * m.interval : t * m.interval, C.debug("Delaying animation by", o), setTimeout(C.animate, o) }, animate: function (e) { if (m = e || m, !C.is.supported()) return C.error(p.support), !1; if (C.debug("Preparing animation", m.animation), C.is.animating()) { if (m.queue) return !m.allowRepeats && C.has.direction() && C.is.occurring() && C.queuing !== !0 ? C.debug("Animation is currently occurring, preventing queueing same animation", m.animation) : C.queue(m.animation), !1; if (!m.allowRepeats && C.is.occurring()) return C.debug("Animation is already occurring, will not execute repeated animation", m.animation), !1; C.debug("New animation started, completing previous early", m.animation), g.complete() } C.can.animate() ? C.set.animating(m.animation) : C.error(p.noAnimation, m.animation, k) }, reset: function () { C.debug("Resetting animation to beginning conditions"), C.remove.animationCallbacks(), C.restore.conditions(), C.remove.animating() }, queue: function (e) { C.debug("Queueing animation of", e), C.queuing = !0, w.one(b + ".queue" + x, function () { C.queuing = !1, C.repaint(), C.animate.apply(this, m) }) }, complete: function (e) { C.debug("Animation complete", m.animation), C.remove.completeCallback(), C.remove.failSafe(), C.is.looping() || (C.is.outward() ? (C.verbose("Animation is outward, hiding element"), C.restore.conditions(), C.hide()) : C.is.inward() ? (C.verbose("Animation is outward, showing element"), C.restore.conditions(), C.show()) : (C.verbose("Static animation completed"), C.restore.conditions(), m.onComplete.call(k))) }, force: { visible: function () { var e = w.attr("style"), t = C.get.userStyle(), n = C.get.displayType(), o = t + "display: " + n + " !important;", a = w.css("display"), r = e === i || "" === e; a !== n ? (C.verbose("Overriding default display to show element", n), w.attr("style", o)) : r && w.removeAttr("style") }, hidden: function () { var e = w.attr("style"), t = w.css("display"), n = e === i || "" === e; "none" === t || C.is.hidden() ? n && w.removeAttr("style") : (C.verbose("Overriding default display to hide element"), w.css("display", "none")) } }, has: { direction: function (t) { var n = !1; return t = t || m.animation, "string" == typeof t && (t = t.split(" "), e.each(t, function (e, t) { t !== h.inward && t !== h.outward || (n = !0) })), n }, inlineDisplay: function () { var t = w.attr("style") || ""; return e.isArray(t.match(/display.*?;/, "")) } }, set: { animating: function (e) { var t; C.remove.completeCallback(), e = e || m.animation, t = C.get.animationClass(e), C.save.animation(t), C.force.visible(), C.remove.hidden(), C.remove.direction(), C.start.animation(t) }, duration: function (e, t) { t = t || m.duration, t = "number" == typeof t ? t + "ms" : t, (t || 0 === t) && (C.verbose("Setting animation duration", t), w.css({ "animation-duration": t })) }, direction: function (e) { e = e || C.get.direction(), e == h.inward ? C.set.inward() : C.set.outward() }, looping: function () { C.debug("Transition set to loop"), w.addClass(h.looping) }, hidden: function () { w.addClass(h.transition).addClass(h.hidden) }, inward: function () { C.debug("Setting direction to inward"), w.removeClass(h.outward).addClass(h.inward) }, outward: function () { C.debug("Setting direction to outward"), w.removeClass(h.inward).addClass(h.outward) }, visible: function () { w.addClass(h.transition).addClass(h.visible) } }, start: { animation: function (e) { e = e || C.get.animationClass(), C.debug("Starting tween", e), w.addClass(e).one(b + ".complete" + x, C.complete), m.useFailSafe && C.add.failSafe(), C.set.duration(m.duration), m.onStart.call(k) } }, save: { animation: function (e) { C.cache || (C.cache = {}), C.cache.animation = e }, displayType: function (e) { "none" !== e && w.data(v.displayType, e) }, transitionExists: function (t, n) { e.fn.transition.exists[t] = n, C.verbose("Saving existence of transition", t, n) } }, restore: { conditions: function () { var e = C.get.currentAnimation(); e && (w.removeClass(e), C.verbose("Removing animation class", C.cache)), C.remove.duration() } }, add: { failSafe: function () { var e = C.get.duration(); C.timer = setTimeout(function () { w.triggerHandler(b) }, e + m.failSafeDelay), C.verbose("Adding fail safe timer", C.timer) } }, remove: { animating: function () { w.removeClass(h.animating) }, animationCallbacks: function () { C.remove.queueCallback(), C.remove.completeCallback() }, queueCallback: function () { w.off(".queue" + x) }, completeCallback: function () { w.off(".complete" + x) }, display: function () { w.css("display", "") }, direction: function () { w.removeClass(h.inward).removeClass(h.outward) }, duration: function () { w.css("animation-duration", "") }, failSafe: function () { C.verbose("Removing fail safe timer", C.timer), C.timer && clearTimeout(C.timer) }, hidden: function () { w.removeClass(h.hidden) }, visible: function () { w.removeClass(h.visible) }, looping: function () { C.debug("Transitions are no longer looping"), C.is.looping() && (C.reset(), w.removeClass(h.looping)) }, transition: function () { w.removeClass(h.visible).removeClass(h.hidden) } }, get: { settings: function (t, n, i) { return "object" == typeof t ? e.extend(!0, {}, e.fn.transition.settings, t) : "function" == typeof i ? e.extend({}, e.fn.transition.settings, { animation: t, onComplete: i, duration: n }) : "string" == typeof n || "number" == typeof n ? e.extend({}, e.fn.transition.settings, { animation: t, duration: n }) : "object" == typeof n ? e.extend({}, e.fn.transition.settings, n, { animation: t }) : "function" == typeof n ? e.extend({}, e.fn.transition.settings, { animation: t, onComplete: n }) : e.extend({}, e.fn.transition.settings, { animation: t }) }, animationClass: function (e) { var t = e || m.animation, n = C.can.transition() && !C.has.direction() ? C.get.direction() + " " : ""; return h.animating + " " + h.transition + " " + n + t }, currentAnimation: function () { return !(!C.cache || C.cache.animation === i) && C.cache.animation }, currentDirection: function () { return C.is.inward() ? h.inward : h.outward }, direction: function () { return C.is.hidden() || !C.is.visible() ? h.inward : h.outward }, animationDirection: function (t) { var n; return t = t || m.animation, "string" == typeof t && (t = t.split(" "), e.each(t, function (e, t) { t === h.inward ? n = h.inward : t === h.outward && (n = h.outward) })), !!n && n }, duration: function (e) { return e = e || m.duration, e === !1 && (e = w.css("animation-duration") || 0), "string" == typeof e ? e.indexOf("ms") > -1 ? parseFloat(e) : 1e3 * parseFloat(e) : e }, displayType: function (e) { return e = e === i || e, m.displayType ? m.displayType : (e && w.data(v.displayType) === i && C.can.transition(!0), w.data(v.displayType)) }, userStyle: function (e) { return e = e || w.attr("style") || "", e.replace(/display.*?;/, "") }, transitionExists: function (t) { return e.fn.transition.exists[t] }, animationStartEvent: function () { var e, t = n.createElement("div"), o = { animation: "animationstart", OAnimation: "oAnimationStart", MozAnimation: "mozAnimationStart", WebkitAnimation: "webkitAnimationStart" }; for (e in o) if (t.style[e] !== i) return o[e]; return !1 }, animationEndEvent: function () { var e, t = n.createElement("div"), o = { animation: "animationend", OAnimation: "oAnimationEnd", MozAnimation: "mozAnimationEnd", WebkitAnimation: "webkitAnimationEnd" }; for (e in o) if (t.style[e] !== i) return o[e]; return !1 } }, can: { transition: function (t) { var n, o, a, r, s, l, c = m.animation, u = C.get.transitionExists(c), d = C.get.displayType(!1); if (u === i || t) { if (C.verbose("Determining whether animation exists"), n = w.attr("class"), o = w.prop("tagName"), a = e("<" + o + " />").addClass(n).insertAfter(w), r = a.addClass(c).removeClass(h.inward).removeClass(h.outward).addClass(h.animating).addClass(h.transition).css("animationName"), s = a.addClass(h.inward).css("animationName"), d || (d = a.attr("class", n).removeAttr("style").removeClass(h.hidden).removeClass(h.visible).show().css("display"), C.verbose("Determining final display state", d), C.save.displayType(d)), a.remove(), r != s) C.debug("Direction exists for animation", c), l = !0; else { if ("none" == r || !r) return void C.debug("No animation defined in css", c); C.debug("Static animation found", c, d), l = !1 } C.save.transitionExists(c, l) } return u !== i ? u : l }, animate: function () { return C.can.transition() !== i } }, is: { animating: function () { return w.hasClass(h.animating) }, inward: function () { return w.hasClass(h.inward) }, outward: function () { return w.hasClass(h.outward) }, looping: function () { return w.hasClass(h.looping) }, occurring: function (e) { return e = e || m.animation, e = "." + e.replace(" ", "."), w.filter(e).length > 0 }, visible: function () { return w.is(":visible") }, hidden: function () { return "hidden" === w.css("visibility") }, supported: function () { return b !== !1 } }, hide: function () { C.verbose("Hiding element"), C.is.animating() && C.reset(), k.blur(), C.remove.display(), C.remove.visible(), C.set.hidden(), C.force.hidden(), m.onHide.call(k), m.onComplete.call(k) }, show: function (e) { C.verbose("Showing element", e), C.remove.hidden(), C.set.visible(), C.force.visible(), m.onShow.call(k), m.onComplete.call(k) }, toggle: function () { C.is.visible() ? C.hide() : C.show() }, stop: function () { C.debug("Stopping current animation"), w.triggerHandler(b) }, stopAll: function () { C.debug("Stopping all animation"), C.remove.queueCallback(), w.triggerHandler(b) }, clear: { queue: function () { C.debug("Clearing animation queue"), C.remove.queueCallback() } }, enable: function () { C.verbose("Starting animation"), w.removeClass(h.disabled) }, disable: function () { C.debug("Stopping animation"), w.addClass(h.disabled) }, setting: function (t, n) { if (C.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, m, t); else { if (n === i) return m[t]; e.isPlainObject(m[t]) ? e.extend(!0, m[t], n) : m[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, C, t); else { if (n === i) return C[t]; C[t] = n } }, debug: function () { !m.silent && m.debug && (m.performance ? C.performance.log(arguments) : (C.debug = Function.prototype.bind.call(console.info, console, m.name + ":"), C.debug.apply(console, arguments))) }, verbose: function () { !m.silent && m.verbose && m.debug && (m.performance ? C.performance.log(arguments) : (C.verbose = Function.prototype.bind.call(console.info, console, m.name + ":"), C.verbose.apply(console, arguments))) }, error: function () { m.silent || (C.error = Function.prototype.bind.call(console.error, console, m.name + ":"), C.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; m.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: k, "Execution Time": n })), clearTimeout(C.performance.timer), C.performance.timer = setTimeout(C.performance.display, 500) }, display: function () { var t = m.name + ":", n = 0; s = !1, clearTimeout(C.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", r && (t += " '" + r + "'"), a.length > 1 && (t += " (" + a.length + ")"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, a) { var r, s, l, c = g; return n = n || d, a = k || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i && (s = c[o], !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(a, n) : s !== i && (l = s), e.isArray(o) ? o.push(l) : o !== i ? o = [o, l] : l !== i && (o = l), s !== i && s } }, C.initialize() }), o !== i ? o : this }, e.fn.transition.exists = {}, e.fn.transition.settings = { name: "Transition", silent: !1, debug: !1, verbose: !1, performance: !0, namespace: "transition", interval: 0, reverse: "auto", onStart: function () { }, onComplete: function () { }, onShow: function () { }, onHide: function () { }, useFailSafe: !0, failSafeDelay: 100, allowRepeats: !1, displayType: !1, animation: "fade", duration: !1, queue: !0, metadata: { displayType: "display" }, className: { animating: "animating", disabled: "disabled", hidden: "hidden", inward: "in", loading: "loading", looping: "looping", outward: "out", transition: "transition", visible: "visible" }, error: { noAnimation: "Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.", repeated: "That animation is already occurring, cancelling repeated animation", method: "The method you called is not defined", support: "This browser does not support CSS animations" } } }(jQuery, window, document), function (e, t, n, i) { "use strict"; var t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); e.api = e.fn.api = function (n) { var o, a = e(e.isFunction(this) ? t : this), r = a.selector || "", s = (new Date).getTime(), l = [], c = arguments[0], u = "string" == typeof c, d = [].slice.call(arguments, 1); return a.each(function () { var a, f, m, g, p, h, v = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.api.settings, n) : e.extend({}, e.fn.api.settings), b = v.namespace, y = v.metadata, x = v.selector, C = v.error, w = v.className, k = "." + b, S = "module-" + b, T = e(this), A = T.closest(x.form), R = v.stateContext ? e(v.stateContext) : T, P = this, E = R[0], F = T.data(S); h = { initialize: function () { u || h.bind.events(), h.instantiate() }, instantiate: function () { h.verbose("Storing instance of module", h), F = h, T.data(S, F) }, destroy: function () { h.verbose("Destroying previous module for", P), T.removeData(S).off(k) }, bind: { events: function () { var e = h.get.event(); e ? (h.verbose("Attaching API events to element", e), T.on(e + k, h.event.trigger)) : "now" == v.on && (h.debug("Querying API endpoint immediately"), h.query()) } }, decode: { json: function (e) { if (e !== i && "string" == typeof e) try { e = JSON.parse(e) } catch (e) { } return e } }, read: { cachedResponse: function (e) { var n; return t.Storage === i ? void h.error(C.noStorage) : (n = sessionStorage.getItem(e), h.debug("Using cached response", e, n), n = h.decode.json(n)) } }, write: { cachedResponse: function (n, o) { return o && "" === o ? void h.debug("Response empty, not caching", o) : t.Storage === i ? void h.error(C.noStorage) : (e.isPlainObject(o) && (o = JSON.stringify(o)), sessionStorage.setItem(n, o), void h.verbose("Storing cached response for url", n, o)) } }, query: function () { if (h.is.disabled()) return void h.debug("Element is disabled API request aborted"); if (h.is.loading()) { if (!v.interruptRequests) return void h.debug("Cancelling request, previous request is still pending"); h.debug("Interrupting previous request"), h.abort() } return v.defaultData && e.extend(!0, v.urlData, h.get.defaultData()), v.serializeForm && (v.data = h.add.formData(v.data)), f = h.get.settings(), f === !1 ? (h.cancelled = !0, void h.error(C.beforeSend)) : (h.cancelled = !1, m = h.get.templatedURL(), m || h.is.mocked() ? (m = h.add.urlData(m), m || h.is.mocked() ? (f.url = v.base + m, a = e.extend(!0, {}, v, { type: v.method || v.type, data: g, url: v.base + m, beforeSend: v.beforeXHR, success: function () { }, failure: function () { }, complete: function () { } }), h.debug("Querying URL", a.url), h.verbose("Using AJAX settings", a), "local" === v.cache && h.read.cachedResponse(m) ? (h.debug("Response returned from local cache"), h.request = h.create.request(), void h.request.resolveWith(E, [h.read.cachedResponse(m)])) : void (v.throttle ? v.throttleFirstRequest || h.timer ? (h.debug("Throttling request", v.throttle), clearTimeout(h.timer), h.timer = setTimeout(function () { h.timer && delete h.timer, h.debug("Sending throttled request", g, a.method), h.send.request() }, v.throttle)) : (h.debug("Sending request", g, a.method), h.send.request(), h.timer = setTimeout(function () { }, v.throttle)) : (h.debug("Sending request", g, a.method), h.send.request()))) : void 0) : void h.error(C.missingURL)) }, should: { removeError: function () { return v.hideError === !0 || "auto" === v.hideError && !h.is.form() } }, is: { disabled: function () { return T.filter(x.disabled).length > 0 }, expectingJSON: function () { return "json" === v.dataType || "jsonp" === v.dataType }, form: function () { return T.is("form") || R.is("form") }, mocked: function () { return v.mockResponse || v.mockResponseAsync || v.response || v.responseAsync }, input: function () { return T.is("input") }, loading: function () { return !!h.request && "pending" == h.request.state() }, abortedRequest: function (e) { return e && e.readyState !== i && 0 === e.readyState ? (h.verbose("XHR request determined to be aborted"), !0) : (h.verbose("XHR request was not aborted"), !1) }, validResponse: function (t) { return h.is.expectingJSON() && e.isFunction(v.successTest) ? (h.debug("Checking JSON returned success", v.successTest, t), v.successTest(t) ? (h.debug("Response passed success test", t), !0) : (h.debug("Response failed success test", t), !1)) : (h.verbose("Response is not JSON, skipping validation", v.successTest, t), !0) } }, was: { cancelled: function () { return h.cancelled || !1 }, succesful: function () { return h.request && "resolved" == h.request.state() }, failure: function () { return h.request && "rejected" == h.request.state() }, complete: function () { return h.request && ("resolved" == h.request.state() || "rejected" == h.request.state()) } }, add: { urlData: function (t, n) { var o, a; return t && (o = t.match(v.regExp.required), a = t.match(v.regExp.optional), n = n || v.urlData, o && (h.debug("Looking for required URL variables", o), e.each(o, function (o, a) { var r = a.indexOf("$") !== -1 ? a.substr(2, a.length - 3) : a.substr(1, a.length - 2), s = e.isPlainObject(n) && n[r] !== i ? n[r] : T.data(r) !== i ? T.data(r) : R.data(r) !== i ? R.data(r) : n[r]; return s === i ? (h.error(C.requiredParameter, r, t), t = !1, !1) : (h.verbose("Found required variable", r, s), s = v.encodeParameters ? h.get.urlEncodedValue(s) : s, t = t.replace(a, s), void 0) })), a && (h.debug("Looking for optional URL variables", o), e.each(a, function (o, a) { var r = a.indexOf("$") !== -1 ? a.substr(3, a.length - 4) : a.substr(2, a.length - 3), s = e.isPlainObject(n) && n[r] !== i ? n[r] : T.data(r) !== i ? T.data(r) : R.data(r) !== i ? R.data(r) : n[r]; s !== i ? (h.verbose("Optional variable Found", r, s), t = t.replace(a, s)) : (h.verbose("Optional variable not found", r), t = t.indexOf("/" + a) !== -1 ? t.replace("/" + a, "") : t.replace(a, "")) }))), t }, formData: function (t) { var n, o = e.fn.serializeObject !== i, a = o ? A.serializeObject() : A.serialize(); return t = t || v.data, n = e.isPlainObject(t), n ? o ? (h.debug("Extending existing data with form data", t, a), t = e.extend(!0, {}, t, a)) : (h.error(C.missingSerialize), h.debug("Cant extend data. Replacing data with form data", t, a), t = a) : (h.debug("Adding form data", a), t = a), t } }, send: { request: function () { h.set.loading(), h.request = h.create.request(), h.is.mocked() ? h.mockedXHR = h.create.mockedXHR() : h.xhr = h.create.xhr(), v.onRequest.call(E, h.request, h.xhr) } }, event: { trigger: function (e) { h.query(), "submit" != e.type && "click" != e.type || e.preventDefault() }, xhr: { always: function () { }, done: function (t, n, i) { var o = this, a = (new Date).getTime() - p, r = v.loadingDuration - a, s = !!e.isFunction(v.onResponse) && (h.is.expectingJSON() ? v.onResponse.call(o, e.extend(!0, {}, t)) : v.onResponse.call(o, t)); r = r > 0 ? r : 0, s && (h.debug("Modified API response in onResponse callback", v.onResponse, s, t), t = s), r > 0 && h.debug("Response completed early delaying state change by", r), setTimeout(function () { h.is.validResponse(t) ? h.request.resolveWith(o, [t, i]) : h.request.rejectWith(o, [i, "invalid"]) }, r) }, fail: function (e, t, n) { var i = this, o = (new Date).getTime() - p, a = v.loadingDuration - o; a = a > 0 ? a : 0, a > 0 && h.debug("Response completed early delaying state change by", a), setTimeout(function () { h.is.abortedRequest(e) ? h.request.rejectWith(i, [e, "aborted", n]) : h.request.rejectWith(i, [e, "error", t, n]) }, a) } }, request: { done: function (e, t) { h.debug("Successful API Response", e), "local" === v.cache && m && (h.write.cachedResponse(m, e), h.debug("Saving server response locally", h.cache)), v.onSuccess.call(E, e, T, t) }, complete: function (e, t) { var n, i; h.was.succesful() ? (i = e, n = t) : (n = e, i = h.get.responseFromXHR(n)), h.remove.loading(), v.onComplete.call(E, i, T, n) }, fail: function (e, t, n) { var o = h.get.responseFromXHR(e), r = h.get.errorFromRequest(o, t, n); return "aborted" == t ? (h.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)", t, n), v.onAbort.call(E, t, T, e), !0) : ("invalid" == t ? h.debug("JSON did not pass success test. A server-side error has most likely occurred", o) : "error" == t && e !== i && (h.debug("XHR produced a server error", t, n), 200 != e.status && n !== i && "" !== n && h.error(C.statusMessage + n, a.url), v.onError.call(E, r, T, e)), v.errorDuration && "aborted" !== t && (h.debug("Adding error state"), h.set.error(), h.should.removeError() && setTimeout(h.remove.error, v.errorDuration)), h.debug("API Request failed", r, e), void v.onFailure.call(E, o, T, e)) } } }, create: { request: function () { return e.Deferred().always(h.event.request.complete).done(h.event.request.done).fail(h.event.request.fail) }, mockedXHR: function () { var t, n, i, o = !1, a = !1, r = !1, s = v.mockResponse || v.response, l = v.mockResponseAsync || v.responseAsync; return i = e.Deferred().always(h.event.xhr.complete).done(h.event.xhr.done).fail(h.event.xhr.fail), s ? (e.isFunction(s) ? (h.debug("Using specified synchronous callback", s), n = s.call(E, f)) : (h.debug("Using settings specified response", s), n = s), i.resolveWith(E, [n, o, { responseText: n }])) : e.isFunction(l) && (t = function (e) { h.debug("Async callback returned response", e), e ? i.resolveWith(E, [e, o, { responseText: e }]) : i.rejectWith(E, [{ responseText: e }, a, r]) }, h.debug("Using specified async response callback", l), l.call(E, f, t)), i }, xhr: function () { var t; return t = e.ajax(a).always(h.event.xhr.always).done(h.event.xhr.done).fail(h.event.xhr.fail), h.verbose("Created server request", t, a), t } }, set: { error: function () { h.verbose("Adding error state to element", R), R.addClass(w.error) }, loading: function () { h.verbose("Adding loading state to element", R), R.addClass(w.loading), p = (new Date).getTime() } }, remove: { error: function () { h.verbose("Removing error state from element", R), R.removeClass(w.error) }, loading: function () { h.verbose("Removing loading state from element", R), R.removeClass(w.loading) } }, get: { responseFromXHR: function (t) { return !!e.isPlainObject(t) && (h.is.expectingJSON() ? h.decode.json(t.responseText) : t.responseText) }, errorFromRequest: function (t, n, o) { return e.isPlainObject(t) && t.error !== i ? t.error : v.error[n] !== i ? v.error[n] : o }, request: function () { return h.request || !1 }, xhr: function () { return h.xhr || !1 }, settings: function () { var t; return t = v.beforeSend.call(E, v), t && (t.success !== i && (h.debug("Legacy success callback detected", t), h.error(C.legacyParameters, t.success), t.onSuccess = t.success), t.failure !== i && (h.debug("Legacy failure callback detected", t), h.error(C.legacyParameters, t.failure), t.onFailure = t.failure), t.complete !== i && (h.debug("Legacy complete callback detected", t), h.error(C.legacyParameters, t.complete), t.onComplete = t.complete)), t === i && h.error(C.noReturnedValue), t === !1 ? t : t !== i ? e.extend(!0, {}, t) : e.extend(!0, {}, v) }, urlEncodedValue: function (e) { var n = t.decodeURIComponent(e), i = t.encodeURIComponent(e), o = n !== e; return o ? (h.debug("URL value is already encoded, avoiding double encoding", e), e) : (h.verbose("Encoding value using encodeURIComponent", e, i), i) }, defaultData: function () { var t = {}; return e.isWindow(P) || (h.is.input() ? t.value = T.val() : h.is.form() || (t.text = T.text())), t }, event: function () { return e.isWindow(P) || "now" == v.on ? (h.debug("API called without element, no events attached"), !1) : "auto" == v.on ? T.is("input") ? P.oninput !== i ? "input" : P.onpropertychange !== i ? "propertychange" : "keyup" : T.is("form") ? "submit" : "click" : v.on }, templatedURL: function (e) { if (e = e || T.data(y.action) || v.action || !1, m = T.data(y.url) || v.url || !1) return h.debug("Using specified url", m), m; if (e) { if (h.debug("Looking up url for action", e, v.api), v.api[e] === i && !h.is.mocked()) return void h.error(C.missingAction, v.action, v.api); m = v.api[e] } else h.is.form() && (m = T.attr("action") || R.attr("action") || !1, h.debug("No url or action specified, defaulting to form action", m)); return m } }, abort: function () { var e = h.get.xhr(); e && "resolved" !== e.state() && (h.debug("Cancelling API request"), e.abort()) }, reset: function () { h.remove.error(), h.remove.loading() }, setting: function (t, n) { if (h.debug("Changing setting", t, n), e.isPlainObject(t)) e.extend(!0, v, t); else { if (n === i) return v[t]; e.isPlainObject(v[t]) ? e.extend(!0, v[t], n) : v[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, h, t); else { if (n === i) return h[t]; h[t] = n } }, debug: function () { !v.silent && v.debug && (v.performance ? h.performance.log(arguments) : (h.debug = Function.prototype.bind.call(console.info, console, v.name + ":"), h.debug.apply(console, arguments))) }, verbose: function () { !v.silent && v.verbose && v.debug && (v.performance ? h.performance.log(arguments) : (h.verbose = Function.prototype.bind.call(console.info, console, v.name + ":"), h.verbose.apply(console, arguments))) }, error: function () { v.silent || (h.error = Function.prototype.bind.call(console.error, console, v.name + ":"), h.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; v.performance && (t = (new Date).getTime(), i = s || t, n = t - i, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", "Execution Time": n })), clearTimeout(h.performance.timer), h.performance.timer = setTimeout(h.performance.display, 500) }, display: function () { var t = v.name + ":", n = 0; s = !1, clearTimeout(h.performance.timer), e.each(l, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", r && (t += " '" + r + "'"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, n, a) { var r, s, l, c = F; return n = n || d, a = P || a, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (h.error(C.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(a, n) : s !== i && (l = s), e.isArray(o) ? o.push(l) : o !== i ? o = [o, l] : l !== i && (o = l), s } }, u ? (F === i && h.initialize(), h.invoke(c)) : (F !== i && F.invoke("destroy"), h.initialize()) }), o !== i ? o : this }, e.api.settings = { name: "API", namespace: "api", debug: !1, verbose: !1, performance: !0, api: {}, cache: !0, interruptRequests: !0, on: "auto", stateContext: !1, loadingDuration: 0, hideError: "auto", errorDuration: 2e3, encodeParameters: !0, action: !1, url: !1, base: "", urlData: {}, defaultData: !0, serializeForm: !1, throttle: 0, throttleFirstRequest: !0, method: "get", data: {}, dataType: "json", mockResponse: !1, mockResponseAsync: !1, response: !1, responseAsync: !1, beforeSend: function (e) { return e }, beforeXHR: function (e) { }, onRequest: function (e, t) { }, onResponse: !1, onSuccess: function (e, t) { }, onComplete: function (e, t) { }, onFailure: function (e, t) { }, onError: function (e, t) { }, onAbort: function (e, t) { }, successTest: !1, error: { beforeSend: "The before send function has aborted the request", error: "There was an error with your request", exitConditions: "API Request Aborted. Exit conditions met", JSONParse: "JSON could not be parsed during error handling", legacyParameters: "You are using legacy API success callback names", method: "The method you called is not defined", missingAction: "API action used but no url was defined", missingSerialize: "jquery-serialize-object is required to add form data to an existing data object", missingURL: "No URL specified for api event", noReturnedValue: "The beforeSend callback must return a settings object, beforeSend ignored.", noStorage: "Caching responses locally requires session storage", parseError: "There was an error parsing your request", requiredParameter: "Missing a required URL parameter: ", statusMessage: "Server gave an error: ", timeout: "Your request timed out" }, regExp: { required: /\{\$*[A-z0-9]+\}/g, optional: /\{\/\$*[A-z0-9]+\}/g }, className: { loading: "loading", error: "error" }, selector: { disabled: ".disabled", form: "form" }, metadata: { action: "action", url: "url" } } }(jQuery, window, document), function (e, t, n, i) {
  "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.state = function (t) {
    var o, a = e(this), r = a.selector || "", s = ("ontouchstart" in n.documentElement, (new Date).getTime()), l = [], c = arguments[0], u = "string" == typeof c, d = [].slice.call(arguments, 1); return a.each(function () {
      var n, f = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.state.settings, t) : e.extend({}, e.fn.state.settings), m = f.error, g = f.metadata, p = f.className, h = f.namespace, v = f.states, b = f.text, y = "." + h, x = h + "-module", C = e(this), w = this, k = C.data(x); n = {
        initialize: function () { n.verbose("Initializing module"), f.automatic && n.add.defaults(), f.context && "" !== r ? e(f.context).on(r, "mouseenter" + y, n.change.text).on(r, "mouseleave" + y, n.reset.text).on(r, "click" + y, n.toggle.state) : C.on("mouseenter" + y, n.change.text).on("mouseleave" + y, n.reset.text).on("click" + y, n.toggle.state), n.instantiate() }, instantiate: function () { n.verbose("Storing instance of module", n), k = n, C.data(x, n) }, destroy: function () { n.verbose("Destroying previous module", k), C.off(y).removeData(x) }, refresh: function () { n.verbose("Refreshing selector cache"), C = e(w) }, add: { defaults: function () { var o = t && e.isPlainObject(t.states) ? t.states : {}; e.each(f.defaults, function (t, a) { n.is[t] !== i && n.is[t]() && (n.verbose("Adding default states", t, w), e.extend(f.states, a, o)) }) } }, is: { active: function () { return C.hasClass(p.active) }, loading: function () { return C.hasClass(p.loading) }, inactive: function () { return !C.hasClass(p.active) }, state: function (e) { return p[e] !== i && C.hasClass(p[e]) }, enabled: function () { return !C.is(f.filter.active) }, disabled: function () { return C.is(f.filter.active) }, textEnabled: function () { return !C.is(f.filter.text) }, button: function () { return C.is(".button:not(a, .submit)") }, input: function () { return C.is("input") }, progress: function () { return C.is(".ui.progress") } }, allow: function (e) { n.debug("Now allowing state", e), v[e] = !0 }, disallow: function (e) { n.debug("No longer allowing", e), v[e] = !1 }, allows: function (e) { return v[e] || !1 }, enable: function () { C.removeClass(p.disabled) }, disable: function () { C.addClass(p.disabled) }, setState: function (e) { n.allows(e) && C.addClass(p[e]) }, removeState: function (e) { n.allows(e) && C.removeClass(p[e]) }, toggle: { state: function () { var t, o; if (n.allows("active") && n.is.enabled()) { if (n.refresh(), e.fn.api !== i) if (t = C.api("get request"), o = C.api("was cancelled")) n.debug("API Request cancelled by beforesend"), f.activateTest = function () { return !1 }, f.deactivateTest = function () { return !1 }; else if (t) return void n.listenTo(t); n.change.state() } } }, listenTo: function (t) {
          n.debug("API request detected, waiting for state signal", t), t && (b.loading && n.update.text(b.loading), e.when(t).then(function () {
            "resolved" == t.state() ? (n.debug("API request succeeded"),
              f.activateTest = function () { return !0 }, f.deactivateTest = function () { return !0 }) : (n.debug("API request failed"), f.activateTest = function () { return !1 }, f.deactivateTest = function () { return !1 }), n.change.state()
          }))
        }, change: { state: function () { n.debug("Determining state change direction"), n.is.inactive() ? n.activate() : n.deactivate(), f.sync && n.sync(), f.onChange.call(w) }, text: function () { n.is.textEnabled() && (n.is.disabled() ? (n.verbose("Changing text to disabled text", b.hover), n.update.text(b.disabled)) : n.is.active() ? b.hover ? (n.verbose("Changing text to hover text", b.hover), n.update.text(b.hover)) : b.deactivate && (n.verbose("Changing text to deactivating text", b.deactivate), n.update.text(b.deactivate)) : b.hover ? (n.verbose("Changing text to hover text", b.hover), n.update.text(b.hover)) : b.activate && (n.verbose("Changing text to activating text", b.activate), n.update.text(b.activate))) } }, activate: function () { f.activateTest.call(w) && (n.debug("Setting state to active"), C.addClass(p.active), n.update.text(b.active), f.onActivate.call(w)) }, deactivate: function () { f.deactivateTest.call(w) && (n.debug("Setting state to inactive"), C.removeClass(p.active), n.update.text(b.inactive), f.onDeactivate.call(w)) }, sync: function () { n.verbose("Syncing other buttons to current state"), n.is.active() ? a.not(C).state("activate") : a.not(C).state("deactivate") }, get: { text: function () { return f.selector.text ? C.find(f.selector.text).text() : C.html() }, textFor: function (e) { return b[e] || !1 } }, flash: { text: function (e, t, i) { var o = n.get.text(); n.debug("Flashing text message", e, t), e = e || f.text.flash, t = t || f.flashDuration, i = i || function () { }, n.update.text(e), setTimeout(function () { n.update.text(o), i.call(w) }, t) } }, reset: { text: function () { var e = b.active || C.data(g.storedText), t = b.inactive || C.data(g.storedText); n.is.textEnabled() && (n.is.active() && e ? (n.verbose("Resetting active text", e), n.update.text(e)) : t && (n.verbose("Resetting inactive text", e), n.update.text(t))) } }, update: { text: function (e) { var t = n.get.text(); e && e !== t ? (n.debug("Updating text", e), f.selector.text ? C.data(g.storedText, e).find(f.selector.text).text(e) : C.data(g.storedText, e).html(e)) : n.debug("Text is already set, ignoring update", e) } }, setting: function (t, o) { if (n.debug("Changing setting", t, o), e.isPlainObject(t)) e.extend(!0, f, t); else { if (o === i) return f[t]; e.isPlainObject(f[t]) ? e.extend(!0, f[t], o) : f[t] = o } }, internal: function (t, o) { if (e.isPlainObject(t)) e.extend(!0, n, t); else { if (o === i) return n[t]; n[t] = o } }, debug: function () { !f.silent && f.debug && (f.performance ? n.performance.log(arguments) : (n.debug = Function.prototype.bind.call(console.info, console, f.name + ":"), n.debug.apply(console, arguments))) }, verbose: function () { !f.silent && f.verbose && f.debug && (f.performance ? n.performance.log(arguments) : (n.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"), n.verbose.apply(console, arguments))) }, error: function () { f.silent || (n.error = Function.prototype.bind.call(console.error, console, f.name + ":"), n.error.apply(console, arguments)) }, performance: { log: function (e) { var t, i, o; f.performance && (t = (new Date).getTime(), o = s || t, i = t - o, s = t, l.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: w, "Execution Time": i })), clearTimeout(n.performance.timer), n.performance.timer = setTimeout(n.performance.display, 500) }, display: function () { var t = f.name + ":", o = 0; s = !1, clearTimeout(n.performance.timer), e.each(l, function (e, t) { o += t["Execution Time"] }), t += " " + o + "ms", r && (t += " '" + r + "'"), (console.group !== i || console.table !== i) && l.length > 0 && (console.groupCollapsed(t), console.table ? console.table(l) : e.each(l, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), l = [] } }, invoke: function (t, a, r) { var s, l, c, u = k; return a = a || d, r = w || r, "string" == typeof t && u !== i && (t = t.split(/[\. ]/), s = t.length - 1, e.each(t, function (o, a) { var r = o != s ? a + t[o + 1].charAt(0).toUpperCase() + t[o + 1].slice(1) : t; if (e.isPlainObject(u[r]) && o != s) u = u[r]; else { if (u[r] !== i) return l = u[r], !1; if (!e.isPlainObject(u[a]) || o == s) return u[a] !== i ? (l = u[a], !1) : (n.error(m.method, t), !1); u = u[a] } })), e.isFunction(l) ? c = l.apply(r, a) : l !== i && (c = l), e.isArray(o) ? o.push(c) : o !== i ? o = [o, c] : c !== i && (o = c), l }
      }, u ? (k === i && n.initialize(), n.invoke(c)) : (k !== i && k.invoke("destroy"), n.initialize())
    }), o !== i ? o : this
  }, e.fn.state.settings = { name: "State", debug: !1, verbose: !1, namespace: "state", performance: !0, onActivate: function () { }, onDeactivate: function () { }, onChange: function () { }, activateTest: function () { return !0 }, deactivateTest: function () { return !0 }, automatic: !0, sync: !1, flashDuration: 1e3, filter: { text: ".loading, .disabled", active: ".disabled" }, context: !1, error: { beforeSend: "The before send function has cancelled state change", method: "The method you called is not defined." }, metadata: { promise: "promise", storedText: "stored-text" }, className: { active: "active", disabled: "disabled", error: "error", loading: "loading", success: "success", warning: "warning" }, selector: { text: !1 }, defaults: { input: { disabled: !0, loading: !0, active: !0 }, button: { disabled: !0, loading: !0, active: !0 }, progress: { active: !0, success: !0, warning: !0, error: !0 } }, states: { active: !0, disabled: !0, error: !0, loading: !0, success: !0, warning: !0 }, text: { disabled: !1, flash: !1, hover: !1, active: !1, inactive: !1, activate: !1, deactivate: !1 } }
}(jQuery, window, document), function (e, t, n, i) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.visibility = function (o) { var a, r = e(this), s = r.selector || "", l = (new Date).getTime(), c = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1), m = r.length, g = 0; return r.each(function () { var r, p, h, v, b = e.isPlainObject(o) ? e.extend(!0, {}, e.fn.visibility.settings, o) : e.extend({}, e.fn.visibility.settings), y = b.className, x = b.namespace, C = b.error, w = b.metadata, k = "." + x, S = "module-" + x, T = e(t), A = e(this), R = e(b.context), P = (A.selector || "", A.data(S)), E = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function (e) { setTimeout(e, 0) }, F = this, O = !1; v = { initialize: function () { v.debug("Initializing", b), v.setup.cache(), v.should.trackChanges() && ("image" == b.type && v.setup.image(), "fixed" == b.type && v.setup.fixed(), b.observeChanges && v.observeChanges(), v.bind.events()), v.save.position(), v.is.visible() || v.error(C.visible, A), b.initialCheck && v.checkVisibility(), v.instantiate() }, instantiate: function () { v.debug("Storing instance", v), A.data(S, v), P = v }, destroy: function () { v.verbose("Destroying previous module"), h && h.disconnect(), p && p.disconnect(), T.off("load" + k, v.event.load).off("resize" + k, v.event.resize), R.off("scroll" + k, v.event.scroll).off("scrollchange" + k, v.event.scrollchange), "fixed" == b.type && (v.resetFixed(), v.remove.placeholder()), A.off(k).removeData(S) }, observeChanges: function () { "MutationObserver" in t && (p = new MutationObserver(v.event.contextChanged), h = new MutationObserver(v.event.changed), p.observe(n, { childList: !0, subtree: !0 }), h.observe(F, { childList: !0, subtree: !0 }), v.debug("Setting up mutation observer", h)) }, bind: { events: function () { v.verbose("Binding visibility events to scroll and resize"), b.refreshOnLoad && T.on("load" + k, v.event.load), T.on("resize" + k, v.event.resize), R.off("scroll" + k).on("scroll" + k, v.event.scroll).on("scrollchange" + k, v.event.scrollchange) } }, event: { changed: function (e) { v.verbose("DOM tree modified, updating visibility calculations"), v.timer = setTimeout(function () { v.verbose("DOM tree modified, updating sticky menu"), v.refresh() }, 100) }, contextChanged: function (t) { [].forEach.call(t, function (t) { t.removedNodes && [].forEach.call(t.removedNodes, function (t) { (t == F || e(t).find(F).length > 0) && (v.debug("Element removed from DOM, tearing down events"), v.destroy()) }) }) }, resize: function () { v.debug("Window resized"), b.refreshOnResize && E(v.refresh) }, load: function () { v.debug("Page finished loading"), E(v.refresh) }, scroll: function () { b.throttle ? (clearTimeout(v.timer), v.timer = setTimeout(function () { R.triggerHandler("scrollchange" + k, [R.scrollTop()]) }, b.throttle)) : E(function () { R.triggerHandler("scrollchange" + k, [R.scrollTop()]) }) }, scrollchange: function (e, t) { v.checkVisibility(t) } }, precache: function (t, i) { t instanceof Array || (t = [t]); for (var o = t.length, a = 0, r = [], s = n.createElement("img"), l = function () { a++, a >= t.length && e.isFunction(i) && i() }; o--;)s = n.createElement("img"), s.onload = l, s.onerror = l, s.src = t[o], r.push(s) }, enableCallbacks: function () { v.debug("Allowing callbacks to occur"), O = !1 }, disableCallbacks: function () { v.debug("Disabling all callbacks temporarily"), O = !0 }, should: { trackChanges: function () { return d ? (v.debug("One time query, no need to bind events"), !1) : (v.debug("Callbacks being attached"), !0) } }, setup: { cache: function () { v.cache = { occurred: {}, screen: {}, element: {} } }, image: function () { var e = A.data(w.src); e && (v.verbose("Lazy loading image", e), b.once = !0, b.observeChanges = !1, b.onOnScreen = function () { v.debug("Image on screen", F), v.precache(e, function () { v.set.image(e, function () { g++, g == m && b.onAllLoaded.call(this), b.onLoad.call(this) }) }) }) }, fixed: function () { v.debug("Setting up fixed"), b.once = !1, b.observeChanges = !1, b.initialCheck = !0, b.refreshOnLoad = !0, o.transition || (b.transition = !1), v.create.placeholder(), v.debug("Added placeholder", r), b.onTopPassed = function () { v.debug("Element passed, adding fixed position", A), v.show.placeholder(), v.set.fixed(), b.transition && e.fn.transition !== i && A.transition(b.transition, b.duration) }, b.onTopPassedReverse = function () { v.debug("Element returned to position, removing fixed", A), v.hide.placeholder(), v.remove.fixed() } } }, create: { placeholder: function () { v.verbose("Creating fixed position placeholder"), r = A.clone(!1).css("display", "none").addClass(y.placeholder).insertAfter(A) } }, show: { placeholder: function () { v.verbose("Showing placeholder"), r.css("display", "block").css("visibility", "hidden") } }, hide: { placeholder: function () { v.verbose("Hiding placeholder"), r.css("display", "none").css("visibility", "") } }, set: { fixed: function () { v.verbose("Setting element to fixed position"), A.addClass(y.fixed).css({ position: "fixed", top: b.offset + "px", left: "auto", zIndex: b.zIndex }), b.onFixed.call(F) }, image: function (t, n) { if (A.attr("src", t), b.transition) if (e.fn.transition !== i) { if (A.hasClass(y.visible)) return void v.debug("Transition already occurred on this image, skipping animation"); A.transition(b.transition, b.duration, n) } else A.fadeIn(b.duration, n); else A.show() } }, is: { onScreen: function () { var e = v.get.elementCalculations(); return e.onScreen }, offScreen: function () { var e = v.get.elementCalculations(); return e.offScreen }, visible: function () { return !(!v.cache || !v.cache.element) && !(0 === v.cache.element.width && 0 === v.cache.element.offset.top) } }, refresh: function () { v.debug("Refreshing constants (width/height)"), "fixed" == b.type && v.resetFixed(), v.reset(), v.save.position(), b.checkOnRefresh && v.checkVisibility(), b.onRefresh.call(F) }, resetFixed: function () { v.remove.fixed(), v.remove.occurred() }, reset: function () { v.verbose("Resetting all cached values"), e.isPlainObject(v.cache) && (v.cache.screen = {}, v.cache.element = {}) }, checkVisibility: function (e) { v.verbose("Checking visibility of element", v.cache.element), !O && v.is.visible() && (v.save.scroll(e), v.save.calculations(), v.passed(), v.passingReverse(), v.topVisibleReverse(), v.bottomVisibleReverse(), v.topPassedReverse(), v.bottomPassedReverse(), v.onScreen(), v.offScreen(), v.passing(), v.topVisible(), v.bottomVisible(), v.topPassed(), v.bottomPassed(), b.onUpdate && b.onUpdate.call(F, v.get.elementCalculations())) }, passed: function (t, n) { var o = v.get.elementCalculations(); if (t && n) b.onPassed[t] = n; else { if (t !== i) return v.get.pixelsPassed(t) > o.pixelsPassed; o.passing && e.each(b.onPassed, function (e, t) { o.bottomVisible || o.pixelsPassed > v.get.pixelsPassed(e) ? v.execute(t, e) : b.once || v.remove.occurred(t) }) } }, onScreen: function (e) { var t = v.get.elementCalculations(), n = e || b.onOnScreen, o = "onScreen"; if (e && (v.debug("Adding callback for onScreen", e), b.onOnScreen = e), t.onScreen ? v.execute(n, o) : b.once || v.remove.occurred(o), e !== i) return t.onOnScreen }, offScreen: function (e) { var t = v.get.elementCalculations(), n = e || b.onOffScreen, o = "offScreen"; if (e && (v.debug("Adding callback for offScreen", e), b.onOffScreen = e), t.offScreen ? v.execute(n, o) : b.once || v.remove.occurred(o), e !== i) return t.onOffScreen }, passing: function (e) { var t = v.get.elementCalculations(), n = e || b.onPassing, o = "passing"; if (e && (v.debug("Adding callback for passing", e), b.onPassing = e), t.passing ? v.execute(n, o) : b.once || v.remove.occurred(o), e !== i) return t.passing }, topVisible: function (e) { var t = v.get.elementCalculations(), n = e || b.onTopVisible, o = "topVisible"; if (e && (v.debug("Adding callback for top visible", e), b.onTopVisible = e), t.topVisible ? v.execute(n, o) : b.once || v.remove.occurred(o), e === i) return t.topVisible }, bottomVisible: function (e) { var t = v.get.elementCalculations(), n = e || b.onBottomVisible, o = "bottomVisible"; if (e && (v.debug("Adding callback for bottom visible", e), b.onBottomVisible = e), t.bottomVisible ? v.execute(n, o) : b.once || v.remove.occurred(o), e === i) return t.bottomVisible }, topPassed: function (e) { var t = v.get.elementCalculations(), n = e || b.onTopPassed, o = "topPassed"; if (e && (v.debug("Adding callback for top passed", e), b.onTopPassed = e), t.topPassed ? v.execute(n, o) : b.once || v.remove.occurred(o), e === i) return t.topPassed }, bottomPassed: function (e) { var t = v.get.elementCalculations(), n = e || b.onBottomPassed, o = "bottomPassed"; if (e && (v.debug("Adding callback for bottom passed", e), b.onBottomPassed = e), t.bottomPassed ? v.execute(n, o) : b.once || v.remove.occurred(o), e === i) return t.bottomPassed }, passingReverse: function (e) { var t = v.get.elementCalculations(), n = e || b.onPassingReverse, o = "passingReverse"; if (e && (v.debug("Adding callback for passing reverse", e), b.onPassingReverse = e), t.passing ? b.once || v.remove.occurred(o) : v.get.occurred("passing") && v.execute(n, o), e !== i) return !t.passing }, topVisibleReverse: function (e) { var t = v.get.elementCalculations(), n = e || b.onTopVisibleReverse, o = "topVisibleReverse"; if (e && (v.debug("Adding callback for top visible reverse", e), b.onTopVisibleReverse = e), t.topVisible ? b.once || v.remove.occurred(o) : v.get.occurred("topVisible") && v.execute(n, o), e === i) return !t.topVisible }, bottomVisibleReverse: function (e) { var t = v.get.elementCalculations(), n = e || b.onBottomVisibleReverse, o = "bottomVisibleReverse"; if (e && (v.debug("Adding callback for bottom visible reverse", e), b.onBottomVisibleReverse = e), t.bottomVisible ? b.once || v.remove.occurred(o) : v.get.occurred("bottomVisible") && v.execute(n, o), e === i) return !t.bottomVisible }, topPassedReverse: function (e) { var t = v.get.elementCalculations(), n = e || b.onTopPassedReverse, o = "topPassedReverse"; if (e && (v.debug("Adding callback for top passed reverse", e), b.onTopPassedReverse = e), t.topPassed ? b.once || v.remove.occurred(o) : v.get.occurred("topPassed") && v.execute(n, o), e === i) return !t.onTopPassed }, bottomPassedReverse: function (e) { var t = v.get.elementCalculations(), n = e || b.onBottomPassedReverse, o = "bottomPassedReverse"; if (e && (v.debug("Adding callback for bottom passed reverse", e), b.onBottomPassedReverse = e), t.bottomPassed ? b.once || v.remove.occurred(o) : v.get.occurred("bottomPassed") && v.execute(n, o), e === i) return !t.bottomPassed }, execute: function (e, t) { var n = v.get.elementCalculations(), i = v.get.screenCalculations(); e = e || !1, e && (b.continuous ? (v.debug("Callback being called continuously", t, n), e.call(F, n, i)) : v.get.occurred(t) || (v.debug("Conditions met", t, n), e.call(F, n, i))), v.save.occurred(t) }, remove: { fixed: function () { v.debug("Removing fixed position"), A.removeClass(y.fixed).css({ position: "", top: "", left: "", zIndex: "" }), b.onUnfixed.call(F) }, placeholder: function () { v.debug("Removing placeholder content"), r && r.remove() }, occurred: function (e) { if (e) { var t = v.cache.occurred; t[e] !== i && t[e] === !0 && (v.debug("Callback can now be called again", e), v.cache.occurred[e] = !1) } else v.cache.occurred = {} } }, save: { calculations: function () { v.verbose("Saving all calculations necessary to determine positioning"), v.save.direction(), v.save.screenCalculations(), v.save.elementCalculations() }, occurred: function (e) { e && (v.cache.occurred[e] !== i && v.cache.occurred[e] === !0 || (v.verbose("Saving callback occurred", e), v.cache.occurred[e] = !0)) }, scroll: function (e) { e = e + b.offset || R.scrollTop() + b.offset, v.cache.scroll = e }, direction: function () { var e, t = v.get.scroll(), n = v.get.lastScroll(); return e = t > n && n ? "down" : t < n && n ? "up" : "static", v.cache.direction = e, v.cache.direction }, elementPosition: function () { var e = v.cache.element, t = v.get.screenSize(); return v.verbose("Saving element position"), e.fits = e.height < t.height, e.offset = A.offset(), e.width = A.outerWidth(), e.height = A.outerHeight(), v.cache.element = e, e }, elementCalculations: function () { var e = v.get.screenCalculations(), t = v.get.elementPosition(); return b.includeMargin ? (t.margin = {}, t.margin.top = parseInt(A.css("margin-top"), 10), t.margin.bottom = parseInt(A.css("margin-bottom"), 10), t.top = t.offset.top - t.margin.top, t.bottom = t.offset.top + t.height + t.margin.bottom) : (t.top = t.offset.top, t.bottom = t.offset.top + t.height), t.topVisible = e.bottom >= t.top, t.topPassed = e.top >= t.top, t.bottomVisible = e.bottom >= t.bottom, t.bottomPassed = e.top >= t.bottom, t.pixelsPassed = 0, t.percentagePassed = 0, t.onScreen = t.topVisible && !t.bottomPassed, t.passing = t.topPassed && !t.bottomPassed, t.offScreen = !t.onScreen, t.passing && (t.pixelsPassed = e.top - t.top, t.percentagePassed = (e.top - t.top) / t.height), v.cache.element = t, v.verbose("Updated element calculations", t), t }, screenCalculations: function () { var e = v.get.scroll(); return v.save.direction(), v.cache.screen.top = e, v.cache.screen.bottom = e + v.cache.screen.height, v.cache.screen }, screenSize: function () { v.verbose("Saving window position"), v.cache.screen = { height: R.height() } }, position: function () { v.save.screenSize(), v.save.elementPosition() } }, get: { pixelsPassed: function (e) { var t = v.get.elementCalculations(); return e.search("%") > -1 ? t.height * (parseInt(e, 10) / 100) : parseInt(e, 10) }, occurred: function (e) { return v.cache.occurred !== i && (v.cache.occurred[e] || !1) }, direction: function () { return v.cache.direction === i && v.save.direction(), v.cache.direction }, elementPosition: function () { return v.cache.element === i && v.save.elementPosition(), v.cache.element }, elementCalculations: function () { return v.cache.element === i && v.save.elementCalculations(), v.cache.element }, screenCalculations: function () { return v.cache.screen === i && v.save.screenCalculations(), v.cache.screen }, screenSize: function () { return v.cache.screen === i && v.save.screenSize(), v.cache.screen }, scroll: function () { return v.cache.scroll === i && v.save.scroll(), v.cache.scroll }, lastScroll: function () { return v.cache.screen === i ? (v.debug("First scroll event, no last scroll could be found"), !1) : v.cache.screen.top } }, setting: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, b, t); else { if (n === i) return b[t]; b[t] = n } }, internal: function (t, n) { if (e.isPlainObject(t)) e.extend(!0, v, t); else { if (n === i) return v[t]; v[t] = n } }, debug: function () { !b.silent && b.debug && (b.performance ? v.performance.log(arguments) : (v.debug = Function.prototype.bind.call(console.info, console, b.name + ":"), v.debug.apply(console, arguments))) }, verbose: function () { !b.silent && b.verbose && b.debug && (b.performance ? v.performance.log(arguments) : (v.verbose = Function.prototype.bind.call(console.info, console, b.name + ":"), v.verbose.apply(console, arguments))) }, error: function () { b.silent || (v.error = Function.prototype.bind.call(console.error, console, b.name + ":"), v.error.apply(console, arguments)) }, performance: { log: function (e) { var t, n, i; b.performance && (t = (new Date).getTime(), i = l || t, n = t - i, l = t, c.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: F, "Execution Time": n })), clearTimeout(v.performance.timer), v.performance.timer = setTimeout(v.performance.display, 500) }, display: function () { var t = b.name + ":", n = 0; l = !1, clearTimeout(v.performance.timer), e.each(c, function (e, t) { n += t["Execution Time"] }), t += " " + n + "ms", s && (t += " '" + s + "'"), (console.group !== i || console.table !== i) && c.length > 0 && (console.groupCollapsed(t), console.table ? console.table(c) : e.each(c, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), c = [] } }, invoke: function (t, n, o) { var r, s, l, c = P; return n = n || f, o = F || o, "string" == typeof t && c !== i && (t = t.split(/[\. ]/), r = t.length - 1, e.each(t, function (n, o) { var a = n != r ? o + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t; if (e.isPlainObject(c[a]) && n != r) c = c[a]; else { if (c[a] !== i) return s = c[a], !1; if (!e.isPlainObject(c[o]) || n == r) return c[o] !== i ? (s = c[o], !1) : (v.error(C.method, t), !1); c = c[o] } })), e.isFunction(s) ? l = s.apply(o, n) : s !== i && (l = s), e.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l), s } }, d ? (P === i && v.initialize(), P.save.scroll(), P.save.calculations(), v.invoke(u)) : (P !== i && P.invoke("destroy"), v.initialize()) }), a !== i ? a : this }, e.fn.visibility.settings = { name: "Visibility", namespace: "visibility", debug: !1, verbose: !1, performance: !0, observeChanges: !0, initialCheck: !0, refreshOnLoad: !0, refreshOnResize: !0, checkOnRefresh: !0, once: !0, continuous: !1, offset: 0, includeMargin: !1, context: t, throttle: !1, type: !1, zIndex: "10", transition: "fade in", duration: 1e3, onPassed: {}, onOnScreen: !1, onOffScreen: !1, onPassing: !1, onTopVisible: !1, onBottomVisible: !1, onTopPassed: !1, onBottomPassed: !1, onPassingReverse: !1, onTopVisibleReverse: !1, onBottomVisibleReverse: !1, onTopPassedReverse: !1, onBottomPassedReverse: !1, onLoad: function () { }, onAllLoaded: function () { }, onFixed: function () { }, onUnfixed: function () { }, onUpdate: !1, onRefresh: function () { }, metadata: { src: "src" }, className: { fixed: "fixed", placeholder: "placeholder", visible: "visible" }, error: { method: "The method you called is not defined.", visible: "Element is hidden, you must call refresh after element becomes visible" } } }(jQuery, window, document);; !function (e, t, a, n) { "use strict"; t = "undefined" != typeof t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(), e.fn.calendar = function (t) { var o, r = e(this), i = r.selector || "", l = (new Date).getTime(), d = [], s = arguments[0], u = "string" == typeof s, p = [].slice.call(arguments, 1); return r.each(function () { var r, c, f = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.calendar.settings, t) : e.extend({}, e.fn.calendar.settings), h = f.className, g = f.namespace, m = f.selector, v = f.formatter, y = f.parser, D = f.metadata, b = f.error, C = "." + g, M = "module-" + g, w = e(this), x = w.find(m.input), k = w.find(m.popup), T = w.find(m.activator), F = this, H = w.data(M), O = !1, I = !1; c = { initialize: function () { c.debug("Initializing calendar for", F), r = c.get.isTouch(), c.setup.popup(), c.setup.inline(), c.setup.input(), c.setup.date(), c.create.calendar(), c.bind.events(), c.instantiate() }, instantiate: function () { c.verbose("Storing instance of calendar"), H = c, w.data(M, H) }, destroy: function () { c.verbose("Destroying previous calendar for", F), w.removeData(M), c.unbind.events() }, setup: { popup: function () { if (!f.inline && (T.length || (T = w.children().first(), T.length))) { if (e.fn.popup === n) return void c.error(b.popup); k.length || (k = e("<div/>").addClass(h.popup).prependTo(T.parent())), k.addClass(h.calendar); var t = f.onVisible, a = f.onHidden; x.length || (k.attr("tabindex", "0"), t = function () { return c.focus(), f.onVisible.apply(k, arguments) }, a = function () { return c.blur(), f.onHidden.apply(k, arguments) }); var o = function () { return c.set.focusDate(c.get.date()), c.set.mode(f.startMode), f.onShow.apply(k, arguments) }, r = f.on || (x.length ? "focus" : "click"), i = e.extend({}, f.popupOptions, { popup: k, on: r, hoverable: "hover" === r, onShow: o, onVisible: t, onHide: f.onHide, onHidden: a }); c.popup(i) } }, inline: function () { T.length && !f.inline || (k = e("<div/>").addClass(h.calendar).appendTo(w), x.length || k.attr("tabindex", "0")) }, input: function () { f.touchReadonly && x.length && r && x.prop("readonly", !0) }, date: function () { if (x.length) { var e = x.val(), t = y.date(e, f); c.set.date(t, f.formatInput, !1) } } }, create: { calendar: function () { var t, a, n, o, r, i, l, d = c.get.mode(), s = new Date, u = c.get.date(), p = c.get.focusDate(), g = p || u || f.initialDate || s; g = c.helper.dateInRange(g), p || (p = g, c.set.focusDate(p, !1, !1)); var m = "year" === d, y = "month" === d, b = "day" === d, C = "hour" === d, M = "minute" === d, w = "time" === f.type, x = Math.max(f.multiMonth, 1), T = b ? c.get.monthOffset() : 0, F = g.getMinutes(), H = g.getHours(), O = g.getDate(), I = g.getMonth() + T, N = g.getFullYear(), Y = b ? 7 : C ? 4 : 3, E = 7 === Y ? "seven" : 4 === Y ? "four" : "three", R = b || C ? 6 : 4, j = b ? x : 1, A = k; for (A.empty(), j > 1 && (l = e("<div/>").addClass(h.grid).appendTo(A)), o = 0; o < j; o++) { if (j > 1) { var S = e("<div/>").addClass(h.column).appendTo(l); A = S } var V = I + o, P = (new Date(N, V, 1).getDay() - f.firstDayOfWeek % 7 + 7) % 7; if (!f.constantHeight && b) { var q = new Date(N, V + 1, 0).getDate() + P; R = Math.ceil(q / 7) } var K = m ? 10 : y ? 1 : 0, J = b ? 1 : 0, W = C || M ? 1 : 0, z = C || M ? O : 1, L = new Date(N - K, V - J, z - W, H), B = new Date(N + K, V + J, z + W, H), U = m ? new Date(10 * Math.ceil(N / 10) - 9, 0, 0) : y ? new Date(N, 0, 0) : b ? new Date(N, V, 0) : new Date(N, V, O, (-1)), Q = m ? new Date(10 * Math.ceil(N / 10) + 1, 0, 1) : y ? new Date(N + 1, 0, 1) : b ? new Date(N, V + 1, 1) : new Date(N, V, O + 1), Z = e("<table/>").addClass(h.table).addClass(E + " column").addClass(d).appendTo(A); if (!w) { var G = e("<thead/>").appendTo(Z); r = e("<tr/>").appendTo(G), i = e("<th/>").attr("colspan", "" + Y).appendTo(r); var X = m || y ? new Date(N, 0, 1) : b ? new Date(N, V, 1) : new Date(N, V, O, H, F), $ = e("<span/>").addClass(h.link).appendTo(i); $.text(v.header(X, d, f)); var _ = y ? f.disableYear ? "day" : "year" : b ? f.disableMonth ? "year" : "month" : "day"; if ($.data(D.mode, _), 0 === o) { var ee = e("<span/>").addClass(h.prev).appendTo(i); ee.data(D.focusDate, L), ee.toggleClass(h.disabledCell, !c.helper.isDateInRange(U, d)), e("<i/>").addClass(h.prevIcon).appendTo(ee) } if (o === j - 1) { var te = e("<span/>").addClass(h.next).appendTo(i); te.data(D.focusDate, B), te.toggleClass(h.disabledCell, !c.helper.isDateInRange(Q, d)), e("<i/>").addClass(h.nextIcon).appendTo(te) } if (b) for (r = e("<tr/>").appendTo(G), t = 0; t < Y; t++)i = e("<th/>").appendTo(r), i.text(v.dayColumnHeader((t + f.firstDayOfWeek) % 7, f)) } var ae = e("<tbody/>").appendTo(Z); for (t = m ? 10 * Math.ceil(N / 10) - 9 : b ? 1 - P : 0, a = 0; a < R; a++)for (r = e("<tr/>").appendTo(ae), n = 0; n < Y; n++, t++) { var ne = m ? new Date(t, V, 1, H, F) : y ? new Date(N, t, 1, H, F) : b ? new Date(N, V, t, H, F) : C ? new Date(N, V, O, t) : new Date(N, V, O, H, 5 * t), oe = m ? t : y ? f.text.monthsShort[t] : b ? ne.getDate() : v.time(ne, f, !0); i = e("<td/>").addClass(h.cell).appendTo(r), i.text(oe), i.data(D.date, ne); var re = b && ne.getMonth() !== (V + 12) % 12, ie = re || !c.helper.isDateInRange(ne, d) || f.isDisabled(ne, d), le = c.helper.dateEqual(ne, u, d), de = c.helper.dateEqual(ne, s, d); i.toggleClass(h.adjacentCell, re), i.toggleClass(h.disabledCell, ie), i.toggleClass(h.activeCell, le && !re), C || M || i.toggleClass(h.todayCell, !re && de); var se = { mode: d, adjacent: re, disabled: ie, active: le, today: de }; v.cell(i, ne, se), c.helper.dateEqual(ne, p, d) && c.set.focusDate(ne, !1, !1) } if (f.today) { var ue = e("<tr/>").appendTo(ae), pe = e("<td/>").attr("colspan", "" + Y).addClass(h.today).appendTo(ue); pe.text(v.today(f)), pe.data(D.date, s) } c.update.focus(!1, Z) } } }, update: { focus: function (t, a) { a = a || k; var n = c.get.mode(), o = c.get.date(), i = c.get.focusDate(), l = c.get.startDate(), d = c.get.endDate(), s = (t ? i : null) || o || (r ? null : i); a.find("td").each(function () { var t = e(this), a = t.data(D.date); if (a) { var o = t.hasClass(h.disabledCell), u = t.hasClass(h.activeCell), p = t.hasClass(h.adjacentCell), f = c.helper.dateEqual(a, i, n), g = !!s && (!!l && c.helper.isDateInRange(a, n, l, s) || !!d && c.helper.isDateInRange(a, n, s, d)); t.toggleClass(h.focusCell, f && (!r || O) && !p), t.toggleClass(h.rangeCell, g && !u && !o) } }) } }, refresh: function () { c.create.calendar() }, bind: { events: function () { k.on("mousedown" + C, c.event.mousedown), k.on("touchstart" + C, c.event.mousedown), k.on("mouseup" + C, c.event.mouseup), k.on("touchend" + C, c.event.mouseup), k.on("mouseover" + C, c.event.mouseover), x.length ? (x.on("input" + C, c.event.inputChange), x.on("focus" + C, c.event.inputFocus), x.on("blur" + C, c.event.inputBlur), x.on("click" + C, c.event.inputClick), x.on("keydown" + C, c.event.keydown)) : k.on("keydown" + C, c.event.keydown) } }, unbind: { events: function () { k.off(C), x.length && x.off(C) } }, event: { mouseover: function (t) { var a = e(t.target), n = a.data(D.date), o = 1 === t.buttons; n && c.set.focusDate(n, !1, !0, o) }, mousedown: function (t) { x.length && t.preventDefault(), O = t.type.indexOf("touch") >= 0; var a = e(t.target), n = a.data(D.date); n && c.set.focusDate(n, !1, !0, !0) }, mouseup: function (t) { c.focus(), t.preventDefault(), t.stopPropagation(), O = !1; var a = e(t.target), n = a.parent(); (n.data(D.date) || n.data(D.focusDate) || n.data(D.mode)) && (a = n); var o = a.data(D.date), r = a.data(D.focusDate), i = a.data(D.mode); if (o) { var l = a.hasClass(h.today); c.selectDate(o, l) } else r ? c.set.focusDate(r) : i && c.set.mode(i) }, keydown: function (e) { if (27 !== e.keyCode && 9 !== e.keyCode || c.popup("hide"), c.popup("is visible")) if (37 === e.keyCode || 38 === e.keyCode || 39 === e.keyCode || 40 === e.keyCode) { var t = c.get.mode(), a = "day" === t ? 7 : "hour" === t ? 4 : 3, n = 37 === e.keyCode ? -1 : 38 === e.keyCode ? -a : 39 == e.keyCode ? 1 : a; n *= "minute" === t ? 5 : 1; var o = c.get.focusDate() || c.get.date() || new Date, r = o.getFullYear() + ("year" === t ? n : 0), i = o.getMonth() + ("month" === t ? n : 0), l = o.getDate() + ("day" === t ? n : 0), d = o.getHours() + ("hour" === t ? n : 0), s = o.getMinutes() + ("minute" === t ? n : 0), u = new Date(r, i, l, d, s); "time" === f.type && (u = c.helper.mergeDateTime(o, u)), c.helper.isDateInRange(u, t) && c.set.focusDate(u) } else if (13 === e.keyCode) { var t = c.get.mode(), p = c.get.focusDate(); p && !f.isDisabled(p, t) && c.selectDate(p), e.preventDefault(), e.stopPropagation() } 38 !== e.keyCode && 40 !== e.keyCode || (e.preventDefault(), c.popup("show")) }, inputChange: function () { var e = x.val(), t = y.date(e, f); c.set.date(t, !1) }, inputFocus: function () { k.addClass(h.active) }, inputBlur: function () { if (k.removeClass(h.active), f.formatInput) { var e = c.get.date(), t = v.datetime(e, f); x.val(t) } }, inputClick: function () { c.popup("show") } }, get: { date: function () { return w.data(D.date) || null }, focusDate: function () { return w.data(D.focusDate) || null }, startDate: function () { var e = c.get.calendarModule(f.startCalendar); return (e ? e.get.date() : w.data(D.startDate)) || null }, endDate: function () { var e = c.get.calendarModule(f.endCalendar); return (e ? e.get.date() : w.data(D.endDate)) || null }, monthOffset: function () { return w.data(D.monthOffset) || 0 }, mode: function () { var t = w.data(D.mode) || f.startMode, a = c.get.validModes(); return e.inArray(t, a) >= 0 ? t : "time" === f.type ? "hour" : "month" === f.type ? "month" : "year" === f.type ? "year" : "day" }, validModes: function () { var e = []; return "time" !== f.type && (f.disableYear && "year" !== f.type || e.push("year"), (!f.disableMonth && "year" !== f.type || "month" === f.type) && e.push("month"), f.type.indexOf("date") >= 0 && e.push("day")), f.type.indexOf("time") >= 0 && (e.push("hour"), f.disableMinute || e.push("minute")), e }, isTouch: function () { try { return a.createEvent("TouchEvent"), !0 } catch (e) { return !1 } }, calendarModule: function (t) { return t ? (t instanceof e || (t = w.parent().children(t).first()), t.data(M)) : null } }, set: { date: function (e, t, a) { t = t !== !1, a = a !== !1, e = c.helper.sanitiseDate(e), e = c.helper.dateInRange(e); var o = c.get.mode(), r = v.datetime(e, f); if (a && f.onChange.call(F, e, r, o) === !1) return !1; if (c.set.focusDate(e), f.isDisabled(e, o)) return !1; var i = c.get.endDate(); i && e && e > i && c.set.endDate(n), c.set.dataKeyValue(D.date, e), t && x.length && x.val(r) }, startDate: function (e, t) { e = c.helper.sanitiseDate(e); var a = c.get.calendarModule(f.startCalendar); a && a.set.date(e), c.set.dataKeyValue(D.startDate, e, t) }, endDate: function (e, t) { e = c.helper.sanitiseDate(e); var a = c.get.calendarModule(f.endCalendar); a && a.set.date(e), c.set.dataKeyValue(D.endDate, e, t) }, focusDate: function (e, t, a, n) { e = c.helper.sanitiseDate(e), e = c.helper.dateInRange(e); var o = "day" === c.get.mode(), r = c.get.focusDate(); if (o && e && r) { var i = e.getFullYear() - r.getFullYear(), l = 12 * i + e.getMonth() - r.getMonth(); if (l) { var d = c.get.monthOffset() - l; c.set.monthOffset(d, !1) } } var s = c.set.dataKeyValue(D.focusDate, e, t); a = a !== !1 && s && t === !1 || I != n, I = n, a && c.update.focus(n) }, monthOffset: function (e, t) { var a = Math.max(f.multiMonth, 1); e = Math.max(1 - a, Math.min(0, e)), c.set.dataKeyValue(D.monthOffset, e, t) }, mode: function (e, t) { c.set.dataKeyValue(D.mode, e, t) }, dataKeyValue: function (e, t, a) { var n = w.data(e), o = n === t || n <= t && n >= t; return t ? w.data(e, t) : w.removeData(e), a = a !== !1 && !o, a && c.create.calendar(), !o } }, selectDate: function (e, t) { var a = c.get.mode(), n = t || "minute" === a || f.disableMinute && "hour" === a || "date" === f.type && "day" === a || "month" === f.type && "month" === a || "year" === f.type && "year" === a; if (n) { var o = c.set.date(e) === !1; if (!o && f.closable) { c.popup("hide"); var r = c.get.calendarModule(f.endCalendar); r && (r.popup("show"), r.focus()) } } else { var i = "year" === a ? f.disableMonth ? "day" : "month" : "month" === a ? "day" : "day" === a ? "hour" : "minute"; c.set.mode(i), "hour" === a || "day" === a && c.get.date() ? c.set.date(e) : c.set.focusDate(e) } }, changeDate: function (e) { c.set.date(e) }, clear: function () { c.set.date(n) }, popup: function () { return T.popup.apply(T, arguments) }, focus: function () { x.length ? x.focus() : k.focus() }, blur: function () { x.length ? x.blur() : k.blur() }, helper: { sanitiseDate: function (e) { return e ? (e instanceof Date || (e = y.date("" + e, f)), isNaN(e.getTime()) ? n : e) : n }, dateDiff: function (e, t, a) { a = a || "day"; var n = "time" === f.type, o = "year" === a, r = o || "month" === a, i = "minute" === a, l = i || "hour" === a; return e = new Date(n ? 2e3 : e.getFullYear(), n ? 0 : o ? 0 : e.getMonth(), n ? 1 : r ? 1 : e.getDate(), l ? e.getHours() : 0, i ? 5 * Math.floor(e.getMinutes() / 5) : 0), t = new Date(n ? 2e3 : t.getFullYear(), n ? 0 : o ? 0 : t.getMonth(), n ? 1 : r ? 1 : t.getDate(), l ? t.getHours() : 0, i ? 5 * Math.floor(t.getMinutes() / 5) : 0), t.getTime() - e.getTime() }, dateEqual: function (e, t, a) { return !!e && !!t && 0 === c.helper.dateDiff(e, t, a) }, isDateInRange: function (e, t, a, n) { if (!a && !n) { var o = c.get.startDate(); a = o && f.minDate ? new Date(Math.max(o, f.minDate)) : o || f.minDate, n = f.maxDate } return a = a && new Date(a.getFullYear(), a.getMonth(), a.getDate(), a.getHours(), 5 * Math.ceil(a.getMinutes() / 5)), !(!e || a && c.helper.dateDiff(e, a, t) > 0 || n && c.helper.dateDiff(n, e, t) > 0) }, dateInRange: function (e, t, a) { if (!t && !a) { var n = c.get.startDate(); t = n && f.minDate ? new Date(Math.max(n, f.minDate)) : n || f.minDate, a = f.maxDate } t = t && new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), 5 * Math.ceil(t.getMinutes() / 5)); var o = "time" === f.type; return e ? t && c.helper.dateDiff(e, t, "minute") > 0 ? o ? c.helper.mergeDateTime(e, t) : t : a && c.helper.dateDiff(a, e, "minute") > 0 ? o ? c.helper.mergeDateTime(e, a) : a : e : e }, mergeDateTime: function (e, t) { return e && t ? new Date(e.getFullYear(), e.getMonth(), e.getDate(), t.getHours(), t.getMinutes()) : t } }, setting: function (t, a) { if (c.debug("Changing setting", t, a), e.isPlainObject(t)) e.extend(!0, f, t); else { if (a === n) return f[t]; e.isPlainObject(f[t]) ? e.extend(!0, f[t], a) : f[t] = a } }, internal: function (t, a) { return c.debug("Changing internal", t, a), a === n ? c[t] : void (e.isPlainObject(t) ? e.extend(!0, c, t) : c[t] = a) }, debug: function () { !f.silent && f.debug && (f.performance ? c.performance.log(arguments) : (c.debug = Function.prototype.bind.call(console.info, console, f.name + ":"), c.debug.apply(console, arguments))) }, verbose: function () { !f.silent && f.verbose && f.debug && (f.performance ? c.performance.log(arguments) : (c.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"), c.verbose.apply(console, arguments))) }, error: function () { f.silent || (c.error = Function.prototype.bind.call(console.error, console, f.name + ":"), c.error.apply(console, arguments)) }, performance: { log: function (e) { var t, a, n; f.performance && (t = (new Date).getTime(), n = l || t, a = t - n, l = t, d.push({ Name: e[0], Arguments: [].slice.call(e, 1) || "", Element: F, "Execution Time": a })), clearTimeout(c.performance.timer), c.performance.timer = setTimeout(c.performance.display, 500) }, display: function () { var t = f.name + ":", a = 0; l = !1, clearTimeout(c.performance.timer), e.each(d, function (e, t) { a += t["Execution Time"] }), t += " " + a + "ms", i && (t += " '" + i + "'"), (console.group !== n || console.table !== n) && d.length > 0 && (console.groupCollapsed(t), console.table ? console.table(d) : e.each(d, function (e, t) { console.log(t.Name + ": " + t["Execution Time"] + "ms") }), console.groupEnd()), d = [] } }, invoke: function (t, a, r) { var i, l, d, s = H; return a = a || p, r = F || r, "string" == typeof t && s !== n && (t = t.split(/[\. ]/), i = t.length - 1, e.each(t, function (a, o) { var r = a != i ? o + t[a + 1].charAt(0).toUpperCase() + t[a + 1].slice(1) : t; if (e.isPlainObject(s[r]) && a != i) s = s[r]; else { if (s[r] !== n) return l = s[r], !1; if (!e.isPlainObject(s[o]) || a == i) return s[o] !== n ? (l = s[o], !1) : (c.error(b.method, t), !1); s = s[o] } })), e.isFunction(l) ? d = l.apply(r, a) : l !== n && (d = l), e.isArray(o) ? o.push(d) : o !== n ? o = [o, d] : d !== n && (o = d), l } }, u ? (H === n && c.initialize(), c.invoke(s)) : (H !== n && H.invoke("destroy"), c.initialize()) }), o !== n ? o : this }, e.fn.calendar.settings = { name: "Calendar", namespace: "calendar", silent: !1, debug: !1, verbose: !1, performance: !1, type: "datetime", firstDayOfWeek: 0, constantHeight: !0, today: !1, closable: !0, monthFirst: !0, touchReadonly: !0, inline: !1, on: null, initialDate: null, startMode: !1, minDate: null, maxDate: null, ampm: !0, disableYear: !1, disableMonth: !1, disableMinute: !1, formatInput: !0, startCalendar: null, endCalendar: null, multiMonth: 1, popupOptions: { position: "bottom left", lastResort: "bottom left", prefer: "opposite", hideOnScroll: !1 }, text: { days: ["S", "M", "T", "W", "T", "F", "S"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], today: "Today", now: "Now", am: "AM", pm: "PM" }, formatter: { header: function (e, t, a) { return "year" === t ? a.formatter.yearHeader(e, a) : "month" === t ? a.formatter.monthHeader(e, a) : "day" === t ? a.formatter.dayHeader(e, a) : "hour" === t ? a.formatter.hourHeader(e, a) : a.formatter.minuteHeader(e, a) }, yearHeader: function (e, t) { var a = 10 * Math.ceil(e.getFullYear() / 10); return a - 9 + " - " + (a + 2) }, monthHeader: function (e, t) { return e.getFullYear() }, dayHeader: function (e, t) { var a = t.text.months[e.getMonth()], n = e.getFullYear(); return a + " " + n }, hourHeader: function (e, t) { return t.formatter.date(e, t) }, minuteHeader: function (e, t) { return t.formatter.date(e, t) }, dayColumnHeader: function (e, t) { return t.text.days[e] }, datetime: function (e, t) { if (!e) return ""; var a = "time" === t.type ? "" : t.formatter.date(e, t), n = t.type.indexOf("time") < 0 ? "" : t.formatter.time(e, t, !1), o = "datetime" === t.type ? " " : ""; return a + o + n }, date: function (e, t) { if (!e) return ""; var a = e.getDate(), n = t.text.months[e.getMonth()], o = e.getFullYear(); return "year" === t.type ? o : "month" === t.type ? n + " " + o : (t.monthFirst ? n + " " + a : a + " " + n) + ", " + o }, time: function (e, t, a) { if (!e) return ""; var n = e.getHours(), o = e.getMinutes(), r = ""; return t.ampm && (r = " " + (n < 12 ? t.text.am : t.text.pm), n = 0 === n ? 12 : n > 12 ? n - 12 : n), n + ":" + (o < 10 ? "0" : "") + o + r }, today: function (e) { return "date" === e.type ? e.text.today : e.text.now }, cell: function (e, t, a) { } }, parser: { date: function (t, a) { if (!t) return null; if (t = ("" + t).trim().toLowerCase(), 0 === t.length) return null; var o, r, i, l = -1, d = -1, s = -1, u = -1, p = -1, c = n, f = "time" === a.type, h = a.type.indexOf("time") < 0, g = t.split(a.regExp.dateWords), m = t.split(a.regExp.dateNumbers); if (!h) for (c = e.inArray(a.text.am.toLowerCase(), g) >= 0 || !(e.inArray(a.text.pm.toLowerCase(), g) >= 0) && n, o = 0; o < m.length; o++) { var v = m[o]; if (v.indexOf(":") >= 0) { if (d < 0 || l < 0) { var y = v.split(":"); for (i = 0; i < Math.min(2, y.length); i++)r = parseInt(y[i]), isNaN(r) && (r = 0), 0 === i ? d = r % 24 : l = r % 60 } m.splice(o, 1) } } if (!f) { for (o = 0; o < g.length; o++) { var D = g[o]; if (!(D.length <= 0)) { for (D = D.substring(0, Math.min(D.length, 3)), r = 0; r < a.text.months.length; r++) { var b = a.text.months[r]; if (b = b.substring(0, Math.min(D.length, Math.min(b.length, 3))).toLowerCase(), b === D) { u = r + 1; break } } if (u >= 0) break } } for (o = 0; o < m.length; o++)if (r = parseInt(m[o]), !isNaN(r) && r > 59) { p = r, m.splice(o, 1); break } if (u < 0) for (o = 0; o < m.length; o++)if (i = o > 1 || a.monthFirst ? o : 1 === o ? 0 : 1, r = parseInt(m[i]), !isNaN(r) && 1 <= r && r <= 12) { u = r, m.splice(i, 1); break } for (o = 0; o < m.length; o++)if (r = parseInt(m[o]), !isNaN(r) && 1 <= r && r <= 31) { s = r, m.splice(o, 1); break } if (p < 0) for (o = m.length - 1; o >= 0; o--)if (r = parseInt(m[o]), !isNaN(r)) { r < 99 && (r += 2e3), p = r, m.splice(o, 1); break } } if (!h) { if (d < 0) for (o = 0; o < m.length; o++)if (r = parseInt(m[o]), !isNaN(r) && 0 <= r && r <= 23) { d = r, m.splice(o, 1); break } if (l < 0) for (o = 0; o < m.length; o++)if (r = parseInt(m[o]), !isNaN(r) && 0 <= r && r <= 59) { l = r, m.splice(o, 1); break } } if (l < 0 && d < 0 && s < 0 && u < 0 && p < 0) return null; l < 0 && (l = 0), d < 0 && (d = 0), s < 0 && (s = 1), u < 0 && (u = 1), p < 0 && (p = (new Date).getFullYear()), c !== n && (c ? 12 === d && (d = 0) : d < 12 && (d += 12)); var C = new Date(p, u - 1, s, d, l); return C.getMonth() === u - 1 && C.getFullYear() === p || (C = new Date(p, u, 0, d, l)), isNaN(C.getTime()) ? null : C } }, onChange: function (e, t, a) { return !0 }, onShow: function () { }, onVisible: function () { }, onHide: function () { }, onHidden: function () { }, isDisabled: function (e, t) { return !1 }, selector: { popup: ".ui.popup", input: "input", activator: "input" }, regExp: { dateWords: /[^A-Za-z\u00C0-\u024F]+/g, dateNumbers: /[^\d:]+/g }, error: { popup: "UI Popup, a required component is not included in this page", method: "The method you called is not defined." }, className: { calendar: "calendar", active: "active", popup: "ui popup", grid: "ui equal width grid", column: "column", table: "ui celled center aligned unstackable table", prev: "prev link", next: "next link", prevIcon: "chevron left icon", nextIcon: "chevron right icon", link: "link", cell: "link", disabledCell: "disabled", adjacentCell: "adjacent", activeCell: "active", rangeCell: "range", focusCell: "focus", todayCell: "today", today: "today link" }, metadata: { date: "date", focusDate: "focusDate", startDate: "startDate", endDate: "endDate", mode: "mode", monthOffset: "monthOffset" } } }(jQuery, window, document);;/*!
Waypoints - 4.0.0
Copyright  2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function () { "use strict"; function t(o) { if (!o) throw new Error("No options passed to Waypoint constructor"); if (!o.element) throw new Error("No element option passed to Waypoint constructor"); if (!o.handler) throw new Error("No handler option passed to Waypoint constructor"); this.key = "waypoint-" + e, this.options = t.Adapter.extend({}, t.defaults, o), this.element = this.options.element, this.adapter = new t.Adapter(this.element), this.callback = o.handler, this.axis = this.options.horizontal ? "horizontal" : "vertical", this.enabled = this.options.enabled, this.triggerPoint = null, this.group = t.Group.findOrCreate({ name: this.options.group, axis: this.axis }), this.context = t.Context.findOrCreateByElement(this.options.context), t.offsetAliases[this.options.offset] && (this.options.offset = t.offsetAliases[this.options.offset]), this.group.add(this), this.context.add(this), i[this.key] = this, e += 1 } var e = 0, i = {}; t.prototype.queueTrigger = function (t) { this.group.queueTrigger(this, t) }, t.prototype.trigger = function (t) { this.enabled && this.callback && this.callback.apply(this, t) }, t.prototype.destroy = function () { this.context.remove(this), this.group.remove(this), delete i[this.key] }, t.prototype.disable = function () { return this.enabled = !1, this }, t.prototype.enable = function () { return this.context.refresh(), this.enabled = !0, this }, t.prototype.next = function () { return this.group.next(this) }, t.prototype.previous = function () { return this.group.previous(this) }, t.invokeAll = function (t) { var e = []; for (var o in i) e.push(i[o]); for (var n = 0, r = e.length; r > n; n++)e[n][t]() }, t.destroyAll = function () { t.invokeAll("destroy") }, t.disableAll = function () { t.invokeAll("disable") }, t.enableAll = function () { t.invokeAll("enable") }, t.refreshAll = function () { t.Context.refreshAll() }, t.viewportHeight = function () { return window.innerHeight || document.documentElement.clientHeight }, t.viewportWidth = function () { return document.documentElement.clientWidth }, t.adapters = [], t.defaults = { context: window, continuous: !0, enabled: !0, group: "default", horizontal: !1, offset: 0 }, t.offsetAliases = { "bottom-in-view": function () { return this.context.innerHeight() - this.adapter.outerHeight() }, "right-in-view": function () { return this.context.innerWidth() - this.adapter.outerWidth() } }, window.Waypoint = t }(), function () { "use strict"; function t(t) { window.setTimeout(t, 1e3 / 60) } function e(t) { this.element = t, this.Adapter = n.Adapter, this.adapter = new this.Adapter(t), this.key = "waypoint-context-" + i, this.didScroll = !1, this.didResize = !1, this.oldScroll = { x: this.adapter.scrollLeft(), y: this.adapter.scrollTop() }, this.waypoints = { vertical: {}, horizontal: {} }, t.waypointContextKey = this.key, o[t.waypointContextKey] = this, i += 1, this.createThrottledScrollHandler(), this.createThrottledResizeHandler() } var i = 0, o = {}, n = window.Waypoint, r = window.onload; e.prototype.add = function (t) { var e = t.options.horizontal ? "horizontal" : "vertical"; this.waypoints[e][t.key] = t, this.refresh() }, e.prototype.checkEmpty = function () { var t = this.Adapter.isEmptyObject(this.waypoints.horizontal), e = this.Adapter.isEmptyObject(this.waypoints.vertical); t && e && (this.adapter.off(".waypoints"), delete o[this.key]) }, e.prototype.createThrottledResizeHandler = function () { function t() { e.handleResize(), e.didResize = !1 } var e = this; this.adapter.on("resize.waypoints", function () { e.didResize || (e.didResize = !0, n.requestAnimationFrame(t)) }) }, e.prototype.createThrottledScrollHandler = function () { function t() { e.handleScroll(), e.didScroll = !1 } var e = this; this.adapter.on("scroll.waypoints", function () { (!e.didScroll || n.isTouch) && (e.didScroll = !0, n.requestAnimationFrame(t)) }) }, e.prototype.handleResize = function () { n.Context.refreshAll() }, e.prototype.handleScroll = function () { var t = {}, e = { horizontal: { newScroll: this.adapter.scrollLeft(), oldScroll: this.oldScroll.x, forward: "right", backward: "left" }, vertical: { newScroll: this.adapter.scrollTop(), oldScroll: this.oldScroll.y, forward: "down", backward: "up" } }; for (var i in e) { var o = e[i], n = o.newScroll > o.oldScroll, r = n ? o.forward : o.backward; for (var s in this.waypoints[i]) { var a = this.waypoints[i][s], l = o.oldScroll < a.triggerPoint, h = o.newScroll >= a.triggerPoint, p = l && h, u = !l && !h; (p || u) && (a.queueTrigger(r), t[a.group.id] = a.group) } } for (var c in t) t[c].flushTriggers(); this.oldScroll = { x: e.horizontal.newScroll, y: e.vertical.newScroll } }, e.prototype.innerHeight = function () { return this.element == this.element.window ? n.viewportHeight() : this.adapter.innerHeight() }, e.prototype.remove = function (t) { delete this.waypoints[t.axis][t.key], this.checkEmpty() }, e.prototype.innerWidth = function () { return this.element == this.element.window ? n.viewportWidth() : this.adapter.innerWidth() }, e.prototype.destroy = function () { var t = []; for (var e in this.waypoints) for (var i in this.waypoints[e]) t.push(this.waypoints[e][i]); for (var o = 0, n = t.length; n > o; o++)t[o].destroy() }, e.prototype.refresh = function () { var t, e = this.element == this.element.window, i = e ? void 0 : this.adapter.offset(), o = {}; this.handleScroll(), t = { horizontal: { contextOffset: e ? 0 : i.left, contextScroll: e ? 0 : this.oldScroll.x, contextDimension: this.innerWidth(), oldScroll: this.oldScroll.x, forward: "right", backward: "left", offsetProp: "left" }, vertical: { contextOffset: e ? 0 : i.top, contextScroll: e ? 0 : this.oldScroll.y, contextDimension: this.innerHeight(), oldScroll: this.oldScroll.y, forward: "down", backward: "up", offsetProp: "top" } }; for (var r in t) { var s = t[r]; for (var a in this.waypoints[r]) { var l, h, p, u, c, d = this.waypoints[r][a], f = d.options.offset, w = d.triggerPoint, y = 0, g = null == w; d.element !== d.element.window && (y = d.adapter.offset()[s.offsetProp]), "function" == typeof f ? f = f.apply(d) : "string" == typeof f && (f = parseFloat(f), d.options.offset.indexOf("%") > -1 && (f = Math.ceil(s.contextDimension * f / 100))), l = s.contextScroll - s.contextOffset, d.triggerPoint = y + l - f, h = w < s.oldScroll, p = d.triggerPoint >= s.oldScroll, u = h && p, c = !h && !p, !g && u ? (d.queueTrigger(s.backward), o[d.group.id] = d.group) : !g && c ? (d.queueTrigger(s.forward), o[d.group.id] = d.group) : g && s.oldScroll >= d.triggerPoint && (d.queueTrigger(s.forward), o[d.group.id] = d.group) } } return n.requestAnimationFrame(function () { for (var t in o) o[t].flushTriggers() }), this }, e.findOrCreateByElement = function (t) { return e.findByElement(t) || new e(t) }, e.refreshAll = function () { for (var t in o) o[t].refresh() }, e.findByElement = function (t) { return o[t.waypointContextKey] }, window.onload = function () { r && r(), e.refreshAll() }, n.requestAnimationFrame = function (e) { var i = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || t; i.call(window, e) }, n.Context = e }(), function () { "use strict"; function t(t, e) { return t.triggerPoint - e.triggerPoint } function e(t, e) { return e.triggerPoint - t.triggerPoint } function i(t) { this.name = t.name, this.axis = t.axis, this.id = this.name + "-" + this.axis, this.waypoints = [], this.clearTriggerQueues(), o[this.axis][this.name] = this } var o = { vertical: {}, horizontal: {} }, n = window.Waypoint; i.prototype.add = function (t) { this.waypoints.push(t) }, i.prototype.clearTriggerQueues = function () { this.triggerQueues = { up: [], down: [], left: [], right: [] } }, i.prototype.flushTriggers = function () { for (var i in this.triggerQueues) { var o = this.triggerQueues[i], n = "up" === i || "left" === i; o.sort(n ? e : t); for (var r = 0, s = o.length; s > r; r += 1) { var a = o[r]; (a.options.continuous || r === o.length - 1) && a.trigger([i]) } } this.clearTriggerQueues() }, i.prototype.next = function (e) { this.waypoints.sort(t); var i = n.Adapter.inArray(e, this.waypoints), o = i === this.waypoints.length - 1; return o ? null : this.waypoints[i + 1] }, i.prototype.previous = function (e) { this.waypoints.sort(t); var i = n.Adapter.inArray(e, this.waypoints); return i ? this.waypoints[i - 1] : null }, i.prototype.queueTrigger = function (t, e) { this.triggerQueues[e].push(t) }, i.prototype.remove = function (t) { var e = n.Adapter.inArray(t, this.waypoints); e > -1 && this.waypoints.splice(e, 1) }, i.prototype.first = function () { return this.waypoints[0] }, i.prototype.last = function () { return this.waypoints[this.waypoints.length - 1] }, i.findOrCreate = function (t) { return o[t.axis][t.name] || new i(t) }, n.Group = i }(), function () { "use strict"; function t(t) { this.$element = e(t) } var e = window.jQuery, i = window.Waypoint; e.each(["innerHeight", "innerWidth", "off", "offset", "on", "outerHeight", "outerWidth", "scrollLeft", "scrollTop"], function (e, i) { t.prototype[i] = function () { var t = Array.prototype.slice.call(arguments); return this.$element[i].apply(this.$element, t) } }), e.each(["extend", "inArray", "isEmptyObject"], function (i, o) { t[o] = e[o] }), i.adapters.push({ name: "jquery", Adapter: t }), i.Adapter = t }(), function () { "use strict"; function t(t) { return function () { var i = [], o = arguments[0]; return t.isFunction(arguments[0]) && (o = t.extend({}, arguments[1]), o.handler = arguments[0]), this.each(function () { var n = t.extend({}, o, { element: this }); "string" == typeof n.context && (n.context = t(this).closest(n.context)[0]), i.push(new e(n)) }), i } } var e = window.Waypoint; window.jQuery && (window.jQuery.fn.waypoint = t(window.jQuery)), window.Zepto && (window.Zepto.fn.waypoint = t(window.Zepto)) }();;/*!
Waypoints Sticky Element Shortcut - 4.0.0
Copyright  2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function () { "use strict"; function t(s) { this.options = e.extend({}, i.defaults, t.defaults, s), this.element = this.options.element, this.$element = e(this.element), this.createWrapper(), this.createWaypoint() } var e = window.jQuery, i = window.Waypoint; t.prototype.createWaypoint = function () { var t = this.options.handler; this.waypoint = new i(e.extend({}, this.options, { element: this.wrapper, handler: e.proxy(function (e) { var i = this.options.direction.indexOf(e) > -1, s = i ? this.$element.outerHeight(!0) : ""; this.$wrapper.height(s), this.$element.toggleClass(this.options.stuckClass, i), t && t.call(this, e) }, this) })) }, t.prototype.createWrapper = function () { this.options.wrapper && this.$element.wrap(this.options.wrapper), this.$wrapper = this.$element.parent(), this.wrapper = this.$wrapper[0] }, t.prototype.destroy = function () { this.$element.parent()[0] === this.wrapper && (this.waypoint.destroy(), this.$element.removeClass(this.options.stuckClass), this.options.wrapper && this.$element.unwrap()) }, t.defaults = { wrapper: '<div class="sticky-wrapper" />', stuckClass: "stuck", direction: "down right" }, i.Sticky = t }();; (function (e) { typeof define == "function" && define.amd ? define(["jquery"], e) : typeof module == "object" && module.exports ? module.exports = function (t, n) { return n === undefined && (typeof window != "undefined" ? n = require("jquery") : n = require("jquery")(t)), e(n), n } : e(jQuery) })(function (e) { function A(t, n, i) { typeof i == "string" && (i = { className: i }), this.options = E(w, e.isPlainObject(i) ? i : {}), this.loadHTML(), this.wrapper = e(h.html), this.options.clickToHide && this.wrapper.addClass(r + "-hidable"), this.wrapper.data(r, this), this.arrow = this.wrapper.find("." + r + "-arrow"), this.container = this.wrapper.find("." + r + "-container"), this.container.append(this.userContainer), t && t.length && (this.elementType = t.attr("type"), this.originalElement = t, this.elem = N(t), this.elem.data(r, this), this.elem.before(this.wrapper)), this.container.hide(), this.run(n) } var t = [].indexOf || function (e) { for (var t = 0, n = this.length; t < n; t++)if (t in this && this[t] === e) return t; return -1 }, n = "notify", r = n + "js", i = n + "!blank", s = { t: "top", m: "middle", b: "bottom", l: "left", c: "center", r: "right" }, o = ["l", "c", "r"], u = ["t", "m", "b"], a = ["t", "b", "l", "r"], f = { t: "b", m: null, b: "t", l: "r", c: null, r: "l" }, l = function (t) { var n; return n = [], e.each(t.split(/\W+/), function (e, t) { var r; r = t.toLowerCase().charAt(0); if (s[r]) return n.push(r) }), n }, c = {}, h = { name: "core", html: '<div class="' + r + '-wrapper">\n	<div class="' + r + '-arrow"></div>\n	<div class="' + r + '-container"></div>\n</div>', css: "." + r + "-corner {\n	position: fixed;\n	margin: 5px;\n	z-index: 1050;\n}\n\n." + r + "-corner ." + r + "-wrapper,\n." + r + "-corner ." + r + "-container {\n	position: relative;\n	display: block;\n	height: inherit;\n	width: inherit;\n	margin: 3px;\n}\n\n." + r + "-wrapper {\n	z-index: 1;\n	position: absolute;\n	display: inline-block;\n	height: 0;\n	width: 0;\n}\n\n." + r + "-container {\n	display: none;\n	z-index: 1;\n	position: absolute;\n}\n\n." + r + "-hidable {\n	cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n	position: relative;\n}\n\n." + r + "-arrow {\n	position: absolute;\n	z-index: 2;\n	width: 0;\n	height: 0;\n}" }, p = { "border-radius": ["-webkit-", "-moz-"] }, d = function (e) { return c[e] }, v = function (e) { if (!e) throw "Missing Style name"; c[e] && delete c[e] }, m = function (t, i) { if (!t) throw "Missing Style name"; if (!i) throw "Missing Style definition"; if (!i.html) throw "Missing Style HTML"; var s = c[t]; s && s.cssElem && (window.console && console.warn(n + ": overwriting style '" + t + "'"), c[t].cssElem.remove()), i.name = t, c[t] = i; var o = ""; i.classes && e.each(i.classes, function (t, n) { return o += "." + r + "-" + i.name + "-" + t + " {\n", e.each(n, function (t, n) { return p[t] && e.each(p[t], function (e, r) { return o += "	" + r + t + ": " + n + ";\n" }), o += "	" + t + ": " + n + ";\n" }), o += "}\n" }), i.css && (o += "/* styles for " + i.name + " */\n" + i.css), o && (i.cssElem = g(o), i.cssElem.attr("id", "notify-" + i.name)); var u = {}, a = e(i.html); y("html", a, u), y("text", a, u), i.fields = u }, g = function (t) { var n, r, i; r = x("style"), r.attr("type", "text/css"), e("head").append(r); try { r.html(t) } catch (s) { r[0].styleSheet.cssText = t } return r }, y = function (t, n, r) { var s; return t !== "html" && (t = "text"), s = "data-notify-" + t, b(n, "[" + s + "]").each(function () { var n; n = e(this).attr(s), n || (n = i), r[n] = t }) }, b = function (e, t) { return e.is(t) ? e : e.find(t) }, w = { clickToHide: !0, autoHide: !0, autoHideDelay: 5e3, arrowShow: !0, arrowSize: 5, breakNewLines: !0, elementPosition: "bottom", globalPosition: "top right", style: "bootstrap", className: "error", showAnimation: "slideDown", showDuration: 400, hideAnimation: "slideUp", hideDuration: 200, gap: 5 }, E = function (t, n) { var r; return r = function () { }, r.prototype = t, e.extend(!0, new r, n) }, S = function (t) { return e.extend(w, t) }, x = function (t) { return e("<" + t + "></" + t + ">") }, T = {}, N = function (t) { var n; return t.is("[type=radio]") && (n = t.parents("form:first").find("[type=radio]").filter(function (n, r) { return e(r).attr("name") === t.attr("name") }), t = n.first()), t }, C = function (e, t, n) { var r, i; if (typeof n == "string") n = parseInt(n, 10); else if (typeof n != "number") return; if (isNaN(n)) return; return r = s[f[t.charAt(0)]], i = t, e[r] !== undefined && (t = s[r.charAt(0)], n = -n), e[t] === undefined ? e[t] = n : e[t] += n, null }, k = function (e, t, n) { if (e === "l" || e === "t") return 0; if (e === "c" || e === "m") return n / 2 - t / 2; if (e === "r" || e === "b") return n - t; throw "Invalid alignment" }, L = function (e) { return L.e = L.e || x("div"), L.e.text(e).html() }; A.prototype.loadHTML = function () { var t; t = this.getStyle(), this.userContainer = e(t.html), this.userFields = t.fields }, A.prototype.show = function (e, t) { var n, r, i, s, o; r = function (n) { return function () { !e && !n.elem && n.destroy(); if (t) return t() } }(this), o = this.container.parent().parents(":hidden").length > 0, i = this.container.add(this.arrow), n = []; if (o && e) s = "show"; else if (o && !e) s = "hide"; else if (!o && e) s = this.options.showAnimation, n.push(this.options.showDuration); else { if (!!o || !!e) return r(); s = this.options.hideAnimation, n.push(this.options.hideDuration) } return n.push(r), i[s].apply(i, n) }, A.prototype.setGlobalPosition = function () { var t = this.getPosition(), n = t[0], i = t[1], o = s[n], u = s[i], a = n + "|" + i, f = T[a]; if (!f || !document.body.contains(f[0])) { f = T[a] = x("div"); var l = {}; l[o] = 0, u === "middle" ? l.top = "45%" : u === "center" ? l.left = "45%" : l[u] = 0, f.css(l).addClass(r + "-corner"), e("body").append(f) } return f.prepend(this.wrapper) }, A.prototype.setElementPosition = function () { var n, r, i, l, c, h, p, d, v, m, g, y, b, w, E, S, x, T, N, L, A, O, M, _, D, P, H, B, j; H = this.getPosition(), _ = H[0], O = H[1], M = H[2], g = this.elem.position(), d = this.elem.outerHeight(), y = this.elem.outerWidth(), v = this.elem.innerHeight(), m = this.elem.innerWidth(), j = this.wrapper.position(), c = this.container.height(), h = this.container.width(), T = s[_], L = f[_], A = s[L], p = {}, p[A] = _ === "b" ? d : _ === "r" ? y : 0, C(p, "top", g.top - j.top), C(p, "left", g.left - j.left), B = ["top", "left"]; for (w = 0, S = B.length; w < S; w++)D = B[w], N = parseInt(this.elem.css("margin-" + D), 10), N && C(p, D, N); b = Math.max(0, this.options.gap - (this.options.arrowShow ? i : 0)), C(p, A, b); if (!this.options.arrowShow) this.arrow.hide(); else { i = this.options.arrowSize, r = e.extend({}, p), n = this.userContainer.css("border-color") || this.userContainer.css("border-top-color") || this.userContainer.css("background-color") || "white"; for (E = 0, x = a.length; E < x; E++) { D = a[E], P = s[D]; if (D === L) continue; l = P === T ? n : "transparent", r["border-" + P] = i + "px solid " + l } C(p, s[L], i), t.call(a, O) >= 0 && C(r, s[O], i * 2) } t.call(u, _) >= 0 ? (C(p, "left", k(O, h, y)), r && C(r, "left", k(O, i, m))) : t.call(o, _) >= 0 && (C(p, "top", k(O, c, d)), r && C(r, "top", k(O, i, v))), this.container.is(":visible") && (p.display = "block"), this.container.removeAttr("style").css(p); if (r) return this.arrow.removeAttr("style").css(r) }, A.prototype.getPosition = function () { var e, n, r, i, s, f, c, h; h = this.options.position || (this.elem ? this.options.elementPosition : this.options.globalPosition), e = l(h), e.length === 0 && (e[0] = "b"); if (n = e[0], t.call(a, n) < 0) throw "Must be one of [" + a + "]"; if (e.length === 1 || (r = e[0], t.call(u, r) >= 0) && (i = e[1], t.call(o, i) < 0) || (s = e[0], t.call(o, s) >= 0) && (f = e[1], t.call(u, f) < 0)) e[1] = (c = e[0], t.call(o, c) >= 0) ? "m" : "l"; return e.length === 2 && (e[2] = e[1]), e }, A.prototype.getStyle = function (e) { var t; e || (e = this.options.style), e || (e = "default"), t = c[e]; if (!t) throw "Missing style: " + e; return t }, A.prototype.updateClasses = function () { var t, n; return t = ["base"], e.isArray(this.options.className) ? t = t.concat(this.options.className) : this.options.className && t.push(this.options.className), n = this.getStyle(), t = e.map(t, function (e) { return r + "-" + n.name + "-" + e }).join(" "), this.userContainer.attr("class", t) }, A.prototype.run = function (t, n) { var r, s, o, u, a; e.isPlainObject(n) ? e.extend(this.options, n) : e.type(n) === "string" && (this.options.className = n); if (this.container && !t) { this.show(!1); return } if (!this.container && !t) return; s = {}, e.isPlainObject(t) ? s = t : s[i] = t; for (o in s) { r = s[o], u = this.userFields[o]; if (!u) continue; u === "text" && (r = L(r), this.options.breakNewLines && (r = r.replace(/\n/g, "<br/>"))), a = o === i ? "" : "=" + o, b(this.userContainer, "[data-notify-" + u + a + "]").html(r) } this.updateClasses(), this.elem ? this.setElementPosition() : this.setGlobalPosition(), this.show(!0), this.options.autoHide && (clearTimeout(this.autohideTimer), this.autohideTimer = setTimeout(this.show.bind(this, !1), this.options.autoHideDelay)) }, A.prototype.destroy = function () { this.wrapper.data(r, null), this.wrapper.remove() }, e[n] = function (t, r, i) { return t && t.nodeName || t.jquery ? e(t)[n](r, i) : (i = r, r = t, new A(null, r, i)), t }, e.fn[n] = function (t, n) { return e(this).each(function () { var i = N(e(this)).data(r); i && i.destroy(); var s = new A(e(this), t, n) }), this }, e.extend(e[n], { defaults: S, addStyle: m, removeStyle: v, pluginOptions: w, getStyle: d, insertCSS: g }), m("bootstrap", { html: "<div>\n<span data-notify-text></span>\n</div>", classes: { base: { "font-weight": "bold", padding: "8px 15px 8px 14px", "text-shadow": "0 1px 0 rgba(255, 255, 255, 0.5)", "background-color": "#fcf8e3", border: "1px solid #fbeed5", "border-radius": "4px", "white-space": "nowrap", "padding-left": "25px", "background-repeat": "no-repeat", "background-position": "3px 7px" }, error: { color: "#B94A48", "background-color": "#F2DEDE", "border-color": "#EED3D7", "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)" }, success: { color: "#468847", "background-color": "#DFF0D8", "border-color": "#D6E9C6", "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)" }, info: { color: "#3A87AD", "background-color": "#D9EDF7", "border-color": "#BCE8F1", "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)" }, warn: { color: "#C09853", "background-color": "#FCF8E3", "border-color": "#FBEED5", "background-image": "url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)" } } }), e(function () { g(h.css).attr("id", "core-notify"), e(document).on("click", "." + r + "-hidable", function (t) { e(this).trigger("notify-hide") }), e(document).on("notify-hide", "." + r + "-wrapper", function (t) { var n = e(this).data(r); n && n.show(!1) }) }) });/*! jQuery Validation Plugin - v1.15.0 - 2/24/2016
 * http://jqueryvalidation.org/
 * Copyright (c) 2016 Jrn Zaefferer; Licensed MIT */
!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof module && module.exports ? module.exports = a(require("jquery")) : a(jQuery) }(function (a) { a.extend(a.fn, { validate: function (b) { if (!this.length) return void (b && b.debug && window.console && console.warn("Nothing selected, can't validate, returning nothing.")); var c = a.data(this[0], "validator"); return c ? c : (this.attr("novalidate", "novalidate"), c = new a.validator(b, this[0]), a.data(this[0], "validator", c), c.settings.onsubmit && (this.on("click.validate", ":submit", function (b) { c.settings.submitHandler && (c.submitButton = b.target), a(this).hasClass("cancel") && (c.cancelSubmit = !0), void 0 !== a(this).attr("formnovalidate") && (c.cancelSubmit = !0) }), this.on("submit.validate", function (b) { function d() { var d, e; return c.settings.submitHandler ? (c.submitButton && (d = a("<input type='hidden'/>").attr("name", c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)), e = c.settings.submitHandler.call(c, c.currentForm, b), c.submitButton && d.remove(), void 0 !== e ? e : !1) : !0 } return c.settings.debug && b.preventDefault(), c.cancelSubmit ? (c.cancelSubmit = !1, d()) : c.form() ? c.pendingRequest ? (c.formSubmitted = !0, !1) : d() : (c.focusInvalid(), !1) })), c) }, valid: function () { var b, c, d; return a(this[0]).is("form") ? b = this.validate().form() : (d = [], b = !0, c = a(this[0].form).validate(), this.each(function () { b = c.element(this) && b, b || (d = d.concat(c.errorList)) }), c.errorList = d), b }, rules: function (b, c) { if (this.length) { var d, e, f, g, h, i, j = this[0]; if (b) switch (d = a.data(j.form, "validator").settings, e = d.rules, f = a.validator.staticRules(j), b) { case "add": a.extend(f, a.validator.normalizeRule(c)), delete f.messages, e[j.name] = f, c.messages && (d.messages[j.name] = a.extend(d.messages[j.name], c.messages)); break; case "remove": return c ? (i = {}, a.each(c.split(/\s/), function (b, c) { i[c] = f[c], delete f[c], "required" === c && a(j).removeAttr("aria-required") }), i) : (delete e[j.name], f) }return g = a.validator.normalizeRules(a.extend({}, a.validator.classRules(j), a.validator.attributeRules(j), a.validator.dataRules(j), a.validator.staticRules(j)), j), g.required && (h = g.required, delete g.required, g = a.extend({ required: h }, g), a(j).attr("aria-required", "true")), g.remote && (h = g.remote, delete g.remote, g = a.extend(g, { remote: h })), g } } }), a.extend(a.expr[":"], { blank: function (b) { return !a.trim("" + a(b).val()) }, filled: function (b) { var c = a(b).val(); return null !== c && !!a.trim("" + c) }, unchecked: function (b) { return !a(b).prop("checked") } }), a.validator = function (b, c) { this.settings = a.extend(!0, {}, a.validator.defaults, b), this.currentForm = c, this.init() }, a.validator.format = function (b, c) { return 1 === arguments.length ? function () { var c = a.makeArray(arguments); return c.unshift(b), a.validator.format.apply(this, c) } : void 0 === c ? b : (arguments.length > 2 && c.constructor !== Array && (c = a.makeArray(arguments).slice(1)), c.constructor !== Array && (c = [c]), a.each(c, function (a, c) { b = b.replace(new RegExp("\\{" + a + "\\}", "g"), function () { return c }) }), b) }, a.extend(a.validator, { defaults: { messages: {}, groups: {}, rules: {}, errorClass: "error", pendingClass: "pending", validClass: "valid", errorElement: "label", focusCleanup: !1, focusInvalid: !0, errorContainer: a([]), errorLabelContainer: a([]), onsubmit: !0, ignore: ":hidden", ignoreTitle: !1, onfocusin: function (a) { this.lastActive = a, this.settings.focusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, a, this.settings.errorClass, this.settings.validClass), this.hideThese(this.errorsFor(a))) }, onfocusout: function (a) { this.checkable(a) || !(a.name in this.submitted) && this.optional(a) || this.element(a) }, onkeyup: function (b, c) { var d = [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225]; 9 === c.which && "" === this.elementValue(b) || -1 !== a.inArray(c.keyCode, d) || (b.name in this.submitted || b.name in this.invalid) && this.element(b) }, onclick: function (a) { a.name in this.submitted ? this.element(a) : a.parentNode.name in this.submitted && this.element(a.parentNode) }, highlight: function (b, c, d) { "radio" === b.type ? this.findByName(b.name).addClass(c).removeClass(d) : a(b).addClass(c).removeClass(d) }, unhighlight: function (b, c, d) { "radio" === b.type ? this.findByName(b.name).removeClass(c).addClass(d) : a(b).removeClass(c).addClass(d) } }, setDefaults: function (b) { a.extend(a.validator.defaults, b) }, messages: { required: "This field is required.", remote: "Please fix this field.", email: "Please enter a valid email address.", url: "Please enter a valid URL.", date: "Please enter a valid date.", dateISO: "Please enter a valid date ( ISO ).", number: "Please enter a valid number.", digits: "Please enter only digits.", equalTo: "Please enter the same value again.", maxlength: a.validator.format("Please enter no more than {0} characters."), minlength: a.validator.format("Please enter at least {0} characters."), rangelength: a.validator.format("Please enter a value between {0} and {1} characters long."), range: a.validator.format("Please enter a value between {0} and {1}."), max: a.validator.format("Please enter a value less than or equal to {0}."), min: a.validator.format("Please enter a value greater than or equal to {0}."), step: a.validator.format("Please enter a multiple of {0}.") }, autoCreateRanges: !1, prototype: { init: function () { function b(b) { var c = a.data(this.form, "validator"), d = "on" + b.type.replace(/^validate/, ""), e = c.settings; e[d] && !a(this).is(e.ignore) && e[d].call(c, this, b) } this.labelContainer = a(this.settings.errorLabelContainer), this.errorContext = this.labelContainer.length && this.labelContainer || a(this.currentForm), this.containers = a(this.settings.errorContainer).add(this.settings.errorLabelContainer), this.submitted = {}, this.valueCache = {}, this.pendingRequest = 0, this.pending = {}, this.invalid = {}, this.reset(); var c, d = this.groups = {}; a.each(this.settings.groups, function (b, c) { "string" == typeof c && (c = c.split(/\s/)), a.each(c, function (a, c) { d[c] = b }) }), c = this.settings.rules, a.each(c, function (b, d) { c[b] = a.validator.normalizeRule(d) }), a(this.currentForm).on("focusin.validate focusout.validate keyup.validate", ":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]", b).on("click.validate", "select, option, [type='radio'], [type='checkbox']", b), this.settings.invalidHandler && a(this.currentForm).on("invalid-form.validate", this.settings.invalidHandler), a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required", "true") }, form: function () { return this.checkForm(), a.extend(this.submitted, this.errorMap), this.invalid = a.extend({}, this.errorMap), this.valid() || a(this.currentForm).triggerHandler("invalid-form", [this]), this.showErrors(), this.valid() }, checkForm: function () { this.prepareForm(); for (var a = 0, b = this.currentElements = this.elements(); b[a]; a++)this.check(b[a]); return this.valid() }, element: function (b) { var c, d, e = this.clean(b), f = this.validationTargetFor(e), g = this, h = !0; return void 0 === f ? delete this.invalid[e.name] : (this.prepareElement(f), this.currentElements = a(f), d = this.groups[f.name], d && a.each(this.groups, function (a, b) { b === d && a !== f.name && (e = g.validationTargetFor(g.clean(g.findByName(a))), e && e.name in g.invalid && (g.currentElements.push(e), h = h && g.check(e))) }), c = this.check(f) !== !1, h = h && c, c ? this.invalid[f.name] = !1 : this.invalid[f.name] = !0, this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)), this.showErrors(), a(b).attr("aria-invalid", !c)), h }, showErrors: function (b) { if (b) { var c = this; a.extend(this.errorMap, b), this.errorList = a.map(this.errorMap, function (a, b) { return { message: a, element: c.findByName(b)[0] } }), this.successList = a.grep(this.successList, function (a) { return !(a.name in b) }) } this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors() }, resetForm: function () { a.fn.resetForm && a(this.currentForm).resetForm(), this.invalid = {}, this.submitted = {}, this.prepareForm(), this.hideErrors(); var b = this.elements().removeData("previousValue").removeAttr("aria-invalid"); this.resetElements(b) }, resetElements: function (a) { var b; if (this.settings.unhighlight) for (b = 0; a[b]; b++)this.settings.unhighlight.call(this, a[b], this.settings.errorClass, ""), this.findByName(a[b].name).removeClass(this.settings.validClass); else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass) }, numberOfInvalids: function () { return this.objectLength(this.invalid) }, objectLength: function (a) { var b, c = 0; for (b in a) a[b] && c++; return c }, hideErrors: function () { this.hideThese(this.toHide) }, hideThese: function (a) { a.not(this.containers).text(""), this.addWrapper(a).hide() }, valid: function () { return 0 === this.size() }, size: function () { return this.errorList.length }, focusInvalid: function () { if (this.settings.focusInvalid) try { a(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin") } catch (b) { } }, findLastActive: function () { var b = this.lastActive; return b && 1 === a.grep(this.errorList, function (a) { return a.element.name === b.name }).length && b }, elements: function () { var b = this, c = {}; return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function () { var d = this.name || a(this).attr("name"); return !d && b.settings.debug && window.console && console.error("%o has no name assigned", this), this.hasAttribute("contenteditable") && (this.form = a(this).closest("form")[0]), d in c || !b.objectLength(a(this).rules()) ? !1 : (c[d] = !0, !0) }) }, clean: function (b) { return a(b)[0] }, errors: function () { var b = this.settings.errorClass.split(" ").join("."); return a(this.settings.errorElement + "." + b, this.errorContext) }, resetInternals: function () { this.successList = [], this.errorList = [], this.errorMap = {}, this.toShow = a([]), this.toHide = a([]) }, reset: function () { this.resetInternals(), this.currentElements = a([]) }, prepareForm: function () { this.reset(), this.toHide = this.errors().add(this.containers) }, prepareElement: function (a) { this.reset(), this.toHide = this.errorsFor(a) }, elementValue: function (b) { var c, d, e = a(b), f = b.type; return "radio" === f || "checkbox" === f ? this.findByName(b.name).filter(":checked").val() : "number" === f && "undefined" != typeof b.validity ? b.validity.badInput ? "NaN" : e.val() : (c = b.hasAttribute("contenteditable") ? e.text() : e.val(), "file" === f ? "C:\\fakepath\\" === c.substr(0, 12) ? c.substr(12) : (d = c.lastIndexOf("/"), d >= 0 ? c.substr(d + 1) : (d = c.lastIndexOf("\\"), d >= 0 ? c.substr(d + 1) : c)) : "string" == typeof c ? c.replace(/\r/g, "") : c) }, check: function (b) { b = this.validationTargetFor(this.clean(b)); var c, d, e, f = a(b).rules(), g = a.map(f, function (a, b) { return b }).length, h = !1, i = this.elementValue(b); if ("function" == typeof f.normalizer) { if (i = f.normalizer.call(b, i), "string" != typeof i) throw new TypeError("The normalizer should return a string value."); delete f.normalizer } for (d in f) { e = { method: d, parameters: f[d] }; try { if (c = a.validator.methods[d].call(this, i, b, e.parameters), "dependency-mismatch" === c && 1 === g) { h = !0; continue } if (h = !1, "pending" === c) return void (this.toHide = this.toHide.not(this.errorsFor(b))); if (!c) return this.formatAndAdd(b, e), !1 } catch (j) { throw this.settings.debug && window.console && console.log("Exception occurred when checking element " + b.id + ", check the '" + e.method + "' method.", j), j instanceof TypeError && (j.message += ".  Exception occurred when checking element " + b.id + ", check the '" + e.method + "' method."), j } } if (!h) return this.objectLength(f) && this.successList.push(b), !0 }, customDataMessage: function (b, c) { return a(b).data("msg" + c.charAt(0).toUpperCase() + c.substring(1).toLowerCase()) || a(b).data("msg") }, customMessage: function (a, b) { var c = this.settings.messages[a]; return c && (c.constructor === String ? c : c[b]) }, findDefined: function () { for (var a = 0; a < arguments.length; a++)if (void 0 !== arguments[a]) return arguments[a] }, defaultMessage: function (b, c) { var d = this.findDefined(this.customMessage(b.name, c.method), this.customDataMessage(b, c.method), !this.settings.ignoreTitle && b.title || void 0, a.validator.messages[c.method], "<strong>Warning: No message defined for " + b.name + "</strong>"), e = /\$?\{(\d+)\}/g; return "function" == typeof d ? d = d.call(this, c.parameters, b) : e.test(d) && (d = a.validator.format(d.replace(e, "{$1}"), c.parameters)), d }, formatAndAdd: function (a, b) { var c = this.defaultMessage(a, b); this.errorList.push({ message: c, element: a, method: b.method }), this.errorMap[a.name] = c, this.submitted[a.name] = c }, addWrapper: function (a) { return this.settings.wrapper && (a = a.add(a.parent(this.settings.wrapper))), a }, defaultShowErrors: function () { var a, b, c; for (a = 0; this.errorList[a]; a++)c = this.errorList[a], this.settings.highlight && this.settings.highlight.call(this, c.element, this.settings.errorClass, this.settings.validClass), this.showLabel(c.element, c.message); if (this.errorList.length && (this.toShow = this.toShow.add(this.containers)), this.settings.success) for (a = 0; this.successList[a]; a++)this.showLabel(this.successList[a]); if (this.settings.unhighlight) for (a = 0, b = this.validElements(); b[a]; a++)this.settings.unhighlight.call(this, b[a], this.settings.errorClass, this.settings.validClass); this.toHide = this.toHide.not(this.toShow), this.hideErrors(), this.addWrapper(this.toShow).show() }, validElements: function () { return this.currentElements.not(this.invalidElements()) }, invalidElements: function () { return a(this.errorList).map(function () { return this.element }) }, showLabel: function (b, c) { var d, e, f, g, h = this.errorsFor(b), i = this.idOrName(b), j = a(b).attr("aria-describedby"); h.length ? (h.removeClass(this.settings.validClass).addClass(this.settings.errorClass), h.html(c)) : (h = a("<" + this.settings.errorElement + ">").attr("id", i + "-error").addClass(this.settings.errorClass).html(c || ""), d = h, this.settings.wrapper && (d = h.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()), this.labelContainer.length ? this.labelContainer.append(d) : this.settings.errorPlacement ? this.settings.errorPlacement(d, a(b)) : d.insertAfter(b), h.is("label") ? h.attr("for", i) : 0 === h.parents("label[for='" + this.escapeCssMeta(i) + "']").length && (f = h.attr("id"), j ? j.match(new RegExp("\\b" + this.escapeCssMeta(f) + "\\b")) || (j += " " + f) : j = f, a(b).attr("aria-describedby", j), e = this.groups[b.name], e && (g = this, a.each(g.groups, function (b, c) { c === e && a("[name='" + g.escapeCssMeta(b) + "']", g.currentForm).attr("aria-describedby", h.attr("id")) })))), !c && this.settings.success && (h.text(""), "string" == typeof this.settings.success ? h.addClass(this.settings.success) : this.settings.success(h, b)), this.toShow = this.toShow.add(h) }, errorsFor: function (b) { var c = this.escapeCssMeta(this.idOrName(b)), d = a(b).attr("aria-describedby"), e = "label[for='" + c + "'], label[for='" + c + "'] *"; return d && (e = e + ", #" + this.escapeCssMeta(d).replace(/\s+/g, ", #")), this.errors().filter(e) }, escapeCssMeta: function (a) { return a.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g, "\\$1") }, idOrName: function (a) { return this.groups[a.name] || (this.checkable(a) ? a.name : a.id || a.name) }, validationTargetFor: function (b) { return this.checkable(b) && (b = this.findByName(b.name)), a(b).not(this.settings.ignore)[0] }, checkable: function (a) { return /radio|checkbox/i.test(a.type) }, findByName: function (b) { return a(this.currentForm).find("[name='" + this.escapeCssMeta(b) + "']") }, getLength: function (b, c) { switch (c.nodeName.toLowerCase()) { case "select": return a("option:selected", c).length; case "input": if (this.checkable(c)) return this.findByName(c.name).filter(":checked").length }return b.length }, depend: function (a, b) { return this.dependTypes[typeof a] ? this.dependTypes[typeof a](a, b) : !0 }, dependTypes: { "boolean": function (a) { return a }, string: function (b, c) { return !!a(b, c.form).length }, "function": function (a, b) { return a(b) } }, optional: function (b) { var c = this.elementValue(b); return !a.validator.methods.required.call(this, c, b) && "dependency-mismatch" }, startRequest: function (b) { this.pending[b.name] || (this.pendingRequest++, a(b).addClass(this.settings.pendingClass), this.pending[b.name] = !0) }, stopRequest: function (b, c) { this.pendingRequest--, this.pendingRequest < 0 && (this.pendingRequest = 0), delete this.pending[b.name], a(b).removeClass(this.settings.pendingClass), c && 0 === this.pendingRequest && this.formSubmitted && this.form() ? (a(this.currentForm).submit(), this.formSubmitted = !1) : !c && 0 === this.pendingRequest && this.formSubmitted && (a(this.currentForm).triggerHandler("invalid-form", [this]), this.formSubmitted = !1) }, previousValue: function (b, c) { return a.data(b, "previousValue") || a.data(b, "previousValue", { old: null, valid: !0, message: this.defaultMessage(b, { method: c }) }) }, destroy: function () { this.resetForm(), a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur") } }, classRuleSettings: { required: { required: !0 }, email: { email: !0 }, url: { url: !0 }, date: { date: !0 }, dateISO: { dateISO: !0 }, number: { number: !0 }, digits: { digits: !0 }, creditcard: { creditcard: !0 } }, addClassRules: function (b, c) { b.constructor === String ? this.classRuleSettings[b] = c : a.extend(this.classRuleSettings, b) }, classRules: function (b) { var c = {}, d = a(b).attr("class"); return d && a.each(d.split(" "), function () { this in a.validator.classRuleSettings && a.extend(c, a.validator.classRuleSettings[this]) }), c }, normalizeAttributeRule: function (a, b, c, d) { /min|max|step/.test(c) && (null === b || /number|range|text/.test(b)) && (d = Number(d), isNaN(d) && (d = void 0)), d || 0 === d ? a[c] = d : b === c && "range" !== b && (a[c] = !0) }, attributeRules: function (b) { var c, d, e = {}, f = a(b), g = b.getAttribute("type"); for (c in a.validator.methods) "required" === c ? (d = b.getAttribute(c), "" === d && (d = !0), d = !!d) : d = f.attr(c), this.normalizeAttributeRule(e, g, c, d); return e.maxlength && /-1|2147483647|524288/.test(e.maxlength) && delete e.maxlength, e }, dataRules: function (b) { var c, d, e = {}, f = a(b), g = b.getAttribute("type"); for (c in a.validator.methods) d = f.data("rule" + c.charAt(0).toUpperCase() + c.substring(1).toLowerCase()), this.normalizeAttributeRule(e, g, c, d); return e }, staticRules: function (b) { var c = {}, d = a.data(b.form, "validator"); return d.settings.rules && (c = a.validator.normalizeRule(d.settings.rules[b.name]) || {}), c }, normalizeRules: function (b, c) { return a.each(b, function (d, e) { if (e === !1) return void delete b[d]; if (e.param || e.depends) { var f = !0; switch (typeof e.depends) { case "string": f = !!a(e.depends, c.form).length; break; case "function": f = e.depends.call(c, c) }f ? b[d] = void 0 !== e.param ? e.param : !0 : (a.data(c.form, "validator").resetElements(a(c)), delete b[d]) } }), a.each(b, function (d, e) { b[d] = a.isFunction(e) && "normalizer" !== d ? e(c) : e }), a.each(["minlength", "maxlength"], function () { b[this] && (b[this] = Number(b[this])) }), a.each(["rangelength", "range"], function () { var c; b[this] && (a.isArray(b[this]) ? b[this] = [Number(b[this][0]), Number(b[this][1])] : "string" == typeof b[this] && (c = b[this].replace(/[\[\]]/g, "").split(/[\s,]+/), b[this] = [Number(c[0]), Number(c[1])])) }), a.validator.autoCreateRanges && (null != b.min && null != b.max && (b.range = [b.min, b.max], delete b.min, delete b.max), null != b.minlength && null != b.maxlength && (b.rangelength = [b.minlength, b.maxlength], delete b.minlength, delete b.maxlength)), b }, normalizeRule: function (b) { if ("string" == typeof b) { var c = {}; a.each(b.split(/\s/), function () { c[this] = !0 }), b = c } return b }, addMethod: function (b, c, d) { a.validator.methods[b] = c, a.validator.messages[b] = void 0 !== d ? d : a.validator.messages[b], c.length < 3 && a.validator.addClassRules(b, a.validator.normalizeRule(b)) }, methods: { required: function (b, c, d) { if (!this.depend(d, c)) return "dependency-mismatch"; if ("select" === c.nodeName.toLowerCase()) { var e = a(c).val(); return e && e.length > 0 } return this.checkable(c) ? this.getLength(b, c) > 0 : b.length > 0 }, email: function (a, b) { return this.optional(b) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a) }, url: function (a, b) { return this.optional(b) || /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a) }, date: function (a, b) { return this.optional(b) || !/Invalid|NaN/.test(new Date(a).toString()) }, dateISO: function (a, b) { return this.optional(b) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a) }, number: function (a, b) { return this.optional(b) || /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a) }, digits: function (a, b) { return this.optional(b) || /^\d+$/.test(a) }, minlength: function (b, c, d) { var e = a.isArray(b) ? b.length : this.getLength(b, c); return this.optional(c) || e >= d }, maxlength: function (b, c, d) { var e = a.isArray(b) ? b.length : this.getLength(b, c); return this.optional(c) || d >= e }, rangelength: function (b, c, d) { var e = a.isArray(b) ? b.length : this.getLength(b, c); return this.optional(c) || e >= d[0] && e <= d[1] }, min: function (a, b, c) { return this.optional(b) || a >= c }, max: function (a, b, c) { return this.optional(b) || c >= a }, range: function (a, b, c) { return this.optional(b) || a >= c[0] && a <= c[1] }, step: function (b, c, d) { var e = a(c).attr("type"), f = "Step attribute on input type " + e + " is not supported.", g = ["text", "number", "range"], h = new RegExp("\\b" + e + "\\b"), i = e && !h.test(g.join()); if (i) throw new Error(f); return this.optional(c) || b % d === 0 }, equalTo: function (b, c, d) { var e = a(d); return this.settings.onfocusout && e.not(".validate-equalTo-blur").length && e.addClass("validate-equalTo-blur").on("blur.validate-equalTo", function () { a(c).valid() }), b === e.val() }, remote: function (b, c, d, e) { if (this.optional(c)) return "dependency-mismatch"; e = "string" == typeof e && e || "remote"; var f, g, h, i = this.previousValue(c, e); return this.settings.messages[c.name] || (this.settings.messages[c.name] = {}), i.originalMessage = i.originalMessage || this.settings.messages[c.name][e], this.settings.messages[c.name][e] = i.message, d = "string" == typeof d && { url: d } || d, h = a.param(a.extend({ data: b }, d.data)), i.old === h ? i.valid : (i.old = h, f = this, this.startRequest(c), g = {}, g[c.name] = b, a.ajax(a.extend(!0, { mode: "abort", port: "validate" + c.name, dataType: "json", data: g, context: f.currentForm, success: function (a) { var d, g, h, j = a === !0 || "true" === a; f.settings.messages[c.name][e] = i.originalMessage, j ? (h = f.formSubmitted, f.resetInternals(), f.toHide = f.errorsFor(c), f.formSubmitted = h, f.successList.push(c), f.invalid[c.name] = !1, f.showErrors()) : (d = {}, g = a || f.defaultMessage(c, { method: e, parameters: b }), d[c.name] = i.message = g, f.invalid[c.name] = !0, f.showErrors(d)), i.valid = j, f.stopRequest(c, j) } }, d)), "pending") } } }); var b, c = {}; a.ajaxPrefilter ? a.ajaxPrefilter(function (a, b, d) { var e = a.port; "abort" === a.mode && (c[e] && c[e].abort(), c[e] = d) }) : (b = a.ajax, a.ajax = function (d) { var e = ("mode" in d ? d : a.ajaxSettings).mode, f = ("port" in d ? d : a.ajaxSettings).port; return "abort" === e ? (c[f] && c[f].abort(), c[f] = b.apply(this, arguments), c[f]) : b.apply(this, arguments) }) });;/*
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
!function (a) { function e(a, e, n) { a.rules[e] = n, a.message && (a.messages[e] = a.message) } function n(a) { return a.replace(/^\s+|\s+$/g, "").split(/\s*,\s*/g) } function t(a) { return a.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g, "\\$1") } function r(a) { return a.substr(0, a.lastIndexOf(".") + 1) } function i(a, e) { return 0 === a.indexOf("*.") && (a = a.replace("*.", e)), a } function o(e, n) { var r = a(this).find("[data-valmsg-for='" + t(n[0].name) + "']"), i = r.attr("data-valmsg-replace"), o = i ? a.parseJSON(i) !== !1 : null; r.removeClass("field-validation-valid").addClass("field-validation-error"), e.data("unobtrusiveContainer", r), o ? (r.empty(), e.removeClass("input-validation-error").appendTo(r)) : e.hide() } function d(e, n) { var t = a(this).find("[data-valmsg-summary=true]"), r = t.find("ul"); r && r.length && n.errorList.length && (r.empty(), t.addClass("validation-summary-errors").removeClass("validation-summary-valid"), a.each(n.errorList, function () { a("<li />").html(this.message).appendTo(r) })) } function s(e) { var n = e.data("unobtrusiveContainer"); if (n) { var t = n.attr("data-valmsg-replace"), r = t ? a.parseJSON(t) : null; n.addClass("field-validation-valid").removeClass("field-validation-error"), e.removeData("unobtrusiveContainer"), r && n.empty() } } function l(e) { var n = a(this), t = "__jquery_unobtrusive_validation_form_reset"; if (!n.data(t)) { n.data(t, !0); try { n.data("validator").resetForm() } finally { n.removeData(t) } n.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"), n.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer") } } function m(e) { var n = a(e), t = n.data(v), r = a.proxy(l, e), i = p.unobtrusive.options || {}, m = function (n, t) { var r = i[n]; r && a.isFunction(r) && r.apply(e, t) }; return t || (t = { options: { errorClass: i.errorClass || "input-validation-error", errorElement: i.errorElement || "span", errorPlacement: function () { o.apply(e, arguments), m("errorPlacement", arguments) }, invalidHandler: function () { d.apply(e, arguments), m("invalidHandler", arguments) }, messages: {}, rules: {}, success: function () { s.apply(e, arguments), m("success", arguments) } }, attachValidation: function () { n.off("reset." + v, r).on("reset." + v, r).validate(this.options) }, validate: function () { return n.validate(), n.valid() } }, n.data(v, t)), t } var u, p = a.validator, v = "unobtrusiveValidation"; p.unobtrusive = { adapters: [], parseElement: function (e, n) { var t, r, i, o = a(e), d = o.parents("form")[0]; d && (t = m(d), t.options.rules[e.name] = r = {}, t.options.messages[e.name] = i = {}, a.each(this.adapters, function () { var n = "data-val-" + this.name, t = o.attr(n), s = {}; void 0 !== t && (n += "-", a.each(this.params, function () { s[this] = o.attr(n + this) }), this.adapt({ element: e, form: d, message: t, params: s, rules: r, messages: i })) }), a.extend(r, { __dummy__: !0 }), n || t.attachValidation()) }, parse: function (e) { var n = a(e), t = n.parents().addBack().filter("form").add(n.find("form")).has("[data-val=true]"); n.find("[data-val=true]").each(function () { p.unobtrusive.parseElement(this, !0) }), t.each(function () { var a = m(this); a && a.attachValidation() }) } }, u = p.unobtrusive.adapters, u.add = function (a, e, n) { return n || (n = e, e = []), this.push({ name: a, params: e, adapt: n }), this }, u.addBool = function (a, n) { return this.add(a, function (t) { e(t, n || a, !0) }) }, u.addMinMax = function (a, n, t, r, i, o) { return this.add(a, [i || "min", o || "max"], function (a) { var i = a.params.min, o = a.params.max; i && o ? e(a, r, [i, o]) : i ? e(a, n, i) : o && e(a, t, o) }) }, u.addSingleVal = function (a, n, t) { return this.add(a, [n || "val"], function (r) { e(r, t || a, r.params[n]) }) }, p.addMethod("__dummy__", function (a, e, n) { return !0 }), p.addMethod("regex", function (a, e, n) { var t; return this.optional(e) ? !0 : (t = new RegExp(n).exec(a), t && 0 === t.index && t[0].length === a.length) }), p.addMethod("nonalphamin", function (a, e, n) { var t; return n && (t = a.match(/\W/g), t = t && t.length >= n), t }), p.methods.extension ? (u.addSingleVal("accept", "mimtype"), u.addSingleVal("extension", "extension")) : u.addSingleVal("extension", "extension", "accept"), u.addSingleVal("regex", "pattern"), u.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"), u.addMinMax("length", "minlength", "maxlength", "rangelength").addMinMax("range", "min", "max", "range"), u.addMinMax("minlength", "minlength").addMinMax("maxlength", "minlength", "maxlength"), u.add("equalto", ["other"], function (n) { var o = r(n.element.name), d = n.params.other, s = i(d, o), l = a(n.form).find(":input").filter("[name='" + t(s) + "']")[0]; e(n, "equalTo", l) }), u.add("required", function (a) { ("INPUT" !== a.element.tagName.toUpperCase() || "CHECKBOX" !== a.element.type.toUpperCase()) && e(a, "required", !0) }), u.add("remote", ["url", "type", "additionalfields"], function (o) { var d = { url: o.params.url, type: o.params.type || "GET", data: {} }, s = r(o.element.name); a.each(n(o.params.additionalfields || o.element.name), function (e, n) { var r = i(n, s); d.data[r] = function () { var e = a(o.form).find(":input").filter("[name='" + t(r) + "']"); return e.is(":checkbox") ? e.filter(":checked").val() || e.filter(":hidden").val() || "" : e.is(":radio") ? e.filter(":checked").val() || "" : e.val() } }), e(o, "remote", d) }), u.add("password", ["min", "nonalphamin", "regex"], function (a) { a.params.min && e(a, "minlength", a.params.min), a.params.nonalphamin && e(a, "nonalphamin", a.params.nonalphamin), a.params.regex && e(a, "regex", a.params.regex) }), a(function () { p.unobtrusive.parse(document) }) }(jQuery);;/**
*  Ajax Autocomplete for jQuery, version 1.4.11
*  (c) 2017 Tomas Kirda
*
*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.
*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete
*/
!function (a) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports && "function" == typeof require ? require("jquery") : jQuery) }(function (a) { "use strict"; function b(c, d) { var e = this; e.element = c, e.el = a(c), e.suggestions = [], e.badQueries = [], e.selectedIndex = -1, e.currentValue = e.element.value, e.timeoutId = null, e.cachedResponse = {}, e.onChangeTimeout = null, e.onChange = null, e.isLocal = !1, e.suggestionsContainer = null, e.noSuggestionsContainer = null, e.options = a.extend(!0, {}, b.defaults, d), e.classes = { selected: "autocomplete-selected", suggestion: "autocomplete-suggestion" }, e.hint = null, e.hintValue = "", e.selection = null, e.initialize(), e.setOptions(d) } function c(a, b, c) { return a.value.toLowerCase().indexOf(c) !== -1 } function d(b) { return "string" == typeof b ? a.parseJSON(b) : b } function e(a, b) { if (!b) return a.value; var c = "(" + g.escapeRegExChars(b) + ")"; return a.value.replace(new RegExp(c, "gi"), "<strong>$1</strong>").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/&lt;(\/?strong)&gt;/g, "<$1>") } function f(a, b) { return '<div class="autocomplete-group">' + b + "</div>" } var g = function () { return { escapeRegExChars: function (a) { return a.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&") }, createNode: function (a) { var b = document.createElement("div"); return b.className = a, b.style.position = "absolute", b.style.display = "none", b } } }(), h = { ESC: 27, TAB: 9, RETURN: 13, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40 }, i = a.noop; b.utils = g, a.Autocomplete = b, b.defaults = { ajaxSettings: {}, autoSelectFirst: !1, appendTo: "body", serviceUrl: null, lookup: null, onSelect: null, width: "auto", minChars: 1, maxHeight: 300, deferRequestBy: 0, params: {}, formatResult: e, formatGroup: f, delimiter: null, zIndex: 9999, type: "GET", noCache: !1, onSearchStart: i, onSearchComplete: i, onSearchError: i, preserveInput: !1, containerClass: "autocomplete-suggestions", tabDisabled: !1, dataType: "text", currentRequest: null, triggerSelectOnValidInput: !0, preventBadQueries: !0, lookupFilter: c, paramName: "query", transformResult: d, showNoSuggestionNotice: !1, noSuggestionNotice: "No results", orientation: "bottom", forceFixPosition: !1 }, b.prototype = { initialize: function () { var c, d = this, e = "." + d.classes.suggestion, f = d.classes.selected, g = d.options; d.element.setAttribute("autocomplete", "off"), d.noSuggestionsContainer = a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0), d.suggestionsContainer = b.utils.createNode(g.containerClass), c = a(d.suggestionsContainer), c.appendTo(g.appendTo || "body"), "auto" !== g.width && c.css("width", g.width), c.on("mouseover.autocomplete", e, function () { d.activate(a(this).data("index")) }), c.on("mouseout.autocomplete", function () { d.selectedIndex = -1, c.children("." + f).removeClass(f) }), c.on("click.autocomplete", e, function () { d.select(a(this).data("index")) }), c.on("click.autocomplete", function () { clearTimeout(d.blurTimeoutId) }), d.fixPositionCapture = function () { d.visible && d.fixPosition() }, a(window).on("resize.autocomplete", d.fixPositionCapture), d.el.on("keydown.autocomplete", function (a) { d.onKeyPress(a) }), d.el.on("keyup.autocomplete", function (a) { d.onKeyUp(a) }), d.el.on("blur.autocomplete", function () { d.onBlur() }), d.el.on("focus.autocomplete", function () { d.onFocus() }), d.el.on("change.autocomplete", function (a) { d.onKeyUp(a) }), d.el.on("input.autocomplete", function (a) { d.onKeyUp(a) }) }, onFocus: function () { var a = this; a.disabled || (a.fixPosition(), a.el.val().length >= a.options.minChars && a.onValueChange()) }, onBlur: function () { var b = this, c = b.options, d = b.el.val(), e = b.getQuery(d); b.blurTimeoutId = setTimeout(function () { b.hide(), b.selection && b.currentValue !== e && (c.onInvalidateSelection || a.noop).call(b.element) }, 200) }, abortAjax: function () { var a = this; a.currentRequest && (a.currentRequest.abort(), a.currentRequest = null) }, setOptions: function (b) { var c = this, d = a.extend({}, c.options, b); c.isLocal = Array.isArray(d.lookup), c.isLocal && (d.lookup = c.verifySuggestionsFormat(d.lookup)), d.orientation = c.validateOrientation(d.orientation, "bottom"), a(c.suggestionsContainer).css({ "max-height": d.maxHeight + "px", width: d.width + "px", "z-index": d.zIndex }), this.options = d }, clearCache: function () { this.cachedResponse = {}, this.badQueries = [] }, clear: function () { this.clearCache(), this.currentValue = "", this.suggestions = [] }, disable: function () { var a = this; a.disabled = !0, clearTimeout(a.onChangeTimeout), a.abortAjax() }, enable: function () { this.disabled = !1 }, fixPosition: function () { var b = this, c = a(b.suggestionsContainer), d = c.parent().get(0); if (d === document.body || b.options.forceFixPosition) { var e = b.options.orientation, f = c.outerHeight(), g = b.el.outerHeight(), h = b.el.offset(), i = { top: h.top, left: h.left }; if ("auto" === e) { var j = a(window).height(), k = a(window).scrollTop(), l = -k + h.top - f, m = k + j - (h.top + g + f); e = Math.max(l, m) === l ? "top" : "bottom" } if ("top" === e ? i.top += -f : i.top += g, d !== document.body) { var n, o = c.css("opacity"); b.visible || c.css("opacity", 0).show(), n = c.offsetParent().offset(), i.top -= n.top, i.top += d.scrollTop, i.left -= n.left, b.visible || c.css("opacity", o).hide() } "auto" === b.options.width && (i.width = b.el.outerWidth() + "px"), c.css(i) } }, isCursorAtEnd: function () { var a, b = this, c = b.el.val().length, d = b.element.selectionStart; return "number" == typeof d ? d === c : !document.selection || (a = document.selection.createRange(), a.moveStart("character", -c), c === a.text.length) }, onKeyPress: function (a) { var b = this; if (!b.disabled && !b.visible && a.which === h.DOWN && b.currentValue) return void b.suggest(); if (!b.disabled && b.visible) { switch (a.which) { case h.ESC: b.el.val(b.currentValue), b.hide(); break; case h.RIGHT: if (b.hint && b.options.onHint && b.isCursorAtEnd()) { b.selectHint(); break } return; case h.TAB: if (b.hint && b.options.onHint) return void b.selectHint(); if (b.selectedIndex === -1) return void b.hide(); if (b.select(b.selectedIndex), b.options.tabDisabled === !1) return; break; case h.RETURN: if (b.selectedIndex === -1) return void b.hide(); b.select(b.selectedIndex); break; case h.UP: b.moveUp(); break; case h.DOWN: b.moveDown(); break; default: return }a.stopImmediatePropagation(), a.preventDefault() } }, onKeyUp: function (a) { var b = this; if (!b.disabled) { switch (a.which) { case h.UP: case h.DOWN: return }clearTimeout(b.onChangeTimeout), b.currentValue !== b.el.val() && (b.findBestHint(), b.options.deferRequestBy > 0 ? b.onChangeTimeout = setTimeout(function () { b.onValueChange() }, b.options.deferRequestBy) : b.onValueChange()) } }, onValueChange: function () { if (this.ignoreValueChange) return void (this.ignoreValueChange = !1); var b = this, c = b.options, d = b.el.val(), e = b.getQuery(d); return b.selection && b.currentValue !== e && (b.selection = null, (c.onInvalidateSelection || a.noop).call(b.element)), clearTimeout(b.onChangeTimeout), b.currentValue = d, b.selectedIndex = -1, c.triggerSelectOnValidInput && b.isExactMatch(e) ? void b.select(0) : void (e.length < c.minChars ? b.hide() : b.getSuggestions(e)) }, isExactMatch: function (a) { var b = this.suggestions; return 1 === b.length && b[0].value.toLowerCase() === a.toLowerCase() }, getQuery: function (b) { var c, d = this.options.delimiter; return d ? (c = b.split(d), a.trim(c[c.length - 1])) : b }, getSuggestionsLocal: function (b) { var c, d = this, e = d.options, f = b.toLowerCase(), g = e.lookupFilter, h = parseInt(e.lookupLimit, 10); return c = { suggestions: a.grep(e.lookup, function (a) { return g(a, b, f) }) }, h && c.suggestions.length > h && (c.suggestions = c.suggestions.slice(0, h)), c }, getSuggestions: function (b) { var c, d, e, f, g = this, h = g.options, i = h.serviceUrl; if (h.params[h.paramName] = b, h.onSearchStart.call(g.element, h.params) !== !1) { if (d = h.ignoreParams ? null : h.params, a.isFunction(h.lookup)) return void h.lookup(b, function (a) { g.suggestions = a.suggestions, g.suggest(), h.onSearchComplete.call(g.element, b, a.suggestions) }); g.isLocal ? c = g.getSuggestionsLocal(b) : (a.isFunction(i) && (i = i.call(g.element, b)), e = i + "?" + a.param(d || {}), c = g.cachedResponse[e]), c && Array.isArray(c.suggestions) ? (g.suggestions = c.suggestions, g.suggest(), h.onSearchComplete.call(g.element, b, c.suggestions)) : g.isBadQuery(b) ? h.onSearchComplete.call(g.element, b, []) : (g.abortAjax(), f = { url: i, data: d, type: h.type, dataType: h.dataType }, a.extend(f, h.ajaxSettings), g.currentRequest = a.ajax(f).done(function (a) { var c; g.currentRequest = null, c = h.transformResult(a, b), g.processResponse(c, b, e), h.onSearchComplete.call(g.element, b, c.suggestions) }).fail(function (a, c, d) { h.onSearchError.call(g.element, b, a, c, d) })) } }, isBadQuery: function (a) { if (!this.options.preventBadQueries) return !1; for (var b = this.badQueries, c = b.length; c--;)if (0 === a.indexOf(b[c])) return !0; return !1 }, hide: function () { var b = this, c = a(b.suggestionsContainer); a.isFunction(b.options.onHide) && b.visible && b.options.onHide.call(b.element, c), b.visible = !1, b.selectedIndex = -1, clearTimeout(b.onChangeTimeout), a(b.suggestionsContainer).hide(), b.signalHint(null) }, suggest: function () { if (!this.suggestions.length) return void (this.options.showNoSuggestionNotice ? this.noSuggestions() : this.hide()); var b, c = this, d = c.options, e = d.groupBy, f = d.formatResult, g = c.getQuery(c.currentValue), h = c.classes.suggestion, i = c.classes.selected, j = a(c.suggestionsContainer), k = a(c.noSuggestionsContainer), l = d.beforeRender, m = "", n = function (a, c) { var f = a.data[e]; return b === f ? "" : (b = f, d.formatGroup(a, b)) }; return d.triggerSelectOnValidInput && c.isExactMatch(g) ? void c.select(0) : (a.each(c.suggestions, function (a, b) { e && (m += n(b, g, a)), m += '<div class="' + h + '" data-index="' + a + '">' + f(b, g, a) + "</div>" }), this.adjustContainerWidth(), k.detach(), j.html(m), a.isFunction(l) && l.call(c.element, j, c.suggestions), c.fixPosition(), j.show(), d.autoSelectFirst && (c.selectedIndex = 0, j.scrollTop(0), j.children("." + h).first().addClass(i)), c.visible = !0, void c.findBestHint()) }, noSuggestions: function () { var b = this, c = b.options.beforeRender, d = a(b.suggestionsContainer), e = a(b.noSuggestionsContainer); this.adjustContainerWidth(), e.detach(), d.empty(), d.append(e), a.isFunction(c) && c.call(b.element, d, b.suggestions), b.fixPosition(), d.show(), b.visible = !0 }, adjustContainerWidth: function () { var b, c = this, d = c.options, e = a(c.suggestionsContainer); "auto" === d.width ? (b = c.el.outerWidth(), e.css("width", b > 0 ? b : 300)) : "flex" === d.width && e.css("width", "") }, findBestHint: function () { var b = this, c = b.el.val().toLowerCase(), d = null; c && (a.each(b.suggestions, function (a, b) { var e = 0 === b.value.toLowerCase().indexOf(c); return e && (d = b), !e }), b.signalHint(d)) }, signalHint: function (b) { var c = "", d = this; b && (c = d.currentValue + b.value.substr(d.currentValue.length)), d.hintValue !== c && (d.hintValue = c, d.hint = b, (this.options.onHint || a.noop)(c)) }, verifySuggestionsFormat: function (b) { return b.length && "string" == typeof b[0] ? a.map(b, function (a) { return { value: a, data: null } }) : b }, validateOrientation: function (b, c) { return b = a.trim(b || "").toLowerCase(), a.inArray(b, ["auto", "bottom", "top"]) === -1 && (b = c), b }, processResponse: function (a, b, c) { var d = this, e = d.options; a.suggestions = d.verifySuggestionsFormat(a.suggestions), e.noCache || (d.cachedResponse[c] = a, e.preventBadQueries && !a.suggestions.length && d.badQueries.push(b)), b === d.getQuery(d.currentValue) && (d.suggestions = a.suggestions, d.suggest()) }, activate: function (b) { var c, d = this, e = d.classes.selected, f = a(d.suggestionsContainer), g = f.find("." + d.classes.suggestion); return f.find("." + e).removeClass(e), d.selectedIndex = b, d.selectedIndex !== -1 && g.length > d.selectedIndex ? (c = g.get(d.selectedIndex), a(c).addClass(e), c) : null }, selectHint: function () { var b = this, c = a.inArray(b.hint, b.suggestions); b.select(c) }, select: function (a) { var b = this; b.hide(), b.onSelect(a) }, moveUp: function () { var b = this; if (b.selectedIndex !== -1) return 0 === b.selectedIndex ? (a(b.suggestionsContainer).children("." + b.classes.suggestion).first().removeClass(b.classes.selected), b.selectedIndex = -1, b.ignoreValueChange = !1, b.el.val(b.currentValue), void b.findBestHint()) : void b.adjustScroll(b.selectedIndex - 1) }, moveDown: function () { var a = this; a.selectedIndex !== a.suggestions.length - 1 && a.adjustScroll(a.selectedIndex + 1) }, adjustScroll: function (b) { var c = this, d = c.activate(b); if (d) { var e, f, g, h = a(d).outerHeight(); e = d.offsetTop, f = a(c.suggestionsContainer).scrollTop(), g = f + c.options.maxHeight - h, e < f ? a(c.suggestionsContainer).scrollTop(e) : e > g && a(c.suggestionsContainer).scrollTop(e - c.options.maxHeight + h), c.options.preserveInput || (c.ignoreValueChange = !0, c.el.val(c.getValue(c.suggestions[b].value))), c.signalHint(null) } }, onSelect: function (b) { var c = this, d = c.options.onSelect, e = c.suggestions[b]; c.currentValue = c.getValue(e.value), c.currentValue === c.el.val() || c.options.preserveInput || c.el.val(c.currentValue), c.signalHint(null), c.suggestions = [], c.selection = e, a.isFunction(d) && d.call(c.element, e) }, getValue: function (a) { var b, c, d = this, e = d.options.delimiter; return e ? (b = d.currentValue, c = b.split(e), 1 === c.length ? a : b.substr(0, b.length - c[c.length - 1].length) + a) : a }, dispose: function () { var b = this; b.el.off(".autocomplete").removeData("autocomplete"), a(window).off("resize.autocomplete", b.fixPositionCapture), a(b.suggestionsContainer).remove() } }, a.fn.devbridgeAutocomplete = function (c, d) { var e = "autocomplete"; return arguments.length ? this.each(function () { var f = a(this), g = f.data(e); "string" == typeof c ? g && "function" == typeof g[c] && g[c](d) : (g && g.dispose && g.dispose(), g = new b(this, c), f.data(e, g)) }) : this.first().data(e) }, a.fn.autocomplete || (a.fn.autocomplete = a.fn.devbridgeAutocomplete) });;/*!
 * Datepicker for Bootstrap v1.9.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */

!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : jQuery) }(function (a, b) {
  function c() { return new Date(Date.UTC.apply(Date, arguments)) } function d() { var a = new Date; return c(a.getFullYear(), a.getMonth(), a.getDate()) } function e(a, b) { return a.getUTCFullYear() === b.getUTCFullYear() && a.getUTCMonth() === b.getUTCMonth() && a.getUTCDate() === b.getUTCDate() } function f(c, d) { return function () { return d !== b && a.fn.datepicker.deprecated(d), this[c].apply(this, arguments) } } function g(a) { return a && !isNaN(a.getTime()) } function h(b, c) { function d(a, b) { return b.toLowerCase() } var e, f = a(b).data(), g = {}, h = new RegExp("^" + c.toLowerCase() + "([A-Z])"); c = new RegExp("^" + c.toLowerCase()); for (var i in f) c.test(i) && (e = i.replace(h, d), g[e] = f[i]); return g } function i(b) { var c = {}; if (q[b] || (b = b.split("-")[0], q[b])) { var d = q[b]; return a.each(p, function (a, b) { b in d && (c[b] = d[b]) }), c } } var j = function () { var b = { get: function (a) { return this.slice(a)[0] }, contains: function (a) { for (var b = a && a.valueOf(), c = 0, d = this.length; c < d; c++)if (0 <= this[c].valueOf() - b && this[c].valueOf() - b < 864e5) return c; return -1 }, remove: function (a) { this.splice(a, 1) }, replace: function (b) { b && (a.isArray(b) || (b = [b]), this.clear(), this.push.apply(this, b)) }, clear: function () { this.length = 0 }, copy: function () { var a = new j; return a.replace(this), a } }; return function () { var c = []; return c.push.apply(c, arguments), a.extend(c, b), c } }(), k = function (b, c) { a.data(b, "datepicker", this), this._events = [], this._secondaryEvents = [], this._process_options(c), this.dates = new j, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = a(b), this.isInput = this.element.is("input"), this.inputField = this.isInput ? this.element : this.element.find("input"), this.component = !!this.element.hasClass("date") && this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"), this.component && 0 === this.component.length && (this.component = !1), this.isInline = !this.component && this.element.is("div"), this.picker = a(r.template), this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow), this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.o.calendarWeeks && this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function (a, b) { return Number(b) + 1 }), this._process_options({ startDate: this._o.startDate, endDate: this._o.endDate, daysOfWeekDisabled: this.o.daysOfWeekDisabled, daysOfWeekHighlighted: this.o.daysOfWeekHighlighted, datesDisabled: this.o.datesDisabled }), this._allow_update = !1, this.setViewMode(this.o.startView), this._allow_update = !0, this.fillDow(), this.fillMonths(), this.update(), this.isInline && this.show() }; k.prototype = { constructor: k, _resolveViewName: function (b) { return a.each(r.viewModes, function (c, d) { if (b === c || -1 !== a.inArray(b, d.names)) return b = c, !1 }), b }, _resolveDaysOfWeek: function (b) { return a.isArray(b) || (b = b.split(/[,\s]*/)), a.map(b, Number) }, _check_template: function (c) { try { if (c === b || "" === c) return !1; if ((c.match(/[<>]/g) || []).length <= 0) return !0; return a(c).length > 0 } catch (a) { return !1 } }, _process_options: function (b) { this._o = a.extend({}, this._o, b); var e = this.o = a.extend({}, this._o), f = e.language; q[f] || (f = f.split("-")[0], q[f] || (f = o.language)), e.language = f, e.startView = this._resolveViewName(e.startView), e.minViewMode = this._resolveViewName(e.minViewMode), e.maxViewMode = this._resolveViewName(e.maxViewMode), e.startView = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, e.startView)), !0 !== e.multidate && (e.multidate = Number(e.multidate) || !1, !1 !== e.multidate && (e.multidate = Math.max(0, e.multidate))), e.multidateSeparator = String(e.multidateSeparator), e.weekStart %= 7, e.weekEnd = (e.weekStart + 6) % 7; var g = r.parseFormat(e.format); e.startDate !== -1 / 0 && (e.startDate ? e.startDate instanceof Date ? e.startDate = this._local_to_utc(this._zero_time(e.startDate)) : e.startDate = r.parseDate(e.startDate, g, e.language, e.assumeNearbyYear) : e.startDate = -1 / 0), e.endDate !== 1 / 0 && (e.endDate ? e.endDate instanceof Date ? e.endDate = this._local_to_utc(this._zero_time(e.endDate)) : e.endDate = r.parseDate(e.endDate, g, e.language, e.assumeNearbyYear) : e.endDate = 1 / 0), e.daysOfWeekDisabled = this._resolveDaysOfWeek(e.daysOfWeekDisabled || []), e.daysOfWeekHighlighted = this._resolveDaysOfWeek(e.daysOfWeekHighlighted || []), e.datesDisabled = e.datesDisabled || [], a.isArray(e.datesDisabled) || (e.datesDisabled = e.datesDisabled.split(",")), e.datesDisabled = a.map(e.datesDisabled, function (a) { return r.parseDate(a, g, e.language, e.assumeNearbyYear) }); var h = String(e.orientation).toLowerCase().split(/\s+/g), i = e.orientation.toLowerCase(); if (h = a.grep(h, function (a) { return /^auto|left|right|top|bottom$/.test(a) }), e.orientation = { x: "auto", y: "auto" }, i && "auto" !== i) if (1 === h.length) switch (h[0]) { case "top": case "bottom": e.orientation.y = h[0]; break; case "left": case "right": e.orientation.x = h[0] } else i = a.grep(h, function (a) { return /^left|right$/.test(a) }), e.orientation.x = i[0] || "auto", i = a.grep(h, function (a) { return /^top|bottom$/.test(a) }), e.orientation.y = i[0] || "auto"; else; if (e.defaultViewDate instanceof Date || "string" == typeof e.defaultViewDate) e.defaultViewDate = r.parseDate(e.defaultViewDate, g, e.language, e.assumeNearbyYear); else if (e.defaultViewDate) { var j = e.defaultViewDate.year || (new Date).getFullYear(), k = e.defaultViewDate.month || 0, l = e.defaultViewDate.day || 1; e.defaultViewDate = c(j, k, l) } else e.defaultViewDate = d() }, _applyEvents: function (a) { for (var c, d, e, f = 0; f < a.length; f++)c = a[f][0], 2 === a[f].length ? (d = b, e = a[f][1]) : 3 === a[f].length && (d = a[f][1], e = a[f][2]), c.on(e, d) }, _unapplyEvents: function (a) { for (var c, d, e, f = 0; f < a.length; f++)c = a[f][0], 2 === a[f].length ? (e = b, d = a[f][1]) : 3 === a[f].length && (e = a[f][1], d = a[f][2]), c.off(d, e) }, _buildEvents: function () { var b = { keyup: a.proxy(function (b) { -1 === a.inArray(b.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update() }, this), keydown: a.proxy(this.keydown, this), paste: a.proxy(this.paste, this) }; !0 === this.o.showOnFocus && (b.focus = a.proxy(this.show, this)), this.isInput ? this._events = [[this.element, b]] : this.component && this.inputField.length ? this._events = [[this.inputField, b], [this.component, { click: a.proxy(this.show, this) }]] : this._events = [[this.element, { click: a.proxy(this.show, this), keydown: a.proxy(this.keydown, this) }]], this._events.push([this.element, "*", { blur: a.proxy(function (a) { this._focused_from = a.target }, this) }], [this.element, { blur: a.proxy(function (a) { this._focused_from = a.target }, this) }]), this.o.immediateUpdates && this._events.push([this.element, { "changeYear changeMonth": a.proxy(function (a) { this.update(a.date) }, this) }]), this._secondaryEvents = [[this.picker, { click: a.proxy(this.click, this) }], [this.picker, ".prev, .next", { click: a.proxy(this.navArrowsClick, this) }], [this.picker, ".day:not(.disabled)", { click: a.proxy(this.dayCellClick, this) }], [a(window), { resize: a.proxy(this.place, this) }], [a(document), { "mousedown touchstart": a.proxy(function (a) { this.element.is(a.target) || this.element.find(a.target).length || this.picker.is(a.target) || this.picker.find(a.target).length || this.isInline || this.hide() }, this) }]] }, _attachEvents: function () { this._detachEvents(), this._applyEvents(this._events) }, _detachEvents: function () { this._unapplyEvents(this._events) }, _attachSecondaryEvents: function () { this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents) }, _detachSecondaryEvents: function () { this._unapplyEvents(this._secondaryEvents) }, _trigger: function (b, c) { var d = c || this.dates.get(-1), e = this._utc_to_local(d); this.element.trigger({ type: b, date: e, viewMode: this.viewMode, dates: a.map(this.dates, this._utc_to_local), format: a.proxy(function (a, b) { 0 === arguments.length ? (a = this.dates.length - 1, b = this.o.format) : "string" == typeof a && (b = a, a = this.dates.length - 1), b = b || this.o.format; var c = this.dates.get(a); return r.formatDate(c, b, this.o.language) }, this) }) }, show: function () { if (!(this.inputField.is(":disabled") || this.inputField.prop("readonly") && !1 === this.o.enableOnReadonly)) return this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && a(this.element).blur(), this }, hide: function () { return this.isInline || !this.picker.is(":visible") ? this : (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.setViewMode(this.o.startView), this.o.forceParse && this.inputField.val() && this.setValue(), this._trigger("hide"), this) }, destroy: function () { return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this }, paste: function (b) { var c; if (b.originalEvent.clipboardData && b.originalEvent.clipboardData.types && -1 !== a.inArray("text/plain", b.originalEvent.clipboardData.types)) c = b.originalEvent.clipboardData.getData("text/plain"); else { if (!window.clipboardData) return; c = window.clipboardData.getData("Text") } this.setDate(c), this.update(), b.preventDefault() }, _utc_to_local: function (a) { if (!a) return a; var b = new Date(a.getTime() + 6e4 * a.getTimezoneOffset()); return b.getTimezoneOffset() !== a.getTimezoneOffset() && (b = new Date(a.getTime() + 6e4 * b.getTimezoneOffset())), b }, _local_to_utc: function (a) { return a && new Date(a.getTime() - 6e4 * a.getTimezoneOffset()) }, _zero_time: function (a) { return a && new Date(a.getFullYear(), a.getMonth(), a.getDate()) }, _zero_utc_time: function (a) { return a && c(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate()) }, getDates: function () { return a.map(this.dates, this._utc_to_local) }, getUTCDates: function () { return a.map(this.dates, function (a) { return new Date(a) }) }, getDate: function () { return this._utc_to_local(this.getUTCDate()) }, getUTCDate: function () { var a = this.dates.get(-1); return a !== b ? new Date(a) : null }, clearDates: function () { this.inputField.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide() }, setDates: function () { var b = a.isArray(arguments[0]) ? arguments[0] : arguments; return this.update.apply(this, b), this._trigger("changeDate"), this.setValue(), this }, setUTCDates: function () { var b = a.isArray(arguments[0]) ? arguments[0] : arguments; return this.setDates.apply(this, a.map(b, this._utc_to_local)), this }, setDate: f("setDates"), setUTCDate: f("setUTCDates"), remove: f("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"), setValue: function () { var a = this.getFormattedDate(); return this.inputField.val(a), this }, getFormattedDate: function (c) { c === b && (c = this.o.format); var d = this.o.language; return a.map(this.dates, function (a) { return r.formatDate(a, c, d) }).join(this.o.multidateSeparator) }, getStartDate: function () { return this.o.startDate }, setStartDate: function (a) { return this._process_options({ startDate: a }), this.update(), this.updateNavArrows(), this }, getEndDate: function () { return this.o.endDate }, setEndDate: function (a) { return this._process_options({ endDate: a }), this.update(), this.updateNavArrows(), this }, setDaysOfWeekDisabled: function (a) { return this._process_options({ daysOfWeekDisabled: a }), this.update(), this }, setDaysOfWeekHighlighted: function (a) { return this._process_options({ daysOfWeekHighlighted: a }), this.update(), this }, setDatesDisabled: function (a) { return this._process_options({ datesDisabled: a }), this.update(), this }, place: function () { if (this.isInline) return this; var b = this.picker.outerWidth(), c = this.picker.outerHeight(), d = a(this.o.container), e = d.width(), f = "body" === this.o.container ? a(document).scrollTop() : d.scrollTop(), g = d.offset(), h = [0]; this.element.parents().each(function () { var b = a(this).css("z-index"); "auto" !== b && 0 !== Number(b) && h.push(Number(b)) }); var i = Math.max.apply(Math, h) + this.o.zIndexOffset, j = this.component ? this.component.parent().offset() : this.element.offset(), k = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1), l = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), m = j.left - g.left, n = j.top - g.top; "body" !== this.o.container && (n += f), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (m -= b - l)) : j.left < 0 ? (this.picker.addClass("datepicker-orient-left"), m -= j.left - 10) : m + b > e ? (this.picker.addClass("datepicker-orient-right"), m += l - b) : this.o.rtl ? this.picker.addClass("datepicker-orient-right") : this.picker.addClass("datepicker-orient-left"); var o, p = this.o.orientation.y; if ("auto" === p && (o = -f + n - c, p = o < 0 ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + p), "top" === p ? n -= c + parseInt(this.picker.css("padding-top")) : n += k, this.o.rtl) { var q = e - (m + l); this.picker.css({ top: n, right: q, zIndex: i }) } else this.picker.css({ top: n, left: m, zIndex: i }); return this }, _allow_update: !0, update: function () { if (!this._allow_update) return this; var b = this.dates.copy(), c = [], d = !1; return arguments.length ? (a.each(arguments, a.proxy(function (a, b) { b instanceof Date && (b = this._local_to_utc(b)), c.push(b) }, this)), d = !0) : (c = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val(), c = c && this.o.multidate ? c.split(this.o.multidateSeparator) : [c], delete this.element.data().date), c = a.map(c, a.proxy(function (a) { return r.parseDate(a, this.o.format, this.o.language, this.o.assumeNearbyYear) }, this)), c = a.grep(c, a.proxy(function (a) { return !this.dateWithinRange(a) || !a }, this), !0), this.dates.replace(c), this.o.updateViewDate && (this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate), d ? (this.setValue(), this.element.change()) : this.dates.length && String(b) !== String(this.dates) && d && (this._trigger("changeDate"), this.element.change()), !this.dates.length && b.length && (this._trigger("clearDate"), this.element.change()), this.fill(), this }, fillDow: function () { if (this.o.showWeekDays) { var b = this.o.weekStart, c = "<tr>"; for (this.o.calendarWeeks && (c += '<th class="cw">&#160;</th>'); b < this.o.weekStart + 7;)c += '<th class="dow', -1 !== a.inArray(b, this.o.daysOfWeekDisabled) && (c += " disabled"), c += '">' + q[this.o.language].daysMin[b++ % 7] + "</th>"; c += "</tr>", this.picker.find(".datepicker-days thead").append(c) } }, fillMonths: function () { for (var a, b = this._utc_to_local(this.viewDate), c = "", d = 0; d < 12; d++)a = b && b.getMonth() === d ? " focused" : "", c += '<span class="month' + a + '">' + q[this.o.language].monthsShort[d] + "</span>"; this.picker.find(".datepicker-months td").html(c) }, setRange: function (b) { b && b.length ? this.range = a.map(b, function (a) { return a.valueOf() }) : delete this.range, this.fill() }, getClassNames: function (b) { var c = [], f = this.viewDate.getUTCFullYear(), g = this.viewDate.getUTCMonth(), h = d(); return b.getUTCFullYear() < f || b.getUTCFullYear() === f && b.getUTCMonth() < g ? c.push("old") : (b.getUTCFullYear() > f || b.getUTCFullYear() === f && b.getUTCMonth() > g) && c.push("new"), this.focusDate && b.valueOf() === this.focusDate.valueOf() && c.push("focused"), this.o.todayHighlight && e(b, h) && c.push("today"), -1 !== this.dates.contains(b) && c.push("active"), this.dateWithinRange(b) || c.push("disabled"), this.dateIsDisabled(b) && c.push("disabled", "disabled-date"), -1 !== a.inArray(b.getUTCDay(), this.o.daysOfWeekHighlighted) && c.push("highlighted"), this.range && (b > this.range[0] && b < this.range[this.range.length - 1] && c.push("range"), -1 !== a.inArray(b.valueOf(), this.range) && c.push("selected"), b.valueOf() === this.range[0] && c.push("range-start"), b.valueOf() === this.range[this.range.length - 1] && c.push("range-end")), c }, _fill_yearsView: function (c, d, e, f, g, h, i) { for (var j, k, l, m = "", n = e / 10, o = this.picker.find(c), p = Math.floor(f / e) * e, q = p + 9 * n, r = Math.floor(this.viewDate.getFullYear() / n) * n, s = a.map(this.dates, function (a) { return Math.floor(a.getUTCFullYear() / n) * n }), t = p - n; t <= q + n; t += n)j = [d], k = null, t === p - n ? j.push("old") : t === q + n && j.push("new"), -1 !== a.inArray(t, s) && j.push("active"), (t < g || t > h) && j.push("disabled"), t === r && j.push("focused"), i !== a.noop && (l = i(new Date(t, 0, 1)), l === b ? l = {} : "boolean" == typeof l ? l = { enabled: l } : "string" == typeof l && (l = { classes: l }), !1 === l.enabled && j.push("disabled"), l.classes && (j = j.concat(l.classes.split(/\s+/))), l.tooltip && (k = l.tooltip)), m += '<span class="' + j.join(" ") + '"' + (k ? ' title="' + k + '"' : "") + ">" + t + "</span>"; o.find(".datepicker-switch").text(p + "-" + q), o.find("td").html(m) }, fill: function () { var e, f, g = new Date(this.viewDate), h = g.getUTCFullYear(), i = g.getUTCMonth(), j = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, k = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, l = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, m = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, n = q[this.o.language].today || q.en.today || "", o = q[this.o.language].clear || q.en.clear || "", p = q[this.o.language].titleFormat || q.en.titleFormat, s = d(), t = (!0 === this.o.todayBtn || "linked" === this.o.todayBtn) && s >= this.o.startDate && s <= this.o.endDate && !this.weekOfDateIsDisabled(s); if (!isNaN(h) && !isNaN(i)) { this.picker.find(".datepicker-days .datepicker-switch").text(r.formatDate(g, p, this.o.language)), this.picker.find("tfoot .today").text(n).css("display", t ? "table-cell" : "none"), this.picker.find("tfoot .clear").text(o).css("display", !0 === this.o.clearBtn ? "table-cell" : "none"), this.picker.find("thead .datepicker-title").text(this.o.title).css("display", "string" == typeof this.o.title && "" !== this.o.title ? "table-cell" : "none"), this.updateNavArrows(), this.fillMonths(); var u = c(h, i, 0), v = u.getUTCDate(); u.setUTCDate(v - (u.getUTCDay() - this.o.weekStart + 7) % 7); var w = new Date(u); u.getUTCFullYear() < 100 && w.setUTCFullYear(u.getUTCFullYear()), w.setUTCDate(w.getUTCDate() + 42), w = w.valueOf(); for (var x, y, z = []; u.valueOf() < w;) { if ((x = u.getUTCDay()) === this.o.weekStart && (z.push("<tr>"), this.o.calendarWeeks)) { var A = new Date(+u + (this.o.weekStart - x - 7) % 7 * 864e5), B = new Date(Number(A) + (11 - A.getUTCDay()) % 7 * 864e5), C = new Date(Number(C = c(B.getUTCFullYear(), 0, 1)) + (11 - C.getUTCDay()) % 7 * 864e5), D = (B - C) / 864e5 / 7 + 1; z.push('<td class="cw">' + D + "</td>") } y = this.getClassNames(u), y.push("day"); var E = u.getUTCDate(); this.o.beforeShowDay !== a.noop && (f = this.o.beforeShowDay(this._utc_to_local(u)), f === b ? f = {} : "boolean" == typeof f ? f = { enabled: f } : "string" == typeof f && (f = { classes: f }), !1 === f.enabled && y.push("disabled"), f.classes && (y = y.concat(f.classes.split(/\s+/))), f.tooltip && (e = f.tooltip), f.content && (E = f.content)), y = a.isFunction(a.uniqueSort) ? a.uniqueSort(y) : a.unique(y), z.push('<td class="' + y.join(" ") + '"' + (e ? ' title="' + e + '"' : "") + ' data-date="' + u.getTime().toString() + '">' + E + "</td>"), e = null, x === this.o.weekEnd && z.push("</tr>"), u.setUTCDate(u.getUTCDate() + 1) } this.picker.find(".datepicker-days tbody").html(z.join("")); var F = q[this.o.language].monthsTitle || q.en.monthsTitle || "Months", G = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? F : h).end().find("tbody span").removeClass("active"); if (a.each(this.dates, function (a, b) { b.getUTCFullYear() === h && G.eq(b.getUTCMonth()).addClass("active") }), (h < j || h > l) && G.addClass("disabled"), h === j && G.slice(0, k).addClass("disabled"), h === l && G.slice(m + 1).addClass("disabled"), this.o.beforeShowMonth !== a.noop) { var H = this; a.each(G, function (c, d) { var e = new Date(h, c, 1), f = H.o.beforeShowMonth(e); f === b ? f = {} : "boolean" == typeof f ? f = { enabled: f } : "string" == typeof f && (f = { classes: f }), !1 !== f.enabled || a(d).hasClass("disabled") || a(d).addClass("disabled"), f.classes && a(d).addClass(f.classes), f.tooltip && a(d).prop("title", f.tooltip) }) } this._fill_yearsView(".datepicker-years", "year", 10, h, j, l, this.o.beforeShowYear), this._fill_yearsView(".datepicker-decades", "decade", 100, h, j, l, this.o.beforeShowDecade), this._fill_yearsView(".datepicker-centuries", "century", 1e3, h, j, l, this.o.beforeShowCentury) } }, updateNavArrows: function () { if (this._allow_update) { var a, b, c = new Date(this.viewDate), d = c.getUTCFullYear(), e = c.getUTCMonth(), f = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, g = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, h = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, i = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, j = 1; switch (this.viewMode) { case 4: j *= 10; case 3: j *= 10; case 2: j *= 10; case 1: a = Math.floor(d / j) * j <= f, b = Math.floor(d / j) * j + j > h; break; case 0: a = d <= f && e <= g, b = d >= h && e >= i }this.picker.find(".prev").toggleClass("disabled", a), this.picker.find(".next").toggleClass("disabled", b) } }, click: function (b) { b.preventDefault(), b.stopPropagation(); var e, f, g, h; e = a(b.target), e.hasClass("datepicker-switch") && this.viewMode !== this.o.maxViewMode && this.setViewMode(this.viewMode + 1), e.hasClass("today") && !e.hasClass("day") && (this.setViewMode(0), this._setDate(d(), "linked" === this.o.todayBtn ? null : "view")), e.hasClass("clear") && this.clearDates(), e.hasClass("disabled") || (e.hasClass("month") || e.hasClass("year") || e.hasClass("decade") || e.hasClass("century")) && (this.viewDate.setUTCDate(1), f = 1, 1 === this.viewMode ? (h = e.parent().find("span").index(e), g = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(h)) : (h = 0, g = Number(e.text()), this.viewDate.setUTCFullYear(g)), this._trigger(r.viewModes[this.viewMode - 1].e, this.viewDate), this.viewMode === this.o.minViewMode ? this._setDate(c(g, h, f)) : (this.setViewMode(this.viewMode - 1), this.fill())), this.picker.is(":visible") && this._focused_from && this._focused_from.focus(), delete this._focused_from }, dayCellClick: function (b) { var c = a(b.currentTarget), d = c.data("date"), e = new Date(d); this.o.updateViewDate && (e.getUTCFullYear() !== this.viewDate.getUTCFullYear() && this._trigger("changeYear", this.viewDate), e.getUTCMonth() !== this.viewDate.getUTCMonth() && this._trigger("changeMonth", this.viewDate)), this._setDate(e) }, navArrowsClick: function (b) { var c = a(b.currentTarget), d = c.hasClass("prev") ? -1 : 1; 0 !== this.viewMode && (d *= 12 * r.viewModes[this.viewMode].navStep), this.viewDate = this.moveMonth(this.viewDate, d), this._trigger(r.viewModes[this.viewMode].e, this.viewDate), this.fill() }, _toggle_multidate: function (a) { var b = this.dates.contains(a); if (a || this.dates.clear(), -1 !== b ? (!0 === this.o.multidate || this.o.multidate > 1 || this.o.toggleActive) && this.dates.remove(b) : !1 === this.o.multidate ? (this.dates.clear(), this.dates.push(a)) : this.dates.push(a), "number" == typeof this.o.multidate) for (; this.dates.length > this.o.multidate;)this.dates.remove(0) }, _setDate: function (a, b) { b && "date" !== b || this._toggle_multidate(a && new Date(a)), (!b && this.o.updateViewDate || "view" === b) && (this.viewDate = a && new Date(a)), this.fill(), this.setValue(), b && "view" === b || this._trigger("changeDate"), this.inputField.trigger("change"), !this.o.autoclose || b && "date" !== b || this.hide() }, moveDay: function (a, b) { var c = new Date(a); return c.setUTCDate(a.getUTCDate() + b), c }, moveWeek: function (a, b) { return this.moveDay(a, 7 * b) }, moveMonth: function (a, b) { if (!g(a)) return this.o.defaultViewDate; if (!b) return a; var c, d, e = new Date(a.valueOf()), f = e.getUTCDate(), h = e.getUTCMonth(), i = Math.abs(b); if (b = b > 0 ? 1 : -1, 1 === i) d = -1 === b ? function () { return e.getUTCMonth() === h } : function () { return e.getUTCMonth() !== c }, c = h + b, e.setUTCMonth(c), c = (c + 12) % 12; else { for (var j = 0; j < i; j++)e = this.moveMonth(e, b); c = e.getUTCMonth(), e.setUTCDate(f), d = function () { return c !== e.getUTCMonth() } } for (; d();)e.setUTCDate(--f), e.setUTCMonth(c); return e }, moveYear: function (a, b) { return this.moveMonth(a, 12 * b) }, moveAvailableDate: function (a, b, c) { do { if (a = this[c](a, b), !this.dateWithinRange(a)) return !1; c = "moveDay" } while (this.dateIsDisabled(a)); return a }, weekOfDateIsDisabled: function (b) { return -1 !== a.inArray(b.getUTCDay(), this.o.daysOfWeekDisabled) }, dateIsDisabled: function (b) { return this.weekOfDateIsDisabled(b) || a.grep(this.o.datesDisabled, function (a) { return e(b, a) }).length > 0 }, dateWithinRange: function (a) { return a >= this.o.startDate && a <= this.o.endDate }, keydown: function (a) { if (!this.picker.is(":visible")) return void (40 !== a.keyCode && 27 !== a.keyCode || (this.show(), a.stopPropagation())); var b, c, d = !1, e = this.focusDate || this.viewDate; switch (a.keyCode) { case 27: this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), a.preventDefault(), a.stopPropagation(); break; case 37: case 38: case 39: case 40: if (!this.o.keyboardNavigation || 7 === this.o.daysOfWeekDisabled.length) break; b = 37 === a.keyCode || 38 === a.keyCode ? -1 : 1, 0 === this.viewMode ? a.ctrlKey ? (c = this.moveAvailableDate(e, b, "moveYear")) && this._trigger("changeYear", this.viewDate) : a.shiftKey ? (c = this.moveAvailableDate(e, b, "moveMonth")) && this._trigger("changeMonth", this.viewDate) : 37 === a.keyCode || 39 === a.keyCode ? c = this.moveAvailableDate(e, b, "moveDay") : this.weekOfDateIsDisabled(e) || (c = this.moveAvailableDate(e, b, "moveWeek")) : 1 === this.viewMode ? (38 !== a.keyCode && 40 !== a.keyCode || (b *= 4), c = this.moveAvailableDate(e, b, "moveMonth")) : 2 === this.viewMode && (38 !== a.keyCode && 40 !== a.keyCode || (b *= 4), c = this.moveAvailableDate(e, b, "moveYear")), c && (this.focusDate = this.viewDate = c, this.setValue(), this.fill(), a.preventDefault()); break; case 13: if (!this.o.forceParse) break; e = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(e), d = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (a.preventDefault(), a.stopPropagation(), this.o.autoclose && this.hide()); break; case 9: this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide() }d && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.inputField.trigger("change")) }, setViewMode: function (a) { this.viewMode = a, this.picker.children("div").hide().filter(".datepicker-" + r.viewModes[this.viewMode].clsName).show(), this.updateNavArrows(), this._trigger("changeViewMode", new Date(this.viewDate)) } }; var l = function (b, c) { a.data(b, "datepicker", this), this.element = a(b), this.inputs = a.map(c.inputs, function (a) { return a.jquery ? a[0] : a }), delete c.inputs, this.keepEmptyValues = c.keepEmptyValues, delete c.keepEmptyValues, n.call(a(this.inputs), c).on("changeDate", a.proxy(this.dateUpdated, this)), this.pickers = a.map(this.inputs, function (b) { return a.data(b, "datepicker") }), this.updateDates() }; l.prototype = { updateDates: function () { this.dates = a.map(this.pickers, function (a) { return a.getUTCDate() }), this.updateRanges() }, updateRanges: function () { var b = a.map(this.dates, function (a) { return a.valueOf() }); a.each(this.pickers, function (a, c) { c.setRange(b) }) }, clearDates: function () { a.each(this.pickers, function (a, b) { b.clearDates() }) }, dateUpdated: function (c) { if (!this.updating) { this.updating = !0; var d = a.data(c.target, "datepicker"); if (d !== b) { var e = d.getUTCDate(), f = this.keepEmptyValues, g = a.inArray(c.target, this.inputs), h = g - 1, i = g + 1, j = this.inputs.length; if (-1 !== g) { if (a.each(this.pickers, function (a, b) { b.getUTCDate() || b !== d && f || b.setUTCDate(e) }), e < this.dates[h]) for (; h >= 0 && e < this.dates[h];)this.pickers[h--].setUTCDate(e); else if (e > this.dates[i]) for (; i < j && e > this.dates[i];)this.pickers[i++].setUTCDate(e); this.updateDates(), delete this.updating } } } }, destroy: function () { a.map(this.pickers, function (a) { a.destroy() }), a(this.inputs).off("changeDate", this.dateUpdated), delete this.element.data().datepicker }, remove: f("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead") }; var m = a.fn.datepicker, n = function (c) { var d = Array.apply(null, arguments); d.shift(); var e; if (this.each(function () { var b = a(this), f = b.data("datepicker"), g = "object" == typeof c && c; if (!f) { var j = h(this, "date"), m = a.extend({}, o, j, g), n = i(m.language), p = a.extend({}, o, n, j, g); b.hasClass("input-daterange") || p.inputs ? (a.extend(p, { inputs: p.inputs || b.find("input").toArray() }), f = new l(this, p)) : f = new k(this, p), b.data("datepicker", f) } "string" == typeof c && "function" == typeof f[c] && (e = f[c].apply(f, d)) }), e === b || e instanceof k || e instanceof l) return this; if (this.length > 1) throw new Error("Using only allowed for the collection of a single element (" + c + " function)"); return e }; a.fn.datepicker = n; var o = a.fn.datepicker.defaults = { assumeNearbyYear: !1, autoclose: !1, beforeShowDay: a.noop, beforeShowMonth: a.noop, beforeShowYear: a.noop, beforeShowDecade: a.noop, beforeShowCentury: a.noop, calendarWeeks: !1, clearBtn: !1, toggleActive: !1, daysOfWeekDisabled: [], daysOfWeekHighlighted: [], datesDisabled: [], endDate: 1 / 0, forceParse: !0, format: "mm/dd/yyyy", keepEmptyValues: !1, keyboardNavigation: !0, language: "en", minViewMode: 0, maxViewMode: 4, multidate: !1, multidateSeparator: ",", orientation: "auto", rtl: !1, startDate: -1 / 0, startView: 0, todayBtn: !1, todayHighlight: !1, updateViewDate: !0, weekStart: 0, disableTouchKeyboard: !1, enableOnReadonly: !0, showOnFocus: !0, zIndexOffset: 10, container: "body", immediateUpdates: !1, title: "", templates: { leftArrow: "&#x00AB;", rightArrow: "&#x00BB;" }, showWeekDays: !0 }, p = a.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"]; a.fn.datepicker.Constructor = k; var q = a.fn.datepicker.dates = { en: { days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], today: "Today", clear: "Clear", titleFormat: "MM yyyy" } }, r = {
    viewModes: [{ names: ["days", "month"], clsName: "days", e: "changeMonth" }, { names: ["months", "year"], clsName: "months", e: "changeYear", navStep: 1 }, { names: ["years", "decade"], clsName: "years", e: "changeDecade", navStep: 10 }, { names: ["decades", "century"], clsName: "decades", e: "changeCentury", navStep: 100 }, { names: ["centuries", "millennium"], clsName: "centuries", e: "changeMillennium", navStep: 1e3 }], validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g, nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g, parseFormat: function (a) { if ("function" == typeof a.toValue && "function" == typeof a.toDisplay) return a; var b = a.replace(this.validParts, "\0").split("\0"), c = a.match(this.validParts); if (!b || !b.length || !c || 0 === c.length) throw new Error("Invalid date format."); return { separators: b, parts: c } }, parseDate: function (c, e, f, g) { function h(a, b) { return !0 === b && (b = 10), a < 100 && (a += 2e3) > (new Date).getFullYear() + b && (a -= 100), a } function i() { var a = this.slice(0, j[n].length), b = j[n].slice(0, a.length); return a.toLowerCase() === b.toLowerCase() } if (!c) return b; if (c instanceof Date) return c; if ("string" == typeof e && (e = r.parseFormat(e)), e.toValue) return e.toValue(c, e, f); var j, l, m, n, o, p = { d: "moveDay", m: "moveMonth", w: "moveWeek", y: "moveYear" }, s = { yesterday: "-1d", today: "+0d", tomorrow: "+1d" }; if (c in s && (c = s[c]), /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(c)) { for (j = c.match(/([\-+]\d+)([dmwy])/gi), c = new Date, n = 0; n < j.length; n++)l = j[n].match(/([\-+]\d+)([dmwy])/i), m = Number(l[1]), o = p[l[2].toLowerCase()], c = k.prototype[o](c, m); return k.prototype._zero_utc_time(c) } j = c && c.match(this.nonpunctuation) || []; var t, u, v = {}, w = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"], x = { yyyy: function (a, b) { return a.setUTCFullYear(g ? h(b, g) : b) }, m: function (a, b) { if (isNaN(a)) return a; for (b -= 1; b < 0;)b += 12; for (b %= 12, a.setUTCMonth(b); a.getUTCMonth() !== b;)a.setUTCDate(a.getUTCDate() - 1); return a }, d: function (a, b) { return a.setUTCDate(b) } }; x.yy = x.yyyy, x.M = x.MM = x.mm = x.m, x.dd = x.d, c = d(); var y = e.parts.slice(); if (j.length !== y.length && (y = a(y).filter(function (b, c) { return -1 !== a.inArray(c, w) }).toArray()), j.length === y.length) { var z; for (n = 0, z = y.length; n < z; n++) { if (t = parseInt(j[n], 10), l = y[n], isNaN(t)) switch (l) { case "MM": u = a(q[f].months).filter(i), t = a.inArray(u[0], q[f].months) + 1; break; case "M": u = a(q[f].monthsShort).filter(i), t = a.inArray(u[0], q[f].monthsShort) + 1 }v[l] = t } var A, B; for (n = 0; n < w.length; n++)(B = w[n]) in v && !isNaN(v[B]) && (A = new Date(c), x[B](A, v[B]), isNaN(A) || (c = A)) } return c }, formatDate: function (b, c, d) { if (!b) return ""; if ("string" == typeof c && (c = r.parseFormat(c)), c.toDisplay) return c.toDisplay(b, c, d); var e = { d: b.getUTCDate(), D: q[d].daysShort[b.getUTCDay()], DD: q[d].days[b.getUTCDay()], m: b.getUTCMonth() + 1, M: q[d].monthsShort[b.getUTCMonth()], MM: q[d].months[b.getUTCMonth()], yy: b.getUTCFullYear().toString().substring(2), yyyy: b.getUTCFullYear() }; e.dd = (e.d < 10 ? "0" : "") + e.d, e.mm = (e.m < 10 ? "0" : "") + e.m, b = []; for (var f = a.extend([], c.separators), g = 0, h = c.parts.length; g <= h; g++)f.length && b.push(f.shift()), b.push(e[c.parts[g]]); return b.join("") },
    headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">' + o.templates.leftArrow + '</th><th colspan="5" class="datepicker-switch"></th><th class="next">' + o.templates.rightArrow + "</th></tr></thead>", contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>', footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
  }; r.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">' + r.headTemplate + "<tbody></tbody>" + r.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + "</table></div></div>", a.fn.datepicker.DPGlobal = r, a.fn.datepicker.noConflict = function () { return a.fn.datepicker = m, this }, a.fn.datepicker.version = "1.9.0", a.fn.datepicker.deprecated = function (a) { var b = window.console; b && b.warn && b.warn("DEPRECATED: " + a) }, a(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function (b) { var c = a(this); c.data("datepicker") || (b.preventDefault(), n.call(c, "show")) }), a(function () { n.call(a('[data-provide="datepicker-inline"]')) })
});; !function (a) { a.fn.datepicker.dates.pt = { days: ["Domingo", "Segunda", "Tera", "Quarta", "Quinta", "Sexta", "Sbado"], daysShort: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sb"], daysMin: ["Do", "Se", "Te", "Qu", "Qu", "Se", "Sa"], months: ["Janeiro", "Fevereiro", "Maro", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"], monthsShort: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"], today: "Hoje", monthsTitle: "Meses", clear: "Limpar", format: "dd/mm/yyyy" } }(jQuery);; (function ($) { "use strict"; $.fn.counterUp = function (options) { var settings = $.extend({ time: 400, delay: 10, offset: 100, beginAt: 0, formatter: false, context: "window", callback: function () { } }, options), s; return this.each(function () { var $this = $(this), counter = { time: $(this).data("counterup-time") || settings.time, delay: $(this).data("counterup-delay") || settings.delay, offset: $(this).data("counterup-offset") || settings.offset, beginAt: $(this).data("counterup-beginat") || settings.beginAt, context: $(this).data("counterup-context") || settings.context }; var counterUpper = function () { var nums = []; var divisions = counter.time / counter.delay; var num = $(this).attr("data-num") ? $(this).attr("data-num") : $this.text(); var isComma = /[0-9]+,[0-9]+/.test(num); num = num.replace(/,/g, ""); var decimalPlaces = (num.split(".")[1] || []).length; if (counter.beginAt > num) counter.beginAt = num; var isTime = /[0-9]+:[0-9]+:[0-9]+/.test(num); if (isTime) { var times = num.split(":"), m = 1; s = 0; while (times.length > 0) { s += m * parseInt(times.pop(), 10); m *= 60 } } for (var i = divisions; i >= counter.beginAt / num * divisions; i--) { var newNum = parseFloat(num / divisions * i).toFixed(decimalPlaces); if (isTime) { newNum = parseInt(s / divisions * i); var hours = parseInt(newNum / 3600) % 24; var minutes = parseInt(newNum / 60) % 60; var seconds = parseInt(newNum % 60, 10); newNum = (hours < 10 ? "0" + hours : hours) + ":" + (minutes < 10 ? "0" + minutes : minutes) + ":" + (seconds < 10 ? "0" + seconds : seconds) } if (isComma) { while (/(\d+)(\d{3})/.test(newNum.toString())) { newNum = newNum.toString().replace(/(\d+)(\d{3})/, "$1" + "," + "$2") } } if (settings.formatter) { newNum = settings.formatter.call(this, newNum) } nums.unshift(newNum) } $this.data("counterup-nums", nums); $this.text(counter.beginAt); var f = function () { if (!$this.data("counterup-nums")) { settings.callback.call(this); return } $this.html($this.data("counterup-nums").shift()); if ($this.data("counterup-nums").length) { setTimeout($this.data("counterup-func"), counter.delay) } else { $this.data("counterup-nums", null); $this.data("counterup-func", null); settings.callback.call(this) } }; $this.data("counterup-func", f); setTimeout($this.data("counterup-func"), counter.delay) }; $this.waypoint(function (direction) { counterUpper(); this.destroy() }, { offset: counter.offset + "%", context: counter.context }) }) } })(jQuery);
;/*! =======================================================
                      VERSION  9.10.0              
========================================================= */
"use strict"; var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (a) { return typeof a } : function (a) { return a && "function" == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a }, windowIsDefined = "object" === ("undefined" == typeof window ? "undefined" : _typeof(window)); !function (a) { if ("function" == typeof define && define.amd) define(["jquery"], a); else if ("object" === ("undefined" == typeof module ? "undefined" : _typeof(module)) && module.exports) { var b; try { b = require("jquery") } catch (c) { b = null } module.exports = a(b) } else window && (window.Slider = a(window.jQuery)) }(function (a) {
  var b = "slider", c = "bootstrapSlider"; windowIsDefined && !window.console && (window.console = {}), windowIsDefined && !window.console.log && (window.console.log = function () { }), windowIsDefined && !window.console.warn && (window.console.warn = function () { }); var d; return function (a) { function b() { } function c(a) { function c(b) { b.prototype.option || (b.prototype.option = function (b) { a.isPlainObject(b) && (this.options = a.extend(!0, this.options, b)) }) } function e(b, c) { a.fn[b] = function (e) { if ("string" == typeof e) { for (var g = d.call(arguments, 1), h = 0, i = this.length; i > h; h++) { var j = this[h], k = a.data(j, b); if (k) if (a.isFunction(k[e]) && "_" !== e.charAt(0)) { var l = k[e].apply(k, g); if (void 0 !== l && l !== k) return l } else f("no such method '" + e + "' for " + b + " instance"); else f("cannot call methods on " + b + " prior to initialization; attempted to call '" + e + "'") } return this } var m = this.map(function () { var d = a.data(this, b); return d ? (d.option(e), d._init()) : (d = new c(this, e), a.data(this, b, d)), a(this) }); return !m || m.length > 1 ? m : m[0] } } if (a) { var f = "undefined" == typeof console ? b : function (a) { console.error(a) }; return a.bridget = function (a, b) { c(b), e(a, b) }, a.bridget } } var d = Array.prototype.slice; c(a) }(a), function (a) {
    function e(b, c) { function d(a, b) { var c = "data-slider-" + b.replace(/_/g, "-"), d = a.getAttribute(c); try { return JSON.parse(d) } catch (e) { return d } } this._state = { value: null, enabled: null, offset: null, size: null, percentage: null, inDrag: !1, over: !1 }, this.ticksCallbackMap = {}, this.handleCallbackMap = {}, "string" == typeof b ? this.element = document.querySelector(b) : b instanceof HTMLElement && (this.element = b), c = c ? c : {}; for (var e = Object.keys(this.defaultOptions), f = 0; f < e.length; f++) { var h = e[f], i = c[h]; i = "undefined" != typeof i ? i : d(this.element, h), i = null !== i ? i : this.defaultOptions[h], this.options || (this.options = {}), this.options[h] = i } "auto" === this.options.rtl && (this.options.rtl = "rtl" === window.getComputedStyle(this.element).direction), "vertical" !== this.options.orientation || "top" !== this.options.tooltip_position && "bottom" !== this.options.tooltip_position ? "horizontal" !== this.options.orientation || "left" !== this.options.tooltip_position && "right" !== this.options.tooltip_position || (this.options.tooltip_position = "top") : this.options.rtl ? this.options.tooltip_position = "left" : this.options.tooltip_position = "right"; var j, k, l, m, n, o = this.element.style.width, p = !1, q = this.element.parentNode; if (this.sliderElem) p = !0; else { this.sliderElem = document.createElement("div"), this.sliderElem.className = "slider"; var r = document.createElement("div"); r.className = "slider-track", k = document.createElement("div"), k.className = "slider-track-low", j = document.createElement("div"), j.className = "slider-selection", l = document.createElement("div"), l.className = "slider-track-high", m = document.createElement("div"), m.className = "slider-handle min-slider-handle", m.setAttribute("role", "slider"), m.setAttribute("aria-valuemin", this.options.min), m.setAttribute("aria-valuemax", this.options.max), n = document.createElement("div"), n.className = "slider-handle max-slider-handle", n.setAttribute("role", "slider"), n.setAttribute("aria-valuemin", this.options.min), n.setAttribute("aria-valuemax", this.options.max), r.appendChild(k), r.appendChild(j), r.appendChild(l), this.rangeHighlightElements = []; var s = this.options.rangeHighlights; if (Array.isArray(s) && s.length > 0) for (var t = 0; t < s.length; t++) { var u = document.createElement("div"), v = s[t]["class"] || ""; u.className = "slider-rangeHighlight slider-selection " + v, this.rangeHighlightElements.push(u), r.appendChild(u) } var w = Array.isArray(this.options.labelledby); if (w && this.options.labelledby[0] && m.setAttribute("aria-labelledby", this.options.labelledby[0]), w && this.options.labelledby[1] && n.setAttribute("aria-labelledby", this.options.labelledby[1]), !w && this.options.labelledby && (m.setAttribute("aria-labelledby", this.options.labelledby), n.setAttribute("aria-labelledby", this.options.labelledby)), this.ticks = [], Array.isArray(this.options.ticks) && this.options.ticks.length > 0) { for (this.ticksContainer = document.createElement("div"), this.ticksContainer.className = "slider-tick-container", f = 0; f < this.options.ticks.length; f++) { var x = document.createElement("div"); if (x.className = "slider-tick", this.options.ticks_tooltip) { var y = this._addTickListener(), z = y.addMouseEnter(this, x, f), A = y.addMouseLeave(this, x); this.ticksCallbackMap[f] = { mouseEnter: z, mouseLeave: A } } this.ticks.push(x), this.ticksContainer.appendChild(x) } j.className += " tick-slider-selection" } if (this.tickLabels = [], Array.isArray(this.options.ticks_labels) && this.options.ticks_labels.length > 0) for (this.tickLabelContainer = document.createElement("div"), this.tickLabelContainer.className = "slider-tick-label-container", f = 0; f < this.options.ticks_labels.length; f++) { var B = document.createElement("div"), C = 0 === this.options.ticks_positions.length, D = this.options.reversed && C ? this.options.ticks_labels.length - (f + 1) : f; B.className = "slider-tick-label", B.innerHTML = this.options.ticks_labels[D], this.tickLabels.push(B), this.tickLabelContainer.appendChild(B) } var E = function (a) { var b = document.createElement("div"); b.className = "tooltip-arrow"; var c = document.createElement("div"); c.className = "tooltip-inner", a.appendChild(b), a.appendChild(c) }, F = document.createElement("div"); F.className = "tooltip tooltip-main", F.setAttribute("role", "presentation"), E(F); var G = document.createElement("div"); G.className = "tooltip tooltip-min", G.setAttribute("role", "presentation"), E(G); var H = document.createElement("div"); H.className = "tooltip tooltip-max", H.setAttribute("role", "presentation"), E(H), this.sliderElem.appendChild(r), this.sliderElem.appendChild(F), this.sliderElem.appendChild(G), this.sliderElem.appendChild(H), this.tickLabelContainer && this.sliderElem.appendChild(this.tickLabelContainer), this.ticksContainer && this.sliderElem.appendChild(this.ticksContainer), this.sliderElem.appendChild(m), this.sliderElem.appendChild(n), q.insertBefore(this.sliderElem, this.element), this.element.style.display = "none" } if (a && (this.$element = a(this.element), this.$sliderElem = a(this.sliderElem)), this.eventToCallbackMap = {}, this.sliderElem.id = this.options.id, this.touchCapable = "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch, this.touchX = 0, this.touchY = 0, this.tooltip = this.sliderElem.querySelector(".tooltip-main"), this.tooltipInner = this.tooltip.querySelector(".tooltip-inner"), this.tooltip_min = this.sliderElem.querySelector(".tooltip-min"), this.tooltipInner_min = this.tooltip_min.querySelector(".tooltip-inner"), this.tooltip_max = this.sliderElem.querySelector(".tooltip-max"), this.tooltipInner_max = this.tooltip_max.querySelector(".tooltip-inner"), g[this.options.scale] && (this.options.scale = g[this.options.scale]), p === !0 && (this._removeClass(this.sliderElem, "slider-horizontal"), this._removeClass(this.sliderElem, "slider-vertical"), this._removeClass(this.sliderElem, "slider-rtl"), this._removeClass(this.tooltip, "hide"), this._removeClass(this.tooltip_min, "hide"), this._removeClass(this.tooltip_max, "hide"), ["left", "right", "top", "width", "height"].forEach(function (a) { this._removeProperty(this.trackLow, a), this._removeProperty(this.trackSelection, a), this._removeProperty(this.trackHigh, a) }, this), [this.handle1, this.handle2].forEach(function (a) { this._removeProperty(a, "left"), this._removeProperty(a, "right"), this._removeProperty(a, "top") }, this), [this.tooltip, this.tooltip_min, this.tooltip_max].forEach(function (a) { this._removeProperty(a, "left"), this._removeProperty(a, "right"), this._removeProperty(a, "top"), this._removeProperty(a, "margin-left"), this._removeProperty(a, "margin-right"), this._removeProperty(a, "margin-top"), this._removeClass(a, "right"), this._removeClass(a, "left"), this._removeClass(a, "top") }, this)), "vertical" === this.options.orientation ? (this._addClass(this.sliderElem, "slider-vertical"), this.stylePos = "top", this.mousePos = "pageY", this.sizePos = "offsetHeight") : (this._addClass(this.sliderElem, "slider-horizontal"), this.sliderElem.style.width = o, this.options.orientation = "horizontal", this.options.rtl ? this.stylePos = "right" : this.stylePos = "left", this.mousePos = "pageX", this.sizePos = "offsetWidth"), this.options.rtl && this._addClass(this.sliderElem, "slider-rtl"), this._setTooltipPosition(), Array.isArray(this.options.ticks) && this.options.ticks.length > 0 && (this.options.max = Math.max.apply(Math, this.options.ticks), this.options.min = Math.min.apply(Math, this.options.ticks)), Array.isArray(this.options.value) ? (this.options.range = !0, this._state.value = this.options.value) : this.options.range ? this._state.value = [this.options.value, this.options.max] : this._state.value = this.options.value, this.trackLow = k || this.trackLow, this.trackSelection = j || this.trackSelection, this.trackHigh = l || this.trackHigh, "none" === this.options.selection ? (this._addClass(this.trackLow, "hide"), this._addClass(this.trackSelection, "hide"), this._addClass(this.trackHigh, "hide")) : ("after" === this.options.selection || "before" === this.options.selection) && (this._removeClass(this.trackLow, "hide"), this._removeClass(this.trackSelection, "hide"), this._removeClass(this.trackHigh, "hide")), this.handle1 = m || this.handle1, this.handle2 = n || this.handle2, p === !0) for (this._removeClass(this.handle1, "round triangle"), this._removeClass(this.handle2, "round triangle hide"), f = 0; f < this.ticks.length; f++)this._removeClass(this.ticks[f], "round triangle hide"); var I = ["round", "triangle", "custom"], J = -1 !== I.indexOf(this.options.handle); if (J) for (this._addClass(this.handle1, this.options.handle), this._addClass(this.handle2, this.options.handle), f = 0; f < this.ticks.length; f++)this._addClass(this.ticks[f], this.options.handle); if (this._state.offset = this._offset(this.sliderElem), this._state.size = this.sliderElem[this.sizePos], this.setValue(this._state.value), this.handle1Keydown = this._keydown.bind(this, 0), this.handle1.addEventListener("keydown", this.handle1Keydown, !1), this.handle2Keydown = this._keydown.bind(this, 1), this.handle2.addEventListener("keydown", this.handle2Keydown, !1), this.mousedown = this._mousedown.bind(this), this.touchstart = this._touchstart.bind(this), this.touchmove = this._touchmove.bind(this), this.touchCapable) { var K = !1; try { var L = Object.defineProperty({}, "passive", { get: function () { K = !0 } }); window.addEventListener("test", null, L) } catch (M) { } var N = K ? { passive: !0 } : !1; this.sliderElem.addEventListener("touchstart", this.touchstart, N), this.sliderElem.addEventListener("touchmove", this.touchmove, N) } if (this.sliderElem.addEventListener("mousedown", this.mousedown, !1), this.resize = this._resize.bind(this), window.addEventListener("resize", this.resize, !1), "hide" === this.options.tooltip) this._addClass(this.tooltip, "hide"), this._addClass(this.tooltip_min, "hide"), this._addClass(this.tooltip_max, "hide"); else if ("always" === this.options.tooltip) this._showTooltip(), this._alwaysShowTooltip = !0; else { if (this.showTooltip = this._showTooltip.bind(this), this.hideTooltip = this._hideTooltip.bind(this), this.options.ticks_tooltip) { var O = this._addTickListener(), P = O.addMouseEnter(this, this.handle1), Q = O.addMouseLeave(this, this.handle1); this.handleCallbackMap.handle1 = { mouseEnter: P, mouseLeave: Q }, P = O.addMouseEnter(this, this.handle2), Q = O.addMouseLeave(this, this.handle2), this.handleCallbackMap.handle2 = { mouseEnter: P, mouseLeave: Q } } else this.sliderElem.addEventListener("mouseenter", this.showTooltip, !1), this.sliderElem.addEventListener("mouseleave", this.hideTooltip, !1); this.handle1.addEventListener("focus", this.showTooltip, !1), this.handle1.addEventListener("blur", this.hideTooltip, !1), this.handle2.addEventListener("focus", this.showTooltip, !1), this.handle2.addEventListener("blur", this.hideTooltip, !1) } this.options.enabled ? this.enable() : this.disable() } var f = { formatInvalidInputErrorMsg: function (a) { return "Invalid input value '" + a + "' passed in" }, callingContextNotSliderInstance: "Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method" }, g = { linear: { toValue: function (a) { var b = a / 100 * (this.options.max - this.options.min), c = !0; if (this.options.ticks_positions.length > 0) { for (var d, e, f, g = 0, h = 1; h < this.options.ticks_positions.length; h++)if (a <= this.options.ticks_positions[h]) { d = this.options.ticks[h - 1], f = this.options.ticks_positions[h - 1], e = this.options.ticks[h], g = this.options.ticks_positions[h]; break } var i = (a - f) / (g - f); b = d + i * (e - d), c = !1 } var j = c ? this.options.min : 0, k = j + Math.round(b / this.options.step) * this.options.step; return k < this.options.min ? this.options.min : k > this.options.max ? this.options.max : k }, toPercentage: function (a) { if (this.options.max === this.options.min) return 0; if (this.options.ticks_positions.length > 0) { for (var b, c, d, e = 0, f = 0; f < this.options.ticks.length; f++)if (a <= this.options.ticks[f]) { b = f > 0 ? this.options.ticks[f - 1] : 0, d = f > 0 ? this.options.ticks_positions[f - 1] : 0, c = this.options.ticks[f], e = this.options.ticks_positions[f]; break } if (f > 0) { var g = (a - b) / (c - b); return d + g * (e - d) } } return 100 * (a - this.options.min) / (this.options.max - this.options.min) } }, logarithmic: { toValue: function (a) { var b = 0 === this.options.min ? 0 : Math.log(this.options.min), c = Math.log(this.options.max), d = Math.exp(b + (c - b) * a / 100); return Math.round(d) === this.options.max ? this.options.max : (d = this.options.min + Math.round((d - this.options.min) / this.options.step) * this.options.step, d < this.options.min ? this.options.min : d > this.options.max ? this.options.max : d) }, toPercentage: function (a) { if (this.options.max === this.options.min) return 0; var b = Math.log(this.options.max), c = 0 === this.options.min ? 0 : Math.log(this.options.min), d = 0 === a ? 0 : Math.log(a); return 100 * (d - c) / (b - c) } } }; if (d = function (a, b) { return e.call(this, a, b), this }, d.prototype = {
      _init: function () { }, constructor: d, defaultOptions: { id: "", min: 0, max: 10, step: 1, precision: 0, orientation: "horizontal", value: 5, range: !1, selection: "before", tooltip: "show", tooltip_split: !1, handle: "round", reversed: !1, rtl: "auto", enabled: !0, formatter: function (a) { return Array.isArray(a) ? a[0] + " : " + a[1] : a }, natural_arrow_keys: !1, ticks: [], ticks_positions: [], ticks_labels: [], ticks_snap_bounds: 0, ticks_tooltip: !1, scale: "linear", focus: !1, tooltip_position: null, labelledby: null, rangeHighlights: [] }, getElement: function () { return this.sliderElem }, getValue: function () { return this.options.range ? this._state.value : this._state.value[0] }, setValue: function (a, b, c) { a || (a = 0); var d = this.getValue(); this._state.value = this._validateInputValue(a); var e = this._applyPrecision.bind(this); this.options.range ? (this._state.value[0] = e(this._state.value[0]), this._state.value[1] = e(this._state.value[1]), this._state.value[0] = Math.max(this.options.min, Math.min(this.options.max, this._state.value[0])), this._state.value[1] = Math.max(this.options.min, Math.min(this.options.max, this._state.value[1]))) : (this._state.value = e(this._state.value), this._state.value = [Math.max(this.options.min, Math.min(this.options.max, this._state.value))], this._addClass(this.handle2, "hide"), "after" === this.options.selection ? this._state.value[1] = this.options.max : this._state.value[1] = this.options.min), this.options.max > this.options.min ? this._state.percentage = [this._toPercentage(this._state.value[0]), this._toPercentage(this._state.value[1]), 100 * this.options.step / (this.options.max - this.options.min)] : this._state.percentage = [0, 0, 100], this._layout(); var f = this.options.range ? this._state.value : this._state.value[0]; return this._setDataVal(f), b === !0 && this._trigger("slide", f), d !== f && c === !0 && this._trigger("change", { oldValue: d, newValue: f }), this }, destroy: function () { this._removeSliderEventHandlers(), this.sliderElem.parentNode.removeChild(this.sliderElem), this.element.style.display = "", this._cleanUpEventCallbacksMap(), this.element.removeAttribute("data"), a && (this._unbindJQueryEventHandlers(), this.$element.removeData("slider")) }, disable: function () { return this._state.enabled = !1, this.handle1.removeAttribute("tabindex"), this.handle2.removeAttribute("tabindex"), this._addClass(this.sliderElem, "slider-disabled"), this._trigger("slideDisabled"), this }, enable: function () { return this._state.enabled = !0, this.handle1.setAttribute("tabindex", 0), this.handle2.setAttribute("tabindex", 0), this._removeClass(this.sliderElem, "slider-disabled"), this._trigger("slideEnabled"), this }, toggle: function () { return this._state.enabled ? this.disable() : this.enable(), this }, isEnabled: function () { return this._state.enabled }, on: function (a, b) { return this._bindNonQueryEventHandler(a, b), this }, off: function (b, c) { a ? (this.$element.off(b, c), this.$sliderElem.off(b, c)) : this._unbindNonQueryEventHandler(b, c) }, getAttribute: function (a) { return a ? this.options[a] : this.options }, setAttribute: function (a, b) { return this.options[a] = b, this }, refresh: function () { return this._removeSliderEventHandlers(), e.call(this, this.element, this.options), a && a.data(this.element, "slider", this), this }, relayout: function () { return this._resize(), this._layout(), this }, _removeSliderEventHandlers: function () { if (this.handle1.removeEventListener("keydown", this.handle1Keydown, !1), this.handle2.removeEventListener("keydown", this.handle2Keydown, !1), this.options.ticks_tooltip) { for (var a = this.ticksContainer.getElementsByClassName("slider-tick"), b = 0; b < a.length; b++)a[b].removeEventListener("mouseenter", this.ticksCallbackMap[b].mouseEnter, !1), a[b].removeEventListener("mouseleave", this.ticksCallbackMap[b].mouseLeave, !1); this.handle1.removeEventListener("mouseenter", this.handleCallbackMap.handle1.mouseEnter, !1), this.handle2.removeEventListener("mouseenter", this.handleCallbackMap.handle2.mouseEnter, !1), this.handle1.removeEventListener("mouseleave", this.handleCallbackMap.handle1.mouseLeave, !1), this.handle2.removeEventListener("mouseleave", this.handleCallbackMap.handle2.mouseLeave, !1) } this.handleCallbackMap = null, this.ticksCallbackMap = null, this.showTooltip && (this.handle1.removeEventListener("focus", this.showTooltip, !1), this.handle2.removeEventListener("focus", this.showTooltip, !1)), this.hideTooltip && (this.handle1.removeEventListener("blur", this.hideTooltip, !1), this.handle2.removeEventListener("blur", this.hideTooltip, !1)), this.showTooltip && this.sliderElem.removeEventListener("mouseenter", this.showTooltip, !1), this.hideTooltip && this.sliderElem.removeEventListener("mouseleave", this.hideTooltip, !1), this.sliderElem.removeEventListener("touchstart", this.touchstart, !1), this.sliderElem.removeEventListener("touchmove", this.touchmove, !1), this.sliderElem.removeEventListener("mousedown", this.mousedown, !1), window.removeEventListener("resize", this.resize, !1) }, _bindNonQueryEventHandler: function (a, b) { void 0 === this.eventToCallbackMap[a] && (this.eventToCallbackMap[a] = []), this.eventToCallbackMap[a].push(b) }, _unbindNonQueryEventHandler: function (a, b) { var c = this.eventToCallbackMap[a]; if (void 0 !== c) for (var d = 0; d < c.length; d++)if (c[d] === b) { c.splice(d, 1); break } }, _cleanUpEventCallbacksMap: function () { for (var a = Object.keys(this.eventToCallbackMap), b = 0; b < a.length; b++) { var c = a[b]; delete this.eventToCallbackMap[c] } }, _showTooltip: function () { this.options.tooltip_split === !1 ? (this._addClass(this.tooltip, "in"), this.tooltip_min.style.display = "none", this.tooltip_max.style.display = "none") : (this._addClass(this.tooltip_min, "in"), this._addClass(this.tooltip_max, "in"), this.tooltip.style.display = "none"), this._state.over = !0 }, _hideTooltip: function () { this._state.inDrag === !1 && this.alwaysShowTooltip !== !0 && (this._removeClass(this.tooltip, "in"), this._removeClass(this.tooltip_min, "in"), this._removeClass(this.tooltip_max, "in")), this._state.over = !1 }, _setToolTipOnMouseOver: function (a) { function b(a, b) { return b ? [100 - a.percentage[0], this.options.range ? 100 - a.percentage[1] : a.percentage[1]] : [a.percentage[0], a.percentage[1]] } var c = this.options.formatter(a ? a.value[0] : this._state.value[0]), d = a ? b(a, this.options.reversed) : b(this._state, this.options.reversed); this._setText(this.tooltipInner, c), this.tooltip.style[this.stylePos] = d[0] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px") : this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px") }, _addTickListener: function () { return { addMouseEnter: function (a, b, c) { var d = function () { var b = a._state, d = c >= 0 ? c : this.attributes["aria-valuenow"].value, e = parseInt(d, 10); b.value[0] = e, b.percentage[0] = a.options.ticks_positions[e], a._setToolTipOnMouseOver(b), a._showTooltip() }; return b.addEventListener("mouseenter", d, !1), d }, addMouseLeave: function (a, b) { var c = function () { a._hideTooltip() }; return b.addEventListener("mouseleave", c, !1), c } } }, _layout: function () { var a; if (a = this.options.reversed ? [100 - this._state.percentage[0], this.options.range ? 100 - this._state.percentage[1] : this._state.percentage[1]] : [this._state.percentage[0], this._state.percentage[1]], this.handle1.style[this.stylePos] = a[0] + "%", this.handle1.setAttribute("aria-valuenow", this._state.value[0]), isNaN(this.options.formatter(this._state.value[0])) && this.handle1.setAttribute("aria-valuetext", this.options.formatter(this._state.value[0])), this.handle2.style[this.stylePos] = a[1] + "%", this.handle2.setAttribute("aria-valuenow", this._state.value[1]), isNaN(this.options.formatter(this._state.value[1])) && this.handle2.setAttribute("aria-valuetext", this.options.formatter(this._state.value[1])), this.rangeHighlightElements.length > 0 && Array.isArray(this.options.rangeHighlights) && this.options.rangeHighlights.length > 0) for (var b = 0; b < this.options.rangeHighlights.length; b++) { var c = this._toPercentage(this.options.rangeHighlights[b].start), d = this._toPercentage(this.options.rangeHighlights[b].end); if (this.options.reversed) { var e = 100 - d; d = 100 - c, c = e } var f = this._createHighlightRange(c, d); f ? "vertical" === this.options.orientation ? (this.rangeHighlightElements[b].style.top = f.start + "%", this.rangeHighlightElements[b].style.height = f.size + "%") : (this.options.rtl ? this.rangeHighlightElements[b].style.right = f.start + "%" : this.rangeHighlightElements[b].style.left = f.start + "%", this.rangeHighlightElements[b].style.width = f.size + "%") : this.rangeHighlightElements[b].style.display = "none" } if (Array.isArray(this.options.ticks) && this.options.ticks.length > 0) { var g, h = "vertical" === this.options.orientation ? "height" : "width"; g = "vertical" === this.options.orientation ? "marginTop" : this.options.rtl ? "marginRight" : "marginLeft"; var i = this._state.size / (this.options.ticks.length - 1); if (this.tickLabelContainer) { var j = 0; if (0 === this.options.ticks_positions.length) "vertical" !== this.options.orientation && (this.tickLabelContainer.style[g] = -i / 2 + "px"), j = this.tickLabelContainer.offsetHeight; else for (k = 0; k < this.tickLabelContainer.childNodes.length; k++)this.tickLabelContainer.childNodes[k].offsetHeight > j && (j = this.tickLabelContainer.childNodes[k].offsetHeight); "horizontal" === this.options.orientation && (this.sliderElem.style.marginBottom = j + "px") } for (var k = 0; k < this.options.ticks.length; k++) { var l = this.options.ticks_positions[k] || this._toPercentage(this.options.ticks[k]); this.options.reversed && (l = 100 - l), this.ticks[k].style[this.stylePos] = l + "%", this._removeClass(this.ticks[k], "in-selection"), this.options.range ? l >= a[0] && l <= a[1] && this._addClass(this.ticks[k], "in-selection") : "after" === this.options.selection && l >= a[0] ? this._addClass(this.ticks[k], "in-selection") : "before" === this.options.selection && l <= a[0] && this._addClass(this.ticks[k], "in-selection"), this.tickLabels[k] && (this.tickLabels[k].style[h] = i + "px", "vertical" !== this.options.orientation && void 0 !== this.options.ticks_positions[k] ? (this.tickLabels[k].style.position = "absolute", this.tickLabels[k].style[this.stylePos] = l + "%", this.tickLabels[k].style[g] = -i / 2 + "px") : "vertical" === this.options.orientation && (this.options.rtl ? this.tickLabels[k].style.marginRight = this.sliderElem.offsetWidth + "px" : this.tickLabels[k].style.marginLeft = this.sliderElem.offsetWidth + "px", this.tickLabelContainer.style[g] = this.sliderElem.offsetWidth / 2 * -1 + "px")) } } var m; if (this.options.range) { m = this.options.formatter(this._state.value), this._setText(this.tooltipInner, m), this.tooltip.style[this.stylePos] = (a[1] + a[0]) / 2 + "%", "vertical" === this.options.orientation ? this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px") : this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px"); var n = this.options.formatter(this._state.value[0]); this._setText(this.tooltipInner_min, n); var o = this.options.formatter(this._state.value[1]); this._setText(this.tooltipInner_max, o), this.tooltip_min.style[this.stylePos] = a[0] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip_min, "margin-" + this.stylePos, -this.tooltip_min.offsetHeight / 2 + "px") : this._css(this.tooltip_min, "margin-" + this.stylePos, -this.tooltip_min.offsetWidth / 2 + "px"), this.tooltip_max.style[this.stylePos] = a[1] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip_max, "margin-" + this.stylePos, -this.tooltip_max.offsetHeight / 2 + "px") : this._css(this.tooltip_max, "margin-" + this.stylePos, -this.tooltip_max.offsetWidth / 2 + "px") } else m = this.options.formatter(this._state.value[0]), this._setText(this.tooltipInner, m), this.tooltip.style[this.stylePos] = a[0] + "%", "vertical" === this.options.orientation ? this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px") : this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px"); if ("vertical" === this.options.orientation) this.trackLow.style.top = "0", this.trackLow.style.height = Math.min(a[0], a[1]) + "%", this.trackSelection.style.top = Math.min(a[0], a[1]) + "%", this.trackSelection.style.height = Math.abs(a[0] - a[1]) + "%", this.trackHigh.style.bottom = "0", this.trackHigh.style.height = 100 - Math.min(a[0], a[1]) - Math.abs(a[0] - a[1]) + "%"; else { "right" === this.stylePos ? this.trackLow.style.right = "0" : this.trackLow.style.left = "0", this.trackLow.style.width = Math.min(a[0], a[1]) + "%", "right" === this.stylePos ? this.trackSelection.style.right = Math.min(a[0], a[1]) + "%" : this.trackSelection.style.left = Math.min(a[0], a[1]) + "%", this.trackSelection.style.width = Math.abs(a[0] - a[1]) + "%", "right" === this.stylePos ? this.trackHigh.style.left = "0" : this.trackHigh.style.right = "0", this.trackHigh.style.width = 100 - Math.min(a[0], a[1]) - Math.abs(a[0] - a[1]) + "%"; var p = this.tooltip_min.getBoundingClientRect(), q = this.tooltip_max.getBoundingClientRect(); "bottom" === this.options.tooltip_position ? p.right > q.left ? (this._removeClass(this.tooltip_max, "bottom"), this._addClass(this.tooltip_max, "top"), this.tooltip_max.style.top = "", this.tooltip_max.style.bottom = "22px") : (this._removeClass(this.tooltip_max, "top"), this._addClass(this.tooltip_max, "bottom"), this.tooltip_max.style.top = this.tooltip_min.style.top, this.tooltip_max.style.bottom = "") : p.right > q.left ? (this._removeClass(this.tooltip_max, "top"), this._addClass(this.tooltip_max, "bottom"), this.tooltip_max.style.top = "18px") : (this._removeClass(this.tooltip_max, "bottom"), this._addClass(this.tooltip_max, "top"), this.tooltip_max.style.top = this.tooltip_min.style.top) } }, _createHighlightRange: function (a, b) { return this._isHighlightRange(a, b) ? a > b ? { start: b, size: a - b } : { start: a, size: b - a } : null }, _isHighlightRange: function (a, b) { return a >= 0 && 100 >= a && b >= 0 && 100 >= b ? !0 : !1 }, _resize: function (a) { this._state.offset = this._offset(this.sliderElem), this._state.size = this.sliderElem[this.sizePos], this._layout() }, _removeProperty: function (a, b) { a.style.removeProperty ? a.style.removeProperty(b) : a.style.removeAttribute(b) }, _mousedown: function (a) { if (!this._state.enabled) return !1; this._state.offset = this._offset(this.sliderElem), this._state.size = this.sliderElem[this.sizePos]; var b = this._getPercentage(a); if (this.options.range) { var c = Math.abs(this._state.percentage[0] - b), d = Math.abs(this._state.percentage[1] - b); this._state.dragged = d > c ? 0 : 1, this._adjustPercentageForRangeSliders(b) } else this._state.dragged = 0; this._state.percentage[this._state.dragged] = b, this._layout(), this.touchCapable && (document.removeEventListener("touchmove", this.mousemove, !1), document.removeEventListener("touchend", this.mouseup, !1)), this.mousemove && document.removeEventListener("mousemove", this.mousemove, !1), this.mouseup && document.removeEventListener("mouseup", this.mouseup, !1), this.mousemove = this._mousemove.bind(this), this.mouseup = this._mouseup.bind(this), this.touchCapable && (document.addEventListener("touchmove", this.mousemove, !1), document.addEventListener("touchend", this.mouseup, !1)), document.addEventListener("mousemove", this.mousemove, !1), document.addEventListener("mouseup", this.mouseup, !1), this._state.inDrag = !0; var e = this._calculateValue(); return this._trigger("slideStart", e), this._setDataVal(e), this.setValue(e, !1, !0), a.returnValue = !1, this.options.focus && this._triggerFocusOnHandle(this._state.dragged), !0 }, _touchstart: function (a) { if (void 0 === a.changedTouches) return void this._mousedown(a); var b = a.changedTouches[0]; this.touchX = b.pageX, this.touchY = b.pageY }, _triggerFocusOnHandle: function (a) { 0 === a && this.handle1.focus(), 1 === a && this.handle2.focus() }, _keydown: function (a, b) { if (!this._state.enabled) return !1; var c; switch (b.keyCode) { case 37: case 40: c = -1; break; case 39: case 38: c = 1 }if (c) { if (this.options.natural_arrow_keys) { var d = "vertical" === this.options.orientation && !this.options.reversed, e = "horizontal" === this.options.orientation && this.options.reversed; (d || e) && (c = -c) } var f = this._state.value[a] + c * this.options.step, g = f / this.options.max * 100; if (this._state.keyCtrl = a, this.options.range) { this._adjustPercentageForRangeSliders(g); var h = this._state.keyCtrl ? this._state.value[0] : f, i = this._state.keyCtrl ? f : this._state.value[1]; f = [h, i] } return this._trigger("slideStart", f), this._setDataVal(f), this.setValue(f, !0, !0), this._setDataVal(f), this._trigger("slideStop", f), this._layout(), this._pauseEvent(b), delete this._state.keyCtrl, !1 } }, _pauseEvent: function (a) { a.stopPropagation && a.stopPropagation(), a.preventDefault && a.preventDefault(), a.cancelBubble = !0, a.returnValue = !1 }, _mousemove: function (a) { if (!this._state.enabled) return !1; var b = this._getPercentage(a); this._adjustPercentageForRangeSliders(b), this._state.percentage[this._state.dragged] = b, this._layout(); var c = this._calculateValue(!0); return this.setValue(c, !0, !0), !1 }, _touchmove: function (a) { if (void 0 !== a.changedTouches) { var b = a.changedTouches[0], c = b.pageX - this.touchX, d = b.pageY - this.touchY; this._state.inDrag || ("vertical" === this.options.orientation && 5 >= c && c >= -5 && (d >= 15 || -15 >= d) ? this._mousedown(a) : 5 >= d && d >= -5 && (c >= 15 || -15 >= c) && this._mousedown(a)) } }, _adjustPercentageForRangeSliders: function (a) { if (this.options.range) { var b = this._getNumDigitsAfterDecimalPlace(a); b = b ? b - 1 : 0; var c = this._applyToFixedAndParseFloat(a, b); 0 === this._state.dragged && this._applyToFixedAndParseFloat(this._state.percentage[1], b) < c ? (this._state.percentage[0] = this._state.percentage[1], this._state.dragged = 1) : 1 === this._state.dragged && this._applyToFixedAndParseFloat(this._state.percentage[0], b) > c ? (this._state.percentage[1] = this._state.percentage[0], this._state.dragged = 0) : 0 === this._state.keyCtrl && this._state.value[1] / this.options.max * 100 < a ? (this._state.percentage[0] = this._state.percentage[1], this._state.keyCtrl = 1, this.handle2.focus()) : 1 === this._state.keyCtrl && this._state.value[0] / this.options.max * 100 > a && (this._state.percentage[1] = this._state.percentage[0], this._state.keyCtrl = 0, this.handle1.focus()) } }, _mouseup: function () { if (!this._state.enabled) return !1; this.touchCapable && (document.removeEventListener("touchmove", this.mousemove, !1), document.removeEventListener("touchend", this.mouseup, !1)), document.removeEventListener("mousemove", this.mousemove, !1), document.removeEventListener("mouseup", this.mouseup, !1), this._state.inDrag = !1, this._state.over === !1 && this._hideTooltip(); var a = this._calculateValue(!0); return this._layout(), this._setDataVal(a), this._trigger("slideStop", a), !1 }, _calculateValue: function (a) {
        var b; if (this.options.range ? (b = [this.options.min, this.options.max], 0 !== this._state.percentage[0] && (b[0] = this._toValue(this._state.percentage[0]), b[0] = this._applyPrecision(b[0])), 100 !== this._state.percentage[1] && (b[1] = this._toValue(this._state.percentage[1]), b[1] = this._applyPrecision(b[1]))) : (b = this._toValue(this._state.percentage[0]), b = parseFloat(b), b = this._applyPrecision(b)), a) {
          for (var c = [b, 1 / 0], d = 0; d < this.options.ticks.length; d++) {
            var e = Math.abs(this.options.ticks[d] - b); e <= c[1] && (c = [this.options.ticks[d], e])
          } if (c[1] <= this.options.ticks_snap_bounds) return c[0]
        } return b
      }, _applyPrecision: function (a) { var b = this.options.precision || this._getNumDigitsAfterDecimalPlace(this.options.step); return this._applyToFixedAndParseFloat(a, b) }, _getNumDigitsAfterDecimalPlace: function (a) { var b = ("" + a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/); return b ? Math.max(0, (b[1] ? b[1].length : 0) - (b[2] ? +b[2] : 0)) : 0 }, _applyToFixedAndParseFloat: function (a, b) { var c = a.toFixed(b); return parseFloat(c) }, _getPercentage: function (a) { !this.touchCapable || "touchstart" !== a.type && "touchmove" !== a.type || (a = a.touches[0]); var b = a[this.mousePos], c = this._state.offset[this.stylePos], d = b - c; "right" === this.stylePos && (d = -d); var e = d / this._state.size * 100; return e = Math.round(e / this._state.percentage[2]) * this._state.percentage[2], this.options.reversed && (e = 100 - e), Math.max(0, Math.min(100, e)) }, _validateInputValue: function (a) { if (isNaN(+a)) { if (Array.isArray(a)) return this._validateArray(a), a; throw new Error(f.formatInvalidInputErrorMsg(a)) } return +a }, _validateArray: function (a) { for (var b = 0; b < a.length; b++) { var c = a[b]; if ("number" != typeof c) throw new Error(f.formatInvalidInputErrorMsg(c)) } }, _setDataVal: function (a) { this.element.setAttribute("data-value", a), this.element.setAttribute("value", a), this.element.value = a }, _trigger: function (b, c) { c = c || 0 === c ? c : void 0; var d = this.eventToCallbackMap[b]; if (d && d.length) for (var e = 0; e < d.length; e++) { var f = d[e]; f(c) } a && this._triggerJQueryEvent(b, c) }, _triggerJQueryEvent: function (a, b) { var c = { type: a, value: b }; this.$element.trigger(c), this.$sliderElem.trigger(c) }, _unbindJQueryEventHandlers: function () { this.$element.off(), this.$sliderElem.off() }, _setText: function (a, b) { "undefined" != typeof a.textContent ? a.textContent = b : "undefined" != typeof a.innerText && (a.innerText = b) }, _removeClass: function (a, b) { for (var c = b.split(" "), d = a.className, e = 0; e < c.length; e++) { var f = c[e], g = new RegExp("(?:\\s|^)" + f + "(?:\\s|$)"); d = d.replace(g, " ") } a.className = d.trim() }, _addClass: function (a, b) { for (var c = b.split(" "), d = a.className, e = 0; e < c.length; e++) { var f = c[e], g = new RegExp("(?:\\s|^)" + f + "(?:\\s|$)"), h = g.test(d); h || (d += " " + f) } a.className = d.trim() }, _offsetLeft: function (a) { return a.getBoundingClientRect().left }, _offsetRight: function (a) { return a.getBoundingClientRect().right }, _offsetTop: function (a) { for (var b = a.offsetTop; (a = a.offsetParent) && !isNaN(a.offsetTop);)b += a.offsetTop, "BODY" !== a.tagName && (b -= a.scrollTop); return b }, _offset: function (a) { return { left: this._offsetLeft(a), right: this._offsetRight(a), top: this._offsetTop(a) } }, _css: function (b, c, d) { if (a) a.style(b, c, d); else { var e = c.replace(/^-ms-/, "ms-").replace(/-([\da-z])/gi, function (a, b) { return b.toUpperCase() }); b.style[e] = d } }, _toValue: function (a) { return this.options.scale.toValue.apply(this, [a]) }, _toPercentage: function (a) { return this.options.scale.toPercentage.apply(this, [a]) }, _setTooltipPosition: function () { var a = [this.tooltip, this.tooltip_min, this.tooltip_max]; if ("vertical" === this.options.orientation) { var b; b = this.options.tooltip_position ? this.options.tooltip_position : this.options.rtl ? "left" : "right"; var c = "left" === b ? "right" : "left"; a.forEach(function (a) { this._addClass(a, b), a.style[c] = "100%" }.bind(this)) } else "bottom" === this.options.tooltip_position ? a.forEach(function (a) { this._addClass(a, "bottom"), a.style.top = "22px" }.bind(this)) : a.forEach(function (a) { this._addClass(a, "top"), a.style.top = -this.tooltip.outerHeight - 14 + "px" }.bind(this)) }
    }, a && a.fn) { var h = void 0; a.fn.slider ? (windowIsDefined && window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."), h = c) : (a.bridget(b, d), h = b), a.bridget(c, d), a(function () { a("input[data-provide=slider]")[h]() }) }
  }(a), d
});;/*
 *  jQuery Week Planner - v0.1
 *  Display a full week as a table and allow to add reserved time on it.
 *  http://www.esl-education.org
 *
 *  Made by Luca Pillonel - ESL Education
 *  Under MIT License
 */

; (function ($, window, document, undefined) {

  "use strict";

  // Create the defaults once
  var pluginName = "weekPlanner",
    defaults = {
      weekDays: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
      timeSlotsPerHour: 2,
      slotHeight: 15,
      minimumDurationInSlot: 4,
      startHour: 7,
      endHour: 20,
      columnsHeaderHeight: 30,
      preventOverlapping: true,
      slots: []
    };

  // The actual plugin constructor
  function Plugin(element, options) {

    this.element = element;
    this.settings = $.extend({}, defaults, options);
    this._defaults = defaults;
    this._name = pluginName;

    // Internal vars
    this.columnsWrapper = null;
    this.drawingSlot = null;
    this.slots = {};

    // Start plugin
    this.init();
  }

  Plugin.prototype = {

    init: function () {
      // Create element structure
      this.createDOMStructure();

      // Populate existings slots
      this.setSlots();

      // Set zone creation events
      this.setEvents();
    },

    createDOMStructure: function () {
      var totalSlots = (this.settings.endHour - this.settings.startHour) * this.settings.timeSlotsPerHour + 1;

      // Create wrapper for columns
      this.columnsWrapper = $('<div class="week-planner-columns-wrapper"><div class="week-planner-slots-header" /></div>')
        .appendTo(this.element)
        .css({ height: (totalSlots - 1) * this.settings.slotHeight + this.settings.columnsHeaderHeight + 'px' });

      // Create wrapper for slots
      var slotsWrapper = $('<div class="week-planner-grid-wrapper"></div>').appendTo(this.element);
      var columnsHeader = $('<div class="week-planner-slot-header"><div /></div>').appendTo(slotsWrapper);

      // Create time slot in background
      var line = $('<div class="week-planner-grid-line" />').css({ height: this.settings.slotHeight });
      for (var i = 0; i < totalSlots - 1; i++) {
        var iLine = line.clone().appendTo(slotsWrapper);
        if (i % this.settings.timeSlotsPerHour == 0) {
          iLine.addClass('hour');
          $('<span>' + (this.settings.startHour + i / this.settings.timeSlotsPerHour) + ':00</span>').appendTo(iLine);
        }
      };

      // Create column for each
      for (var i = 1; i <= this.settings.weekDays.length; i++) {
        $('<div class="day-name">' + this.settings.weekDays[i - 1] + '</div>').appendTo(columnsHeader);
        var column = $('<div class="week-planner-column-day day-' + i + '" />').data('day', i).appendTo(this.columnsWrapper);
      }
    },

    setEvents: function () {
      this.columnsWrapper
        .bind('mousedown', function (e) {

          var $target = $(e.target),
            posY = e.originalEvent.layerY - this.settings.columnsHeaderHeight;

          if (posY > 0 && $target.hasClass('week-planner-column-day')) {
            // Determine closest Y value snaped to grid
            posY -= posY % this.settings.slotHeight;

            // Create slot
            this.drawingSlot = this.createSlot(posY + this.settings.columnsHeaderHeight, this.settings.slotHeight * this.settings.minimumDurationInSlot, $target.data('day')).addClass("drawing").appendTo($target);

            // Detect overlapping
            this.detectOverlapping();

            // Update info display
            this.updateInfo();
          }
        }.bind(this))
        .bind('mousemove', function (e) {
          if (this.drawingSlot) {
            // Get position relative to current slot
            var posY = e.pageY - this.drawingSlot.offset().top;

            // Snap posY to grid
            posY += (this.settings.slotHeight / 2) - posY % this.settings.slotHeight < 0 ? (this.settings.slotHeight / 2) - Math.abs((this.settings.slotHeight / 2) - posY % this.settings.slotHeight) : ((this.settings.slotHeight / 2) - Math.abs((this.settings.slotHeight / 2) - posY % this.settings.slotHeight)) * -1;
            var height = posY;

            // fix min height
            if (height / this.settings.slotHeight < this.settings.minimumDurationInSlot) height = this.settings.slotHeight * this.settings.minimumDurationInSlot;

            // Draw corrected height
            this.drawingSlot.css({ height: height });

            // Detect overlapping
            this.detectOverlapping();

            // Update info display
            this.updateInfo();
          }
        }.bind(this))
        .bind('mouseup', function (e) {
          if (this.drawingSlot) {
            if (!this.drawingSlot.hasClass('overlapping') || !this.settings.preventOverlapping) {

              // Get time values
              var time = this.getTimeForSlot();
              time.slot = this.drawingSlot;

              // Save values somewhere
              this.slots[this.drawingSlot.data('day')] = this.slots[this.drawingSlot.data('day')] || [];
              var pos = this.slots[this.drawingSlot.data('day')].push(time) - 1;

              // Save a reference in slot itself
              this.drawingSlot.data('slotPos', pos);

              // Enable controls
              this.setControls();

              // Enable events
              this.drawingSlot.removeClass('drawing');
            } else {
              this.drawingSlot.remove();
              this.drawingSlot = null;
            }

            // Clear temp element
            this.drawingSlot = null;
          }
        }.bind(this))
        .bind('mouseleave', function (e) {
          if (this.drawingSlot) {
            this.drawingSlot.remove();
            this.drawingSlot = null;
          }
        }.bind(this));
    },


    updateInfo: function (slot) {
      slot = slot || this.drawingSlot;

      // Get time
      var time = this.getTimeForSlot(slot),
        timeEnd = time.start + time.duration;

      // Update display
      $('.slot-info', slot).html((Math.floor(time.start / 60) < 10 ? '0' : '') + Math.floor(time.start / 60) + 'h' + (time.start % 60 < 10 ? '0' : '') + time.start % 60 + ' - ' + (Math.floor(timeEnd / 60) < 10 ? '0' : '') + Math.floor(timeEnd / 60) + 'h' + (timeEnd % 60 < 10 ? '0' : '') + timeEnd % 60);
    },

    setControls: function (slot) {
      slot = slot || this.drawingSlot;

      // Add controls
      var controls = $('<div class="controls"></div>').appendTo(slot),
        close = $('<i class="fa fa-remove" />').appendTo(controls);

      close.bind('click', function () {
        // Get day
        var day = slot.data('day'),
          id = null;

        // Look for slot id in slots list
        var id = $.map(this.slots[day], function (otherSlot, i) {
          if (otherSlot.slot[0] == slot[0])
            return id = i;
        }.bind(this))[0];

        // Remove slot
        this.slots[day].splice(id, 1);
        slot.remove();

        $.each(this.slots[day], function (i, otherSlot) {
          this.detectOverlapping(otherSlot.slot);
        }.bind(this));
      }.bind(this));
    },

    getTimeForSlot: function (slot) {
      slot = slot || this.drawingSlot;

      // Get values from dimension :)
      return {
        start: parseInt((this.settings.startHour * 60) + (slot.position().top - this.settings.columnsHeaderHeight) / this.settings.slotHeight * (60 / this.settings.timeSlotsPerHour)),
        duration: slot.outerHeight() / this.settings.slotHeight * (60 / this.settings.timeSlotsPerHour)
      }
    },

    detectOverlapping: function (slot) {
      slot = slot || this.drawingSlot;

      // Get time for slot
      var time = this.getTimeForSlot(slot),
        timeEnd = time.start + time.duration,
        overlapping = false;

      // Overlap an other slot
      if (this.slots[slot.data('day')]) {
        // Look for each slots of same day
        $.each(this.slots[slot.data('day')], function (i, otherSlot) {

          if (slot[0] == otherSlot.slot[0] && this.slots[slot.data('day')].length == 1) {
            slot.removeClass('overlapped');
          } else if (slot[0] != otherSlot.slot[0]) {
            var slotEnd = otherSlot.start + otherSlot.duration;

            // Beginning  or ending is overlapping
            if (time.start >= otherSlot.start && time.start < slotEnd || timeEnd > otherSlot.start && timeEnd <= slotEnd || time.start <= otherSlot.start && timeEnd >= slotEnd) {
              overlapping = true;
              !this.settings.preventOverlapping && otherSlot.slot.addClass('overlapped');
            } else {
              otherSlot.slot.removeClass('overlapped');
            }
          }
        }.bind(this));
      }

      // Overlap end of period
      if (timeEnd > this.settings.endHour * 60) {
        overlapping = true;
      }

      if (overlapping) {
        if (this.settings.preventOverlapping) {
          slot.addClass('overlapping').removeClass('overlapper');
        } else {
          slot.addClass('overlapper').removeClass('overlapping');
        }
      } else {
        slot.removeClass('overlapping').removeClass('overlapper');
      }

      return overlapping;
    },

    createSlot: function (top, height, day) {
      return $('<div class="slot"><div class="filler" /><div class="slot-info"></div></zone>').data('day', day).css({
        top: top,
        height: height
      });
    },

    createSlotWithParam: function (params) {
      // Calculate start in minutes
      var start = parseInt(params.start.split(':')[0] * 60) + parseInt(params.start.split(':')[1]);

      // Get right column
      var column = $('.day-' + params.day, this.element);

      // Determine elements size from time
      var top = (start / 60 - this.settings.startHour) * (this.settings.timeSlotsPerHour * this.settings.slotHeight) + this.settings.columnsHeaderHeight,
        height = params.duration * this.settings.timeSlotsPerHour * this.settings.slotHeight / 60;

      // Create a new element with right size
      var slot = this.createSlot(top, height, params.day).appendTo(column);

      // Update info display
      this.updateInfo(slot);

      // Get time values
      var time = {
        start: start,
        duration: params.duration,
        slot: slot
      }

      // Save values somewhere
      this.slots[params.day] = this.slots[params.day] || [];
      var pos = this.slots[params.day].push(time) - 1;

      // Save a reference in slot itself
      slot.data('slotPos', pos);

      // Enable controls
      this.setControls(slot);
    },

    // Public method as specified below
    setSlots: function (slots, groupedByDay) {
      slots = slots || this.settings.slots;

      if (groupedByDay === true) {
        $.each(slots, function (i, day) {
          $.each(day.periods, function (j, period) {
            this.createSlotWithParam({
              start: period.hour,
              duration: period.duration,
              day: day.weekday.id
            });
          }.bind(this));
        }.bind(this));
      } else {
        $.each(slots, function (i, slot) {
          this.createSlotWithParam(slot);
        }.bind(this));
      }
    },

    // Public method as specified below
    getSlots: function () {
      // Clean slots
      var slots = {};

      $.each(this.slots, function (key, day) {
        slots[key] = {
          weekday: {
            id: key
          },
          periods: []
        };

        $.each(day, function (i, slot) {
          slots[key].periods.push({
            hour: (Math.floor(slot.start / 60) < 10 ? '0' + Math.floor(slot.start / 60) : Math.floor(slot.start / 60)) + ':' + (slot.start % 60 < 10 ? '0' + slot.start % 60 : slot.start % 60),
            duration: slot.duration
          });
        });
      });

      return slots;
    },

    // Public method 
    cleanSlots: function () {
      //for each day
      $.each(this.slots, function (i, otherSlot) {
        //for each slot a day
        $.each(otherSlot, function (i, object) {
          object.slot.remove();
        });
      }.bind(this));
    }
  };

  // Set a list of public methods
  var public_methods = ['setSlots', 'getSlots', 'cleanSlots'];

  // Lightweight plugin wrapper preventing multiple instantiations
  $.fn[pluginName] = function (methodOrOptions, options, extraoptions) {
    if (public_methods.indexOf(methodOrOptions) > -1) {
      return this.first().data("plugin_" + pluginName)[methodOrOptions](options, extraoptions);
    } else if (typeof methodOrOptions === 'object' || !methodOrOptions) {
      // Default to "init"
      return this.each(function () {
        if (!$.data(this, "plugin_" + pluginName)) {
          $.data(this, "plugin_" + pluginName, new Plugin(this, methodOrOptions));
        }
      });
    } else {
      //$.error( 'Method ' +  methodOrOptions + ' does not exist on jQuery.tooltip' );
    }
  };
})(jQuery, window, document);
; (function ($, window) { $.fn.textWidth = function () { var html_calc = $("<span>" + $(this).html() + "</span>"); html_calc.css("font-size", $(this).css("font-size")).hide(); html_calc.prependTo("body"); var width = html_calc.width(); html_calc.remove(); if (width == 0) { var total = 0; $(this).eq(0).children().each(function () { total += $(this).textWidth() }); return total } return width }; $.fn.textHeight = function () { var html_calc = $("<span>" + $(this).html() + "</span>"); html_calc.css("font-size", $(this).css("font-size")).hide(); html_calc.prependTo("body"); var height = html_calc.height(); html_calc.remove(); return height }; Array.isArray = function (obj) { return Object.prototype.toString.call(obj) === "[object Array]" }; String.prototype.getCodePointLength = function () { return this.length - this.split(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g).length + 1 }; String.fromCodePoint = function () { var chars = Array.prototype.slice.call(arguments); for (var i = chars.length; i-- > 0;) { var n = chars[i] - 65536; if (n >= 0) chars.splice(i, 1, 55296 + (n >> 10), 56320 + (n & 1023)) } return String.fromCharCode.apply(null, chars) }; $.fn.rate = function (options) { if (options === undefined || typeof options === "object") { return this.each(function () { if (!$.data(this, "rate")) { $.data(this, "rate", new Rate(this, options)) } }) } else if (typeof options === "string") { var args = arguments; var returns; this.each(function () { var instance = $.data(this, "rate"); if (instance instanceof Rate && typeof instance[options] === "function") { returns = instance[options].apply(instance, Array.prototype.slice.call(args, 1)) } if (options === "destroy") { $(instance.element).off(); $.data(this, "rate", null) } }); return returns !== undefined ? returns : this } }; function Rate(element, options) { this.element = element; this.settings = $.extend({}, $.fn.rate.settings, options); this.set_faces = {}; this.build() } Rate.prototype.build = function () { this.layers = {}; this.value = 0; this.raise_select_layer = false; if (this.settings.initial_value) { this.value = this.settings.initial_value } if ($(this.element).attr("data-rate-value")) { this.value = $(this.element).attr("data-rate-value") } var selected_width = this.value / this.settings.max_value * 100; if (typeof this.settings.symbols[this.settings.selected_symbol_type] === "string") { var symbol = this.settings.symbols[this.settings.selected_symbol_type]; this.settings.symbols[this.settings.selected_symbol_type] = {}; this.settings.symbols[this.settings.selected_symbol_type]["base"] = symbol; this.settings.symbols[this.settings.selected_symbol_type]["selected"] = symbol; this.settings.symbols[this.settings.selected_symbol_type]["hover"] = symbol } var base_layer = this.addLayer("base-layer", 100, this.settings.symbols[this.settings.selected_symbol_type]["base"], true); var select_layer = this.addLayer("select-layer", selected_width, this.settings.symbols[this.settings.selected_symbol_type]["selected"], true); var hover_layer = this.addLayer("hover-layer", 0, this.settings.symbols[this.settings.selected_symbol_type]["hover"], false); this.layers["base_layer"] = base_layer; this.layers["select_layer"] = select_layer; this.layers["hover_layer"] = hover_layer; $(this.element).on("mousemove", $.proxy(this.hover, this)); $(this.element).on("click", $.proxy(this.select, this)); $(this.element).on("mouseleave", $.proxy(this.mouseout, this)); $(this.element).css({ "-webkit-touch-callout": "none", "-webkit-user-select": "none", "-khtml-user-select": "none", "-moz-user-select": "none", "-ms-user-select": "none", "user-select": "none" }); if (this.settings.hasOwnProperty("update_input_field_name")) { this.settings.update_input_field_name.val(this.value) } }; Rate.prototype.addLayer = function (layer_name, visible_width, symbol, visible) { var layer_body = "<div>"; for (var i = 0; i < this.settings.max_value; i++) { if (Array.isArray(symbol)) { if (this.settings.convert_to_utf8) { symbol[i] = String.fromCodePoint(symbol[i]) } layer_body += "<span>" + symbol[i] + "</span>" } else { if (this.settings.convert_to_utf8) { symbol = String.fromCodePoint(symbol) } layer_body += "<span>" + symbol + "</span>" } } layer_body += "</div>"; var layer = $(layer_body).addClass("rate-" + layer_name).appendTo(this.element); $(layer).css({ width: visible_width + "%", height: $(layer).children().eq(0).textHeight(), overflow: "hidden", position: "absolute", top: 0, display: visible ? "block" : "none", "white-space": "nowrap" }); $(this.element).css({ width: $(layer).textWidth() + "px", height: $(layer).height(), position: "relative", cursor: this.settings.cursor }); return layer }; Rate.prototype.updateServer = function () { if (this.settings.url != undefined) { $.ajax({ url: this.settings.url, type: this.settings.ajax_method, data: $.extend({}, { value: this.getValue() }, this.settings.additional_data), success: $.proxy(function (data) { $(this.element).trigger("updateSuccess", [data]) }, this), error: $.proxy(function (jxhr, msg, err) { $(this.element).trigger("updateError", [jxhr, msg, err]) }, this) }) } }; Rate.prototype.getValue = function () { return this.value }; Rate.prototype.hover = function (ev) { var pad = parseInt($(this.element).css("padding-left").replace("px", "")); var x = ev.pageX - $(this.element).offset().left - pad; var val = this.toValue(x, true); if (val != this.value) { this.raise_select_layer = false } if (!this.raise_select_layer && !this.settings.readonly) { var visible_width = this.toWidth(val); this.layers.select_layer.css({ display: "none" }); if (!this.settings.only_select_one_symbol) { this.layers.hover_layer.css({ width: visible_width + "%", display: "block" }) } else { var index_value = Math.floor(val); this.layers.hover_layer.css({ width: "100%", display: "block" }); this.layers.hover_layer.children("span").css({ visibility: "hidden" }); this.layers.hover_layer.children("span").eq(index_value != 0 ? index_value - 1 : 0).css({ visibility: "visible" }) } } }; Rate.prototype.select = function (ev) { if (!this.settings.readonly) { var old_value = this.getValue(); var pad = parseInt($(this.element).css("padding-left").replace("px", "")); var x = ev.pageX - $(this.element).offset().left - pad; var selected_width = this.toWidth(this.toValue(x, true)); this.setValue(this.toValue(selected_width)); this.raise_select_layer = true } }; Rate.prototype.mouseout = function () { this.layers.hover_layer.css({ display: "none" }); this.layers.select_layer.css({ display: "block" }) }; Rate.prototype.toWidth = function (val) { return val / this.settings.max_value * 100 }; Rate.prototype.toValue = function (width, in_pixels) { var val; if (in_pixels) { val = width / this.layers.base_layer.textWidth() * this.settings.max_value } else { val = width / 100 * this.settings.max_value } var temp = val / this.settings.step_size; if (temp - Math.floor(temp) < 5e-5) { val = Math.round(val / this.settings.step_size) * this.settings.step_size } val = Math.ceil(val / this.settings.step_size) * this.settings.step_size; val = val > this.settings.max_value ? this.settings.max_value : val; return val }; Rate.prototype.getElement = function (layer_name, index) { return $(this.element).find(".rate-" + layer_name + " span").eq(index - 1) }; Rate.prototype.getLayers = function () { return this.layers }; Rate.prototype.setFace = function (value, face) { this.set_faces[value] = face }; Rate.prototype.setAdditionalData = function (data) { this.settings.additional_data = data }; Rate.prototype.getAdditionalData = function () { return this.settings.additional_data }; Rate.prototype.removeFace = function (value) { delete this.set_faces[value] }; Rate.prototype.setValue = function (value) { if (!this.settings.readonly) { if (value < 0) { value = 0 } else if (value > this.settings.max_value) { value = this.settings.max_value } var old_value = this.getValue(); this.value = value; var change_event = $(this.element).trigger("change", { from: old_value, to: this.value }); $(this.element).find(".rate-face").remove(); $(this.element).find("span").css({ visibility: "visible" }); var index_value = Math.ceil(this.value); if (this.set_faces.hasOwnProperty(index_value)) { var face = "<div>" + this.set_faces[index_value] + "</div>"; var base_layer_element = this.getElement("base-layer", index_value); var select_layer_element = this.getElement("select-layer", index_value); var hover_layer_element = this.getElement("hover-layer", index_value); var left_pos = base_layer_element.textWidth() * (index_value - 1) + (base_layer_element.textWidth() - $(face).textWidth()) / 2; $(face).appendTo(this.element).css({ display: "inline-block", position: "absolute", left: left_pos }).addClass("rate-face"); base_layer_element.css({ visibility: "hidden" }); select_layer_element.css({ visibility: "hidden" }); hover_layer_element.css({ visibility: "hidden" }) } if (!this.settings.only_select_one_symbol) { var width = this.toWidth(this.value); this.layers.select_layer.css({ display: "block", width: width + "%", height: this.layers.base_layer.css("height") }); this.layers.hover_layer.css({ display: "none", height: this.layers.base_layer.css("height") }) } else { var width = this.toWidth(this.settings.max_value); this.layers.select_layer.css({ display: "block", width: width + "%", height: this.layers.base_layer.css("height") }); this.layers.hover_layer.css({ display: "none", height: this.layers.base_layer.css("height") }); this.layers.select_layer.children("span").css({ visibility: "hidden" }); this.layers.select_layer.children("span").eq(index_value != 0 ? index_value - 1 : 0).css({ visibility: "visible" }) } $(this.element).attr("data-rate-value", this.value); if (this.settings.change_once) { this.settings.readonly = true } this.updateServer(); var change_event = $(this.element).trigger("afterChange", { from: old_value, to: this.value }); if (this.settings.hasOwnProperty("update_input_field_name")) { this.settings.update_input_field_name.val(this.value) } } }; Rate.prototype.increment = function () { this.setValue(this.getValue() + this.settings.step_size) }; Rate.prototype.decrement = function () { this.setValue(this.getValue() - this.settings.step_size) }; $.fn.rate.settings = { max_value: 5, step_size: .5, initial_value: 0, symbols: { utf8_star: { base: "", hover: "", selected: "" }, utf8_hexagon: { base: "", hover: "", selected: "" }, hearts: "&hearts;", fontawesome_beer: '<i class="fas fa-beer"></i>', fontawesome_star: { base: '<i class="far fa-star"></i>', hover: '<i class="fas fa-star"></i>', selected: '<i class="fas fa-star"></i>' }, utf8_emoticons: { base: [128549, 128531, 128530, 128516], hover: [128549, 128531, 128530, 128516], selected: [128549, 128531, 128530, 128516] } }, selected_symbol_type: "utf8_star", convert_to_utf8: false, cursor: "default", readonly: false, change_once: false, only_select_one_symbol: false, ajax_method: "POST", additional_data: {} } })(jQuery, window);
; var LEARNIFY = LEARNIFY || {};
LEARNIFY.helpers = LEARNIFY.helpers || {};

LEARNIFY.helpers.notify = (function () {
  function notifyDefaultError() {
    notifyError("Ocorreu algum erro.");
  }
  function notifySuccess(message) {
    $.notify(message, "success");
  }
  function notifyError(message) {
    $.notify(message, "error");
  }

  return {
    notifyDefaultError: notifyDefaultError,
    notifySuccess: notifySuccess,
    notifyError: notifyError
  }
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.helpers = LEARNIFY.helpers || {};

var notify = LEARNIFY.helpers.notify;

LEARNIFY.helpers.sessions = (function () {
  var elements = {
    $contactModalForm: $("#contact-modal-form"),
    $contactModalMessage: $("#contact-modal-message"),
    $contactModal: $("#contact-modal"),
    contactExplainerEndpoint: "/Messages/ContactExplainer",
  }

  function onSubmitSendMessage(explId) {
    elements.$contactModalForm.on("submit", function (e) {
      e.preventDefault();

      var btn = $(this).find(".btn-main");
      btn.attr("disabled", true);

      var params = {
        text: elements.$contactModalMessage.val(),
        explainerId: explId
      };

      $.ajax({
        type: "POST",
        url: elements.contactExplainerEndpoint,
        data: params,
        success: function (data) {
          elements.$contactModal.modal("hide");
          notify.notifySuccess("Messagem enviada com sucesso!");
          btn.attr("disabled", false);
        },
        error: function (xhr, status, error) {
          console.log(xhr);
          btn.attr("disabled", false);
        }
      });
    });
  }

  return {
    onSubmitSendMessage: onSubmitSendMessage
  }
})(); var LEARNIFY = LEARNIFY || {};

LEARNIFY.basicInfo = (function () {
  var elements = { $birthdayDate: $("#birthdayDate") };

  function initBirthdayDatepicker() {
    elements.$birthdayDate.calendar({
      type: 'date',
      monthFirst: false
    });
  };

  function init() {
    initBirthdayDatepicker();

    $('input.button--primary').on('click', function () {
      mixpanel.track('To disciplines info');
    });
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

LEARNIFY.dash.admin = (function () {
  var elements = {}

  function initAdminEvents() {
    $(".recording-btn").on("click", function () {
      var url = $(this).data('url');
      $("#recording-video").attr("src", url);
    });
  }

  function init() {
    initAdminEvents();
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

var notify = LEARNIFY.helpers.notify;

LEARNIFY.dash.disciplines = (function () {
  var elements = {
    $addDisciplineModalBtn: $('button.disciplines-btn'),
    $addDisciplineBtn: $('#addDisciplineBtn'),
    $disciplinesList: $('#disciplinesList'),
    $disciplinePrice: $('#disciplinePrice'),
    addDisciplinesEndpoint: '/Disciplines/AddDisciplineTutor',
    $disciplinesDropdown: $('#dropdownDisciplines'),
    $addDisciplineModal: $('#addDisciplineModal'),
    getDisciplinesNotTeachingEndpoint: '/Dashboard/Disciplines/getDisciplinesNotTeaching',
    deleteDisciplineEndpoint: '/Disciplines/DeleteDisciplineTutor',
  };

  /**
  * Creating a dropdown with the data received from a request.
  * A fragment is created to not append html inside the loop. Not a good practice.
  * @param {any} data - disciplines from an ajax request.
  */
  function createDropdownWithDisciplines(data) {
    var disciplines = JSON.parse(data);
    elements.$disciplinesDropdown.empty();

    var fragment = document.createDocumentFragment();

    $.each(disciplines, function (index, val) {
      var newOption = document.createElement("option");
      var optionText = document.createTextNode(val.Name);
      newOption.value = val.Id;
      newOption.appendChild(optionText);

      fragment.appendChild(newOption);
    });
    elements.$disciplinesDropdown[0].appendChild(fragment);
  }

  /**
  * Event listener when the user already completed the form to add discipline.
  * This function is to handle the button click to insert the information in the db.
  */
  function addDisciplinesHandler() {
    var priceVal = elements.$disciplinePrice.val();

    if (priceVal == '' || priceVal === null) {
      notify.notifyError('O valor da disciplina tem de ser no minmo 5/Aula.');
      return;
    }

    $.ajax({
      type: 'POST',
      url: elements.addDisciplinesEndpoint,
      data: {
        disciplineId: elements.$disciplinesDropdown.find(':selected').val(),
        disciplinePrice: elements.$disciplinePrice.val(),
      },
      success: function (data) {
        if (data.result === "OK") {
          elements.$disciplinesList.html(data.view);
          elements.$addDisciplineModal.modal("hide");
        } else {
          notify.notifyError(data.errorMsg);
        }
      },
    });
  }

  /**
  * Get the disciplines the user is not teaching.
  */
  function getDisciplinesNotTeaching() {
    $.ajax({
      type: 'GET',
      url: window.location.origin + elements.getDisciplinesNotTeachingEndpoint,
      success: function (data) {
        createDropdownWithDisciplines(data);
      },
    });
  }

  function cancelEditDiscipline() {
    var _this = $(this);
    _this.closest('tr').find('span.disc-price').show();
    _this.closest('tr').find('input.disc-input-price').hide();

    // hide all buttons
    _this.closest('td').find('div.disc-btn-group').hide();
    // show edit button
    _this.closest('td').find('button.disc-btn-edit').show();
  }

  function removeDiscipline() {
    var _this = $(this);
    var id = _this.closest('tr').find('td.discId').attr('id');
    var inputPrice = _this.closest('tr').find('input.disc-input-price');
    _this.closest('tr').find('span.disc-price').text(inputPrice.val()).show();
    inputPrice.hide();

    // hide all buttons
    _this.closest('td').find('div.disc-btn-group').hide();
    // show edit button
    _this.closest('td').find('button.disc-btn-edit').show();

    $.ajax({
      type: 'POST',
      url: elements.deleteDisciplineEndpoint,
      data: {
        disciplineId: id,
      },
      success: function (data) {
        _this.closest("tr").remove();
      },
    });
  }

  function saveDisciplinePrice() {
    var _this = $(this);
    var id = _this.closest('tr').find('td.discId').attr('id');

    var inputPrice = _this.closest('tr').find('input.disc-input-price');
    var priceVal = inputPrice.val();

    if (priceVal == '' || priceVal === null) {
      notify.notifyError('O valor da disciplina tem de ser no minmo 5/Aula.');
      return;
    }

    $.ajax({
      type: 'POST',
      url: '/Disciplines/UpdateDisciplinePrice',
      data: {
        disciplineId: parseInt(id),
        price: priceVal,
      },
      success: function (data) {
        if (data === "False") {
          notify.notifyError("O valor da disciplina tem de ser no minmo 5/Aula.")
        } else {
          _this.closest("tr").find("span.disc-price").text(inputPrice.val()).show();
          inputPrice.hide();
          _this.closest("td").find("div.disc-btn-group").hide();
          _this.closest("td").find("button.disc-btn-edit").show();
        }
      },
      error: function () {
        notify.notifyDefaultError();
      },
    });
  }

  function editDiscipline(e) {
    e.preventDefault();

    var _this = $(this);
    _this.hide();
    _this.siblings('div.disc-btn-group').show();

    var spanPrice = _this.closest('tr').find('span.disc-price');
    spanPrice.hide();
    _this.closest('tr').find('input.disc-input-price').val(parseInt(spanPrice.text())).show();
  }

  /**
  * Setting events for the discipline page
  */
  function initDisciplinesEvents() {
    elements.$addDisciplineModalBtn.on('click', addDisciplinesHandler);
    elements.$addDisciplineBtn.on('click', getDisciplinesNotTeaching); // btn to open modal

    elements.$disciplinesList.on('click', '.disc-btn-cancel', cancelEditDiscipline);
    elements.$disciplinesList.on('click', '.disc-btn-remove', removeDiscipline);
    elements.$disciplinesList.on('click', '.disc-btn-save', saveDisciplinePrice);
    elements.$disciplinesList.on('click', '.disc-btn-edit', editDiscipline);
  }

  function init(cb) {
    initDisciplinesEvents();

    if (cb) {
      elements.cb = cb;
    }
  }

  return {
    init: init,
  };
}());
; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

var notify = LEARNIFY.helpers.notify;

LEARNIFY.dash.editProfile = (function () {
  var elements = {
    $addProfessionalCurriculum: $("#addProfessionalCurriculumRecord"),
    $addAcademicCurriculum: $("#addAcademicCurriculumRecord"),
    $curriculumRecord: $(".curriculum-record"),
    $editCurriculumRecord: $("#editCurriculumRecord"),
    $changePasswordForm: $("#changePasswordForm"),
    $saveTutorInfo: $(".save-tutor_info"),
    $resendVerificationAccBtn: $(".token-resend"),
  };

  /**
  * Receives n arguments with strings with the location of the datepickers to initialize.
  */
  function initDatepickers() {
    for (var i = 0; i < arguments.length; i++) {
      $(arguments[i]).calendar({
        type: 'date',
        monthFirst: false
      });
    }
  };

  function ToJavaScriptDate(value) {
    var pattern = /Date\(([^)]+)\)/;
    var results = pattern.exec(value);
    var dt = new Date(parseFloat(results[1]));
    return dt.getDate() + "/" + (dt.getMonth() + 1) + "/" + dt.getFullYear();
  }

  function DateTimeToDate(value) {
    var dt = new Date(value);
    return dt.getDate() + "/" + (dt.getMonth() + 1) + "/" + dt.getFullYear();
  }

  function parseCurriculumRecordToHTML(curriculumRecord) {
    var div = document.createElement("div");
    div.id = curriculumRecord.id;
    div.className = "curriculum-record";
    div.dataset.experiencetype = "";

    var iconRemove = document.createElement("i");
    iconRemove.className = "fa fa-trash-o remove-record pull-right";
    $(iconRemove).on("click", recordRemoveHandler);

    var h3 = document.createElement("h3");
    h3.className = "position";
    h3.textContent = curriculumRecord.tutorPosition;

    var iconEdit = document.createElement("i");
    iconEdit.className = "fa fa-edit edit-record pull-right";
    $(iconEdit).on("click", fillEditRecordModal);

    var span = document.createElement("span");
    span.className = "work-entity";
    span.textContent = curriculumRecord.workingEntity;

    var br = document.createElement("br");

    var spanBeginDate = document.createElement("span");
    spanBeginDate.className = "beginDate";
    spanBeginDate.textContent = DateTimeToDate(curriculumRecord.beginDate)

    var spanEndDate = document.createElement("span");
    spanEndDate.className = "endDate";

    if (!curriculumRecord.endDate) {
      spanEndDate.textContent = "Agora";
    } else {
      spanEndDate.textContent = DateTimeToDate(curriculumRecord.endDate);
    }

    $(div).append(iconRemove, h3, iconEdit, iconEdit, span, br, spanBeginDate, "-", spanEndDate);

    return div;
  }

  function clearCurriculumModalInputs(form) {
    form.find('input').val('');
    form.find('#add-professional-beginDate', '#add-professional-endDate').calendar('clear');
  }

  function reorderRecords(experienceType, list) {
    if (experienceType === "academic") {
      $(".academic-experience").empty()
      list.forEach(function (elem) {
        $(".academic-experience").append(parseCurriculumRecordToHTML(elem));
      });
    } else {
      $(".professional-experience__container").empty()
      list.forEach(function (elem) {
        $(".professional-experience__container").append(parseCurriculumRecordToHTML(elem));
      });
    }
  }

  function recordRemoveHandler() {
    var params = {
      curriculumRecordId: parseInt($(this).parent().attr('id'))
    }

    $.ajax({
      type: "POST",
      url: "/Profile/DeleteCurriculumRecord",
      data: params,
      success: function (data) {
        $('#' + params.curriculumRecordId).remove();
        notify.notifySuccess("Experincia curricular removida com sucesso.");
      },
      error: function (xhr, status, error) {
        notify.notifyError("Ocorreu um erro a remover a experincia curricular!");
      }
    });
  }

  function fillEditRecordModal() {
    var recordId = $(this).parent().attr('id');
    var position = $(this).siblings('.position').text();
    var workEntity = $(this).siblings('.work-entity').text();
    var beginDate = $(this).siblings('.beginDate').text();
    var endDate = $(this).siblings('.endDate').text();
    var experienceType = $(this).parent().parent().data('experiencetype');

    $('#editPosition').val(position);
    $('#editBeginDate').calendar('set date', beginDate);
    $('#editEndDate').calendar('set date', endDate);
    $('#editEntity').val(workEntity);
    $('#editCurriculumRecord').data('recordid', recordId);
    $('#editCurriculumRecord').data('type', experienceType);

    $('#editCurriculumRecordModal').modal('toggle');
  }

  function onSubmitCurriculumRecord(e) {
    e.preventDefault();

    var params = {
      id: $('#editCurriculumRecord').data('recordid'),
      tutorPosition: $('#editPosition').val(),
      beginDate: $('#editBeginDate').calendar('get date'),
      endDate: $('#editEndDate').calendar('get date'),
      experienceType: $('#editCurriculumRecord').data('type'),
      workingEntity: $('#editEntity').val()
    }

    $.ajax({
      type: "POST",
      url: "/Profile/EditCurriculumRecord",
      data: JSON.stringify(params),
      contentType: "application/json; charset=utf-8",
      dataType: "json",
      success: function (data) {
        reorderRecords(params.experienceType, data.value);

        $('#editCurriculumRecordModal').modal('hide');
        notify.notifySuccess('Perfil editado com sucesso!');
      },
      error: function (xhr, status, error) {
        notify.notifyDefaultError();
        console.log(xhr);
      }
    });
  }

  function resendVerificationAccount() {
    var _this = this;
    $(_this).addClass('ui loading button');

    $.ajax({
      type: "GET",
      url: "/dashboard/account/resendConfirmationEmail",
      success: function (data) {
        $(_this).removeClass('ui loading button');
        notify.notifySuccess("Email enviado. Verifique a sua caixa de correio.");
      },
      error: function (err) {
        $(_this).removeClass('ui loading button');
        notify.notifyError("Ocorreu algum erro, tente de novo.");
      }
    });
  }

  function saveTutorInfo() {
    elements.$saveTutorInfo.addClass("loading");

    var formdata = new FormData();

    var token = $('input[name="__RequestVerificationToken"]').val();
    formdata.append('__RequestVerificationToken', token);

    formdata.append('Description', $("#Description").val());
    formdata.append('MyApproach', $("#MyApproach").val());
    formdata.append('LinkedinProfile', $("#LinkedinProfile").val())
    formdata.append('FacebookProfile', $("#FaceboookProfile").val());

    var cvFile = $("#CurriculumFile")[0].files[0];
    var certificateFile = $("#CertificateFile")[0].files[0];

    if (hasFile(cvFile)) {
      if (isFileSizeInvalid(cvFile)) {
        notify.notifyError("Os ficheiros no podem ter mais de 2MB.");
        return;
      }
      formdata.append('CurriculumFile', cvFile);
    }

    if (hasFile(certificateFile)) {
      if (isFileSizeInvalid(certificateFile)) {
        notify.notifyError("Os ficheiros no podem ter mais de 2MB.");
        return;
      }
      formdata.append('CertificateFile', certificateFile);
    }

    $.ajax({
      type: "POST",
      url: "/Profile/TutorInfoForm",
      data: formdata,
      contentType: false,
      processData: false,
      success: function (data) {
        elements.$saveTutorInfo.removeClass('loading');
        notify.notifySuccess("Informao guardada com sucesso.");
      },
      error: function (err) {
        elements.$saveTutorInfo.removeClass('loading');
        notify.notifyError("Ocorreu algum erro, tente de novo.");
      }
    });
  }

  function hasFile(file) {
    return file !== undefined;
  }

  function isFileSizeInvalid(file) {
    //bigger than 2MB
    return file.size / 1024 / 1024 > 2;
  }

  function addTutorExperienceHandler(e) {
    e.preventDefault();

    var _this = $(this);
    var experienceType = _this.data("type");
    var btnSubmit = _this.find(':submit');
    btnSubmit.attr("disabled", true);
    var beginDate;

    if (experienceType === "professional") {
      beginDate = _this.find("#add-professional-beginDate").calendar('get date');
      endDate = _this.find("#add-professional-endDate").calendar('get date');
    } else {
      beginDate = _this.find("#add-academic-beginDate").calendar('get date');
      endDate = _this.find("#add-academic-endDate").calendar('get date');
    }

    var params = {
      tutorPosition: _this.find(".tutor-position").val(),
      beginDate: beginDate,
      endDate: endDate,
      experienceType: _this.data("type"),
      workingEntity: _this.find('.entity').val()
    }

    $.ajax({
      type: "POST",
      url: "/Profile/AddCurriculumRecord",
      data: JSON.stringify(params),
      contentType: "application/json; charset=utf-8",
      dataType: "json",
      success: function (data) {
        reorderRecords(params.experienceType, data.value);

        _this.parent().parent().parent().parent().modal("hide");
        notify.notifySuccess("Experincia curricular adicionada com sucesso.");
        btnSubmit.attr("disabled", false);
        clearCurriculumModalInputs(_this);
      },
      error: function (xhr, status, error) {
        console.log("FAILED: " + error)
      }
    });
  }

  function handlerChangePassword(e) {
    e.preventDefault();

    var form = $('#__AjaxAntiForgeryForm');
    var token = $('input[name="__RequestVerificationToken"]').val();

    var data = {
      userPasswords: {
        CurrentPassword: $("#CurrentPassword").val(),
        NewPassword: $("#NewPassword").val(),
        ConfirmNewPassword: $("#NewPassword").val()
      },
      __RequestVerificationToken: token,
    };

    $.ajax({
      type: "POST",
      url: "/Profile/ChangePasswordForm",
      data: data,
      success: function (data) {
        if (data.result === "OK") {
          notify.notifySuccess("Informao guardada com sucesso.");
          $("#passwordFailure").removeClass("field-validation-error").addClass("field-validation-valid").text("");
        } else {
          $("#passwordFailure").removeClass("field-validation-valid").addClass("field-validation-error").text(data.errorMsg);
        }
      },
      error: function (err) {
        notify.notifyError("Ocorreu algum erro, tente de novo.");
      }
    });
  }

  function initEditProfileEvents() {
    initDatepickers("#birthdayDate", "#add-professional-beginDate", "#add-professional-endDate",
      "#add-academic-beginDate", "#add-academic-endDate", "#editBeginDate", "#editEndDate");

    $('.tabular.menu .item').tab();
    $('.professional-experience__new').on('click', function (e) {
      e.preventDefault();
    })
    elements.$saveTutorInfo.on('click', saveTutorInfo);

    elements.$addProfessionalCurriculum.on("submit", addTutorExperienceHandler);
    elements.$addAcademicCurriculum.on("submit", addTutorExperienceHandler);

    elements.$curriculumRecord.find('.remove-record').on("click", recordRemoveHandler);
    elements.$curriculumRecord.find('.edit-record').on("click", fillEditRecordModal);
    elements.$editCurriculumRecord.on('submit', onSubmitCurriculumRecord);
    elements.$resendVerificationAccBtn.on("click", resendVerificationAccount);
    elements.$changePasswordForm.on("submit", handlerChangePassword);

    $(".checkbox").checkbox();
  }

  function init() {
    initEditProfileEvents();
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

var notify = LEARNIFY.helpers.notify;

LEARNIFY.dash.messages = (function () {
  var elements = {
    $btnSubmit: $("#btn-submit"),
    sendMessageEndpoint: "/Messages/SendMessage",
    $conversation: $("#conversation")
  }

  function getContactId() {
    return parseInt(window.location.href.split('/').pop()) || null;
  }


  function scrollToBottom() {
    var objDiv = document.getElementById("conversation");
    objDiv.scrollTop = objDiv.scrollHeight;
  }

  function initMessagesEvents() {
    elements.$btnSubmit.on('click', function () {
      var contact = getContactId();
      var textInput = document.getElementById('send-message-text');
      var $sendMessageText = $(textInput);
      var textVal = $sendMessageText.val();
      var _this = $(this);

      if (!textInput.checkValidity()) {
        notify.notifyError("O texto no pode ser vazio.");
        $sendMessageText.focus();
      } else {
        _this.prop("disabled", true);
        _this.addClass("disabled");

        var formData = new FormData();
        formData.append('file', $('#file-input')[0].files[0]);
        formData.append('contactId', contact);
        formData.append('text', textVal);

        $.ajax({
          type: "POST",
          url: elements.sendMessageEndpoint,
          data: formData,
          processData: false,
          contentType: false,
          success: function (data) {
            $sendMessageText.val("");

            var clearfixDiv = $("<div></div>").addClass("clearfix").addClass("mb-05");
            var newMessage = $("<div></div>").addClass("pull-right").addClass("message__right");
            var textP = $("<p></p>").text(textVal);

            if (data.attachmentUrl !== null) {
              var fileAnchor = $("<a></a>").addClass("message__file")
                .attr("href", data.attachmentUrl)
                .attr("target", "_blank")
                .text(data.originalFilename);
              textP.append($("<br>"));
              textP.append(fileAnchor);
            }

            newMessage.append(textP);
            clearfixDiv.append(newMessage);
            elements.$conversation.append(clearfixDiv);

            _this.prop("disabled", false);
            _this.removeClass("disabled");

            scrollToBottom();
            cleanupFileInput();
          },
          error: function (xhr, status, error) {
            notify.notifyDefaultError();
            _this.prop("disabled", false);
            _this.removeClass("disabled");
          }
        });
      }
    });

    scrollToBottom();
  }

  function handleFileUploadName() {
    $("#file-input").on("change", function (element) {
      $("#file-input-label > p").text(element.target.files[0].name);
      $("#file-input-discard").removeClass("hidden");
    });
  }

  function handleFileDiscard() {
    $("#file-input-discard").on("click", function () {
      cleanupFileInput()
    });
  }

  function cleanupFileInput() {
    $("#file-input-label > p").text("Escolher ficheiro");
    $("#file-input").val("");
    $("#file-input-discard").addClass("hidden");
  }

  function init() {
    initMessagesEvents();
    handleFileUploadName();
    handleFileDiscard();
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

var sessionsHelper = LEARNIFY.helpers.sessions;
var notify = LEARNIFY.helpers.notify;

LEARNIFY.dash.requests = (function () {
  var elements = {
    $openContactModalBtn: $(".contact-modal"),
    explId: $(".contact-modal").data("tutorid"),
    $contactModal: $("#contact-modal"),
    $acceptSessionBtn: $(".requests-sessions__accept"),
    $rejectSessionBtn: $(".requests-sessions__reject"),
    $changeSessionBtn: $(".requests-sessions__change"),
    $cancelSessionBtn: $(".requests-sessions__cancel"),
    $requestsFreeAccept: $(".requests-free__accept"),
    $requestsFreeReject: $(".requests-free__reject"),
    $requestsFreeCancel: $(".requests-free__cancel"),
    requestCancelEndpoint: "/dashboard/requests/cancel",
  }

  function requestHandler(params, endpoint, row, successCb, errorCb) {
    $.ajax({
      type: "POST",
      url: endpoint,
      data: params,
      success: function (data) {
        row.remove();
        successCb();
      },
      error: function () {
        errorCb ? errorCb() : null;
        notify.notifyDefaultError();
      }
    });
  }

  function cancelRequest(params, endpoint, row) {
    requestHandler(params, endpoint, row, function () {
      notify.notifySuccess("Aula cancelada com sucesso");
    }
    );
  }

  function acceptRequest(params, endpoint, row, btnClass) {
    requestHandler(params, endpoint, row, function () {
      notify.notifySuccess("Aula aceite com sucesso!");

      if (btnClass !== undefined) {
        btnClass.removeAttr("disabled");
      }
    }
    );
  }

  function rejectRequest(params, endpoint, row) {
    requestHandler(params, endpoint, row, function () {
      notify.notifySuccess("Aula rejeitada com sucesso");
    });
  }

  function disableOtherButtons(clickedBtn) {
    elements.$acceptSessionBtn.attr("disabled", "disabled");
    clickedBtn.removeAttr("disabled");
  };

  function acceptSessionRequest() {
    var $this = $(this);
    var sessionId = $this.closest("tr").data("id");
    var row = $this.closest("li");

    disableOtherButtons($this);
    $this.addClass("loading");

    acceptRequest({ id: sessionId }, "/dashboard/requests/accept", row, elements.$acceptSessionBtn);
  };

  function rejectSessionRequest() {
    var $this = $(this);
    var sessionId = $this.closest("tr").data("id");
    var row = $this.closest("li");

    rejectRequest({ id: sessionId }, "/dashboard/requests/reject", row);
  }

  function cancelSessionRequest() {
    var $this = $(this);
    var sessionId = $this.closest("tr").data("id");
    var row = $this.closest("li");

    cancelRequest({ id: sessionId }, "/dashboard/requests/cancel", row);
  }

  function acceptFreeRequest() {
    var $this = $(this);
    var id = $this.closest("tr").data("id");
    var row = $this.closest("li");

    $this.addClass("loading");

    acceptRequest({ freeCallId: id }, "/FreeCall/Accept", row);
  }

  function rejectFreeRequest() {
    var $this = $(this);
    var id = $this.closest("tr").data("id");
    var row = $this.closest("li");

    rejectRequest({ freeCallId: id }, "/FreeCall/Reject", row);
  }

  function cancelFreeRequest() {
    var $this = $(this);
    var id = $this.closest("tr").data("id");
    var row = $this.closest("li");

    cancelRequest({ freeCallId: id }, "/FreeCall/Cancel", row);
  }

  function initSessionRequestsEvents() {
    elements.$acceptSessionBtn.on("click", acceptSessionRequest);
    elements.$rejectSessionBtn.on("click", rejectSessionRequest);
    elements.$cancelSessionBtn.on("click", cancelSessionRequest);

    elements.$requestsFreeAccept.on("click", acceptFreeRequest);
    elements.$requestsFreeReject.on("click", rejectFreeRequest);
    elements.$requestsFreeCancel.on("click", cancelFreeRequest);

    elements.$openContactModalBtn.on("click", function (e) {
      e.preventDefault();
      elements.$contactModal.modal("toggle");
    });
    sessionsHelper.onSubmitSendMessage(elements.explId);
  }

  function init() {
    initSessionRequestsEvents();
  }

  return {
    init: init
  };
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

var notify = LEARNIFY.helpers.notify;

LEARNIFY.dash.reviews = (function () {
  var elements = {
    $rater: $('.rater'),
    $addReviewModal: $('#addReview-modal'),
    $addReviewModalRating: $("#addReview-modal-rating"),
    reviewsEndpoint: "/dashboard/reviews",
    $addReviewTitle: $("#addReview-modal-title"),
    $addReviewDescription: $("#addReview-modal-description"),
    $addReviewSubmit: $("#addReview-modal-submit"),
    $addReviewModalLabel: $('#addReviewModalLabel'),
    $btnAvaliar: $('.btn-avaliar'),
    $addReviewModalForm: $('#addReview-modal-form')
  }
  function addReviewHandler(e) {
    e.preventDefault();
    var ratingString = elements.$addReviewModalRating.rate("getValue");
    var data = {
      title: elements.$addReviewTitle.val(),
      text: elements.$addReviewDescription.val(),
      rating: JSON.stringify(ratingString),
      explainerId: elements.$addReviewSubmit.data('explainer')
    };

    $.ajax({
      type: "POST",
      url: elements.reviewsEndpoint,
      data: data,
      success: function (data) {
        elements.$addReviewModal.modal('hide');
        window.location.reload();
      },
      error: function (xhr, status, error) {
        notify.notifyError("Ocorreu um erro a adicionar a avaliao!");
      }
    });
  }

  function onReviewModalOpenning() {
    var _this = $(this);
    var parentLi = _this.closest('li');
    var explainerId = parentLi[0].id;
    var explainerName = _this.parent().siblings('#explainerName').text();

    elements.$addReviewModalLabel.text('Avalia o ' + explainerName);
    elements.$addReviewSubmit.data('explainer', explainerId);
  }

  function initRaters() {
    var options = {
      max_value: 5,
      step_size: 0.5,
      initial_value: 0,
      selected_symbol_type: 'fontawesome_star', // Must be a key from symbols
    }

    elements.$addReviewModalRating.rate(options).css('width', '65px');

    options.readonly = true;

    elements.$rater.each(function (elem) {
      $(this).rate(options).css('width', '66px');
    });
  }

  function initReviewsEvents() {
    elements.$btnAvaliar.on('click', onReviewModalOpenning);
    elements.$addReviewModalForm.on('submit', addReviewHandler);
    initRaters();
  }

  function init() {
    initReviewsEvents();
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

var notify = LEARNIFY.helpers.notify;

LEARNIFY.dash.schedule = (function () {
  var elements = {
    getScheduleTutorEndpoint: "/Schedule/GetScheduleTutor",
    setScheduleTutor: "/Schedule/SetScheduleTutor",
    deleteAllDisponibility: "/Schedule/DeleteAllDisponibility",
    $calendarPlanner: $("#availabilityCalendar"),
    $saveScheduleBtn: $(".schedule-planner__save"),
    $cleanScheduleBtn: $(".schedule-planner__clean"),
  }

  function saveSchedule(e) {
    e.preventDefault();
    var slots = elements.$calendarPlanner.weekPlanner("getSlots");
    var self = $(this);

    self.addClass('loading');

    $.ajax({
      type: "POST",
      url: elements.setScheduleTutor,
      data: {
        slotsList: JSON.stringify(slots)
      },
      success: function (data) {
        self.removeClass("loading");
        notify.notifySuccess("Horrio guardado com sucesso!");
      },
      error: function (data) {
        self.removeClass("loading");
        notify.notifyDefaultError();
      }
    });
  };

  function cleanSchedule(e) {
    e.preventDefault();
    var self = $(this);

    self.addClass('loading');

    $.ajax({
      type: "POST",
      url: elements.deleteAllDisponibility,
      success: function (data) {
        elements.$calendarPlanner.weekPlanner("cleanSlots");
        getPlannerInitialData();
        self.removeClass("loading");
        notify.notifySuccess("Horrio apagado com sucesso!");
      },
      error: function (data) {
        self.removeClass("loading");
        notify.notifyDefaultError();
      }
    });
  };

  function initPlanner(sessionDuration) {
    elements.$calendarPlanner.weekPlanner({
      weekDays: ["Segunda", "Tera", "Quarta", "Quinta", "Sexta", "Sbado", "Domingo"],
      timeSlotsPerHour: 4,
      minimumDurationInSlot: sessionDuration / 15,
      slotHeight: 10,
      startHour: 0,
      endHour: 24,
      slots: []
    });
  };

  function initScheduleEvents() {
    elements.$saveScheduleBtn.on('click', saveSchedule);
    elements.$cleanScheduleBtn.on('click', cleanSchedule);
  }

  function getPlannerInitialData() {
    $.ajax({
      type: "GET",
      url: elements.getScheduleTutorEndpoint,
      success: function (data) {
        initPlanner(data.duration);
        elements.$calendarPlanner.weekPlanner(
          "setSlots",
          JSON.parse(data.slots),
          true
        );
      },
      error: function (xhr, status, error) {
        console.log(xhr);
        console.log("FAILED: " + error);
      }
    });
  };

  function init() {
    getPlannerInitialData();
    initScheduleEvents();
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};
LEARNIFY.dash = LEARNIFY.dash || {};

var sessionsHelper = LEARNIFY.helpers.sessions;
var notify = LEARNIFY.helpers.notify;

LEARNIFY.dash.sessions = (function () {
  var elements = {
    $joinSessionBtn: $('.btn-join-session'),
    $openDetailsBtn: $('.btn-student-details'),
    $btnJoinFree: $('.btn-join-free'),
    $openContactModalBtn: $('.contact-modal'),
    $contactModal: $('#contact-modal'),
    $contactModalForm: $('#contact-modal-form'),
    $contactModalMessage: $('#contact-modal-message'),
    $contactStudentForm: $('#contact-student-form'),
    explId: $('.schedule__container').data('expl'), // tutor ID
    contactExplainerEndpoint: '/Messages/ContactExplainer',
    sessionDetails: {}
  };

  function joinSession() {
    var params = {
      sessionId: parseInt($(this).attr('id'))
    };
    joinVirtualClassroom(params, '/Sessions/JoinSession');
  }

  function joinFreeCall() {
    var params = {
      freeCallId: parseInt($(this).attr('id'))
    };
    joinVirtualClassroom(params, '/FreeCall/JoinFreeCall');
  }

  function joinVirtualClassroom(params, endpoint) {
    $.ajax({
      type: 'POST',
      url: endpoint,
      data: params,
      //contentType: 'application/json; charset=utf-8',
      //dataType: 'json',
      success: function (data) {
        console.log(data);

        if (data.result === 'OK') {
          window.location.href = data.url;
        } else {
          notify.notifyDefaultError();
        }
      },
      error: function (xhr, status, error) {
        console.log('FAILED: ' + error);
      }
    });
  }

  function openDetails() {
    var icon = $(this);
    var sessionId = icon.closest('.row').attr('id');
    var resultDiv = '#result-' + sessionId;

    if (icon.attr('class').includes('fa-caret-down')) {
      icon.attr('class', 'fa fa-caret-left btn-student-details');

      $(resultDiv).empty();
    } else {
      icon.attr('class', 'fa fa-caret-down btn-student-details');

      if (elements.sessionDetails[sessionId] !== undefined) {
        parseSessionDetails(resultDiv, elements.sessionDetails[sessionId]);
      } else {
        $.ajax({
          type: 'GET',
          url: '/dashboard/sessions/getDetails',
          data: {
            id: sessionId
          },
          success: function (data) {
            parseSessionDetails(resultDiv, data);
            elements.sessionDetails[sessionId] = data;
          },
          error: function () {
            notify.notifyDefaultError();
          }
        });
      }
    }
  }

  function parseSessionDetails(resultDiv, data) {
    $(resultDiv).html(data);

    //bind on click event
    $('.contact-student').tooltip();
    $('.contact-student').on('click', function () {
      var studentId = $(this).data('studentid');
      $('#contact-student-form').attr('data-studentid', studentId);
      $('#contact-modal').modal('toggle');
    });
  }

  function sendMessageStudent(e) {
    e.preventDefault();

    var params = {
      text: elements.$contactModalMessage.val(),
      explainerId: $(this).data('studentid')
    };

    $.ajax({
      type: 'POST',
      url: elements.contactExplainerEndpoint,
      data: params,
      success: function (data) {
        elements.$contactModal.modal('hide');
        notify.notifySuccess('Messagem enviada com sucesso!');
      },
      error: function (xhr, status, error) {
        notify.notifyDefaultError();
      }
    });
  }

  function initSessions() {
    elements.$joinSessionBtn.on('click', joinSession);
    elements.$openDetailsBtn.on('click', openDetails);
    elements.$btnJoinFree.on('click', joinFreeCall);

    elements.$openContactModalBtn.on('click', function () {
      elements.explId = $(this).data('tutorid');
      sessionsHelper.onSubmitSendMessage(elements.explId);
      elements.$contactModal.modal('toggle');
    });

    elements.$contactStudentForm.on('submit', sendMessageStudent);
  }

  function init() {
    initSessions();
  }

  return {
    init: init
  };
})();
; var LEARNIFY = LEARNIFY || {};

LEARNIFY.home = (function () {
  var elements = {
    disciplinesEndpoint: '/Search/GetDisciplines',
    $inputAutocomplete: $('#disciplineAutocomplete'),
    $homeSearchBtn: $('.btn-search__form'),
  };

  /**
  * Aux function to get all disciplines.
  * @returns {} json object with all disciplines
  */
  function getAllDisciplines() {
    if (elements.disciplines) {
      return elements.disciplines;
    } else {
      $.ajax({
        type: "GET",
        url: elements.disciplinesEndpoint,
        dataType: "json",
        async: false,
        success: function (data) {
          elements.disciplines = data;
        }
      });
    }

    return elements.disciplines;
  };

  /**
  * Init autocomplete plugin.
  * To get all disciplines in one time instead of in each keydown an ajax request,
  * we use the function getAllDisciplines to retrieve it before the initialization.
  */
  function homeAutocomplete() {
    elements.$inputAutocomplete.autocomplete({
      lookupLimit: 5,
      lookup: getAllDisciplines(),
      lookupFilter: function (suggestion, query, queryLowerCase) {
        var optionReplaced = suggestion.data.normalize('NFKD').replace(/[^\w]/g, '');
        var inputValueReplaced = queryLowerCase.normalize('NFKD').replace(/[^\w]/g, '');
        return optionReplaced.toLowerCase().includes(inputValueReplaced.toLowerCase());
      },
      showNoSuggestionNotice: true,
      noSuggestionNotice: "Nenhuma disciplina encontrada",
      onSelect: function (suggestion) {
        $(this).data("slug", suggestion.data);
      }
    });

    elements.$inputAutocomplete.on("click", function (e) {
      e.preventDefault();
      elements.$homeSearchBtn.tooltip("hide");
    })
  };

  function submitSearchTutors() {
    elements.$homeSearchBtn.on('click', function (e) {
      e.preventDefault();

      var _this = $(this);
      var value = elements.$inputAutocomplete.val();
      var slug = elements.$inputAutocomplete.data("slug");
      var link = _this.attr("href");

      if (value) {
        if (slug) {
          mixpanel.track('home search', {
            slug: slug
          });
          window.location.href = link + "/" + slug;
        } else {
          _this.tooltip('show');
        }
      } else {
        mixpanel.track('home search', {
          slug: 'all'
        });
        window.location.href = link;
      }
    });
  }

  function triggerTooltip() {
    elements.$homeSearchBtn.tooltip({ trigger: "manual" });
  }

  function initEvents() {
    mixpanel.track('Open homepage');
  }

  function init() {
    homeAutocomplete();
    submitSearchTutors();
    triggerTooltip();
    initEvents();
  }

  return {
    init: init
  }
})();
; var LEARNIFY = LEARNIFY || {};

LEARNIFY.login = (function () {
  function init() {
    $(".ui.checkbox").checkbox();
    $('body > section > div.signin__form > form > div > div:nth-child(3) > input').click(function () {
      mixpanel.track('To login');
    });
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};

LEARNIFY.register = (function () {
  var elements = {
    $confirmRoleBtn: $('#continue-signup'),
  };

  function getUserRole() {
    var urlParams = new URLSearchParams(window.location.search);
    var userRole = urlParams.get('role');
    return userRole || 'chooseRole';
  }

  function handleRoleConfirm() {
    elements.$confirmRoleBtn.on('click', function () {
      var studentRadio = document.getElementById("radio1");
      var tutorRadio = document.getElementById("radio2");

      var role = studentRadio.checked ? studentRadio.value : tutorRadio.value;

      if (!studentRadio.checked && !tutorRadio.checked) {
        $(".warning-message").text("Escolha um dos ppeis.")
      }

      if (studentRadio.checked || tutorRadio.checked) {
        window.location = "/account/register?role=" + role;
      }
    });
  }

  function init() {
    mixpanel.track('Open signup - ' + getUserRole());
    $('input.button--primary').on('click', function () {
      mixpanel.track('To basic info');
    });

    handleRoleConfirm();
  }

  return {
    init: init,
  };
})();
; var LEARNIFY = LEARNIFY || {};

LEARNIFY.searchTutors = (function () {
  var elements = {
    $searchDropdownDisciplines: $('#searchDropdownDisciplines'),
    $moreResultsBtn: $('.more-results'),
    moreResultsCount: 0,
    $searchDisciplinesDropdown: $('#searchDropdownDisciplines'),
    rangeSlider: $('#range-slider'),
    getTutorsEndpoint: '/Search/GetTutors',
    baseResultsCount: 12,
    priceOptionInserted: false,
    $titleSearch: $('#title-search'),
  };

  function updateUrlAddress() {
    var disciplineSelected = elements.$searchDisciplinesDropdown.find(':selected');
    var disciplineName = disciplineSelected.text();
    var disciplineSlug = disciplineSelected.val();

    if (disciplineName != 'Escolha a disciplina:') {
      document.title = 'Explicadores online de ' + disciplineName + ' - Learnify';
      history.pushState({}, '', '/tutors/' + disciplineSlug);
    }
  }

  /**
   * Function to reset the count of load tutors.
   * It's invoked when a change event in the search dropdowns or slider are fired.
   */
  function reInitMoreTutorsCount() {
    elements.moreResultsCount = 0;
  }

  /**
   * Function with the event handler when the user wants to fetch more tutors in the search page.
   */
  function loadMoreTutorsHandler() {
    elements.$moreResultsBtn.on('click', 'a', function (e) {
      e.preventDefault();
      elements.moreResultsCount++;
      fetchTutors(elements.disciplineSelected, 0, 0);
      mixpanel.track('Load more tutors');
    });
  }

  /**
   * If the change event is fired, the count of more results needs to be reset.
   */
  function onChangeGetTutors() {
    $('#searchDropdownDisciplines option:first').attr('disabled', 'disabled');

    $('#searchDropdownDisciplines').on('change', function () {
      elements.disciplineSelected = elements.$searchDisciplinesDropdown.find(':selected').val();
      elements.$moreResultsBtn.show();
      reInitMoreTutorsCount();
      fetchTutors(elements.disciplineSelected, 0, 0, true);
      generatePriceOption();
      mixpanel.track('Search tutors filter disciplines change');
    });

    $('#dropdownTypes').on('change', function () {
      $('.search-tutors__no-more').remove();
      elements.$moreResultsBtn.show();
      reInitMoreTutorsCount();
      fetchTutors();

      mixpanel.track('Search tutors order', {
        orderSelected: $('#dropdownTypes').find(':selected').text(),
      });
    });

    $('#dropdownResults').on('change', function () {
      $('.search-tutors__no-more').remove();
      elements.$moreResultsBtn.show();
      reInitMoreTutorsCount();
      fetchTutors();

      mixpanel.track('Search tutors num results', {
        orderSelected: $('#dropdownResults').find(':selected').text(),
      });
    });

    $('#range-slider').on('slideStop', function () {
      $('.search-tutors__no-more').remove();
      elements.$moreResultsBtn.show();
      reInitMoreTutorsCount();
      fetchTutors();
    });
  }

  function generatePriceOption() {
    if (
      !elements.priceOptionInserted &&
      elements.$searchDisciplinesDropdown.find(':selected').val()
    ) {
      $('#dropdownTypes').append($('<option></option>').val(3).html('Preo'));
      elements.priceOptionInserted = true;
    }
  }

  /**
   * Initializing the range slider with values from DB
   */
  function initRangeSlider() {
    elements.rangeSlider.slider({
      step: 1,
      min: window.minPrice,
      max: window.maxPrice,
      value: [window.minPrice, window.maxPrice],
    });
  }

  function renderTutors(searchModel) {
    var tutors = searchModel.explainers || [];
    if (tutors.length) {
      if (elements.moreResultsCount == 0) {
        $('#results').empty();
        updateSearchTitle();
      }

      for (var index = 0; index < tutors.length; index++) {
        var element = tutors[index];
        $('#results').append(renderTutorCard(element));
      }
    } else {
      if (elements.moreResultsCount == 0) {
        $('#results').empty();
        $('#results').html(
          '<h3 class="text-center search-tutors__no-more">No existem explicadores a leccionar a disciplina selecionada.</h3>'
        );
      }
    }

    var pageSize = $('#dropdownResults').dropdown('get value')[0];
    if (tutors.length < elements.baseResultsCount * pageSize || !searchModel.hasMoreResults) {
      elements.$moreResultsBtn.hide();
    }
  }

  function fetchTutors(discipline, priceMax, priceMin, updateRange) {
    var params = {
      orderBy: $('#dropdownTypes').dropdown('get value')[0],
      paginationCount: elements.moreResultsCount,
      pageSize: $('#dropdownResults').dropdown('get value')[0],
    };

    var dropdownDisciplineSelected = elements.$searchDisciplinesDropdown.find(':selected').val();

    if (dropdownDisciplineSelected !== undefined) {
      params.disciplineSlug = dropdownDisciplineSelected;
    } else {
      params.disciplineSlug = discipline;
    }

    if (priceMax !== undefined) {
      params.priceMax = priceMax;
    } else {
      params.priceMax = $('div.max-slider-handle').attr('aria-valuenow');
    }

    if (priceMin !== undefined) {
      params.priceMin = priceMin;
    } else {
      params.priceMin = $('div.min-slider-handle').attr('aria-valuenow');
    }

    $('.loading-screen').show();

    $.ajax({
      type: 'GET',
      url: elements.getTutorsEndpoint,
      data: params,
      success: function (data) {
        renderTutors(data.searchModel);
        updateUrlAddress();
        $('.loading-screen').hide();

        if (updateRange) {
          updateRangeSlider(data.searchModel);
        }
      },
      error: function (xhr, status, error) {
        $('.loading-screen').hide();
      },
    });
  }

  function updateSearchTitle() {
    var disciplineSelected = elements.$searchDisciplinesDropdown.find(':selected').text();

    if (disciplineSelected == 'Escolha a disciplina:') {
      elements.$titleSearch.text('Aqui esto os nossos melhores explicadores!');
    } else {
      elements.$titleSearch.text('Escolhe os melhores explicadores de ');
      elements.$titleSearch.append(
        '<span class="span-discipline">' +
        elements.$searchDisciplinesDropdown.find(':selected').text() +
        '</span>'
      );
    }
  }

  function renderTutorCard(tutor) {
    var card = document.createElement('div');
    card.className = 'card card-tutor';

    var linkTutor = document.createElement('a');
    var selectedDiscipline = elements.$searchDisciplinesDropdown.find(':selected').val();

    if (selectedDiscipline) {
      linkTutor.href = '/tutors/profile/' + tutor.id + '?discipline=' + selectedDiscipline;
    } else {
      linkTutor.href = '/tutors/profile/' + tutor.id;
    }

    var tutorThumbnail = document.createElement('div');
    tutorThumbnail.className = 'image tutor-thumbnail';

    var tutorImage = document.createElement('img');
    tutorImage.className = 'img-responsive';
    tutorImage.src =
      'https://img.imageboss.me/learnify/cover:face/330x266/profilePictures/' + tutor.imagePath;
    tutorImage.alt = tutor.firstName;

    var tutorPrice = document.createElement('span');

    if (tutor.price > 0) {
      tutorPrice.className = 'card-tutor__price';
      tutorPrice.textContent = tutor.price + '/Aula';
    }

    var tutorContent = document.createElement('div');
    tutorContent.className = 'content';

    var tutorNameContainer = document.createElement('div');
    tutorNameContainer.className = 'card-tutor__title mb-10';

    var tutorName = document.createElement('h4');
    tutorName.className = 'header';
    tutorName.textContent = tutor.firstName + ' ' + tutor.lastName;
    tutorNameContainer.appendChild(tutorName);

    if (tutor.isVerified) {
      var verifiedIcon = document.createElement('img');
      verifiedIcon.src = '/dist/img/icons/verified.svg';
      verifiedIcon.classList = 'card-tutor__verified';
      verifiedIcon.setAttribute('data-toggle', 'tooltip');
      verifiedIcon.setAttribute('title', 'Explicador Verificado');
      $(verifiedIcon).tooltip();

      tutorNameContainer.appendChild(verifiedIcon);
    }

    var tutorDescription = document.createElement('p');
    tutorDescription.className = 'description';
    tutorDescription.textContent = tutor.description + '...';

    tutorThumbnail.append(tutorImage, tutorPrice);
    tutorContent.append(tutorNameContainer, tutorDescription);

    var tutorExtraContent = document.createElement('div');
    tutorExtraContent.className = 'extra content';

    //var lessonsContainer = document.createElement("div");
    //var lessonsLabel = document.createElement("span");
    //lessonsLabel.textContent = "Total de aulas:";

    //var lessonsNumber = document.createElement("span");
    //lessonsNumber.textContent = tutor.TotalSessions;

    //lessonsContainer.append(lessonsLabel, lessonsNumber);

    var ratingContainer = document.createElement('div');
    ratingContainer.className = 'search-tutor__rating pull-left';

    var ratingLabel = document.createElement('span');
    ratingLabel.textContent = 'Avaliao: ';
    ratingContainer.append(ratingLabel);

    for (var index = 0; index < 5; index++) {
      if (Math.ceil(tutor.rating) > index) {
        var starFill = document.createElement('span');
        starFill.className = 'fa fa-star';

        ratingContainer.append(starFill);
      } else {
        var starEmpty = document.createElement('span');
        starEmpty.className = 'fa fa-star-o';

        ratingContainer.append(starEmpty);
      }
    }

    tutorExtraContent.append(ratingContainer);
    card.append(linkTutor, tutorThumbnail, tutorContent, tutorExtraContent);

    return card;
  }

  function updateRangeSlider(searchModel) {
    elements.rangeSlider.slider('setAttribute', 'min', searchModel.priceMin);
    elements.rangeSlider.slider('setAttribute', 'max', searchModel.priceMax);
    elements.rangeSlider.slider('setAttribute', 'value', [
      searchModel.priceMin,
      searchModel.priceMax,
    ]);
    elements.rangeSlider.slider('refresh');
  }

  function initMixpanelEvents() {
    $('#results').on('click', 'a', function (e) {
      e.preventDefault();
      var self = $(this);

      var name = self.closest('.card').find('h4.header').text();
      mixpanel.track(
        'Tutor card click',
        {
          tutorName: name,
        },
        function () {
          window.location.href = self.attr('href');
        }
      );
    });
  }

  function init() {
    initRangeSlider();
    onChangeGetTutors();
    initMixpanelEvents();

    $('.ui.dropdown:not(#searchDropdownDisciplines)').dropdown({
      selectOnKeydown: false,
      forceSelection: false,
    });
    elements.$searchDropdownDisciplines.dropdown({
      fullTextSearch: 'exact',
      selectOnKeydown: false,
      forceSelection: false,
    });

    loadMoreTutorsHandler();
    $('.loading-screen').hide();
  }

  return {
    init: init,
  };
})();
; var LEARNIFY = LEARNIFY || {};

var sessionsHelper = LEARNIFY.helpers.sessions;
var notify = LEARNIFY.helpers.notify;

LEARNIFY.tutorProfile = (function () {
  var elements = {
    $scheduleSessionBtn: $('#btnScheduleSessions'),
    explId: $('.schedule__container').data('expl'), // tutor ID
    isFullLesson: $('.schedule__container').data('is-full-lesson'),
    freeScheduleEndpoint: "/FreeCall/Schedule",
    scheduleEndpoint: "/dashboard/sessions/schedule",
    disponibilityByWeekDay: "/schedule/disponibilityByWeekday",
    getDisponibilityByDate: "/Schedule/GetDisponibilityByDate",
    getPriceEndpoint: "/Disciplines/GetPrice",
    $datepickerContainer: $("div.datepicker-container"),
    datepickerCounter: 1,
    explDuration: $('.schedule__container').data('duration'),
    $dropdownDisciplines: $('#dropdownDisciplines'),
    unavailableWeekdays: [],
    $profileDatepicker: $("#profile-datepicker1"),
    $profilePrice: $("span.schedule__price"),
    isFirstTime: 0,
  }

  /**
* function to create datepickers dinamicaly, when user wants to schedule more sessions
*/
  function addProfileDatepicker() {
    var div = $("<div>");
    div.addClass("datepicker-inputs__container clearfix");

    var newDatepicker = $("<input>");
    newDatepicker.attr("type", "text")
      .attr("id", "profile-datepicker" + ++elements.datepickerCounter)
      .addClass("form-control me-inputs datepicker")
      .attr("placeholder", "dd/ms/ano");

    var hours = $("<select>");
    hours.addClass("me-inputs");

    var removeIcon = $("<i>");
    removeIcon.addClass("remove icon");

    //warning no availability
    var warning = $("<h6>");
    warning.addClass("warning-message");

    div.append(newDatepicker, hours, removeIcon, warning);
    elements.$datepickerContainer.find(".form-group").append(div);
    initProfileDatepicker("#" + newDatepicker[0].id);
  };

  /**
  * Helper function to check if the string is JSON or not
  * @param {any} str
  */
  function isJsonString(str) {
    try {
      JSON.parse(str);
    } catch (e) {
      return false;
    }
    return true;
  };

  /**
  *  When the date is changed we need to verify if the chosen date is earlier than today
  *  If not, we get the hours disponible for that day.
  */
  function dateChangedHandler() {
    var _this = $(this);
    $.ajax({
      type: "GET",
      url: elements.getDisponibilityByDate,
      data: {
        date: _this.val(),
        explainerId: elements.explId,
        isFreeCall: 'false'
      },
      success: function (data) {
        var warning = _this.siblings(".warning-message");
        var selectHours = _this.siblings("select.me-inputs");

        selectHours.empty();
        //if there is no hours in that day
        if (!isJsonString(data)) {
          warning.text(data);
          selectHours.attr('disabled', 'disabled');
        } else {
          var hours = JSON.parse(data);
          warning.text('');
          selectHours.removeAttr('disabled');

          if (hours instanceof Array) {
            for (var i = 0, l = hours.length; i < l; i++) {
              selectHours.append($('<option>',
                {
                  value: i + 1,
                  text: hours[i]
                }));
            }
          }
        }
      },
      error: function (xhr, status, error) {
        console.log(xhr);
        console.log("FAILED: " + error)
      }
    });
  };

  function scheduleFreeCall(e) {
    e.preventDefault();

    var _this = $(this);
    var btnSchedule = $('.free-call_schedule').addClass('ui loading button');

    var params = {
      date: _this.find("#free-call__datepicker").data('datepicker').getFormattedDate('dd/mm/yyyy'),
      hour: _this.find(".free-call__slots").find("option:selected").text(),
      tutorId: elements.explId
    };

    $.ajax({
      type: "POST",
      url: elements.freeScheduleEndpoint,
      data: JSON.stringify(params),
      contentType: 'application/json; charset=utf-8',
      dataType: 'json',
      success: function (data) {
        mixpanel.track('Book free lesson');
        if (data.result === 'OK') {
          notify.notifySuccess(data.msg);
        } else {
          notify.notifyError(data.msg);
        }
        setTimeout(function () {
          location.reload();
        }, 1000);
      },
      error: function (xhr, status, error) {
        console.log(xhr);
        console.log("FAILED: " + error)
      }
    });
  }

  function getFreeCallDisponibility() {
    var _this = $(this);

    $.ajax({
      type: "GET",
      url: elements.getDisponibilityByDate,
      data: {
        date: _this.val(),
        explainerId: elements.explId,
        isFreeCall: 'true'
      },
      success: function (data) {
        var selectHours = $('.free-call__slots');
        selectHours.empty();

        if (isJsonString(data)) {
          var hours = JSON.parse(data);

          if (hours instanceof Array) {
            for (var i = 0, l = hours.length; i < l; i++) {
              selectHours.append($('<option>',
                {
                  value: i + 1,
                  text: hours[i]
                }));
            }
          }
        }
      },
      error: function (xhr, status, error) {
        console.log(xhr);
        console.log("FAILED: " + error)
      }
    });
  }

  function onclickCreateDatepicker() {
    elements.$datepickerContainer.find("button").on("click", function () {
      addProfileDatepicker();
    });
  };

  function removeSchedule() {
    $(this).closest(".datepicker-inputs__container").remove();
  }

  function scheduleSessionsHandler() {
    mixpanel.track('Schedule lesson on tutor profile', {
      tutorId: elements.explId
    });

    var _this = $(this);
    _this.addClass('ui loading button');
    var nrInputs = $(".datepicker-inputs__container").length,
      arr = [];

    for (var i = 1; i <= nrInputs; i++) {
      var datepicker = $("#profile-datepicker" + i); //datepicker element
      var selectValue = datepicker.siblings(".me-inputs").find("option:selected").text(); //hour selected
      var datepickerValue = datepicker.data('datepicker').getFormattedDate('dd/mm/yyyy');

      if (datepickerValue != "" && selectValue != "") {
        arr.push({
          date: datepickerValue,
          hour: selectValue
        });
      }
    }

    if (arr.length == 0) {
      _this.removeClass('ui loading');
      $("#warningNoSessions").text("Escolha pelo menos um dia com disponibilidade!");
    } else {
      $("#warningNoSessions").text("");

      $.ajax({
        type: "POST",
        url: elements.scheduleEndpoint,
        data: {
          sessionsDates: JSON.stringify(arr),
          explainerId: elements.explId,
          duration: elements.explDuration,
          disciplineId: elements.$dropdownDisciplines.val()
        },
        success: function (data) {
          window.location.replace("/dashboard/requests");
        },
        error: function (err) {
          notify.notifyError("Ocorreu um erro a marcar a aula!");
          _this.removeClass('ui loading');
        }
      });
    }
  }

  /**
  * function to init many datepickers
  * parameter is the datepicker ID
  */
  function initProfileDatepicker(datepicker) {
    var dpNow = new Date();

    if (datepicker) {
      $(datepicker).datepicker({
        format: "dd/mm/yyyy",
        language: "pt",
        todayHighlight: true,
        startDate: dpNow,
        daysOfWeekDisabled: elements.unavailableWeekdays
      });
    } else {
      elements.$profileDatepicker.datepicker({
        format: "dd/mm/yyyy",
        language: "pt",
        todayHighlight: true,
        startDate: dpNow,
        daysOfWeekDisabled: elements.unavailableWeekdays
      });
    }

    if ($(datepicker).hasClass("me-inputs")) {
      $(datepicker).on("change", dateChangedHandler);
    }
  };

  function getUnavailableWeekdays() {
    $.ajax({
      type: "GET",
      url: elements.disponibilityByWeekDay,
      async: false, //if async the first datepicker will initialize before the response
      data: {
        tutorId: elements.explId
      },
      success: function (data) {
        var indexSunday = data.unavailableWeekdays.indexOf(7);
        indexSunday == -1 ? null : data.unavailableWeekdays[indexSunday] = 0;
        elements.unavailableWeekdays = data.unavailableWeekdays;
      },
      error: function (xhr, status, error) {
        console.log(xhr);
      }
    });
  }

  /**
  * Change event for the datepicker inside the user profile.
  */
  function onChangeProfileDatepicker() {
    elements.$profileDatepicker.on('change', dateChangedHandler);
  };

  /**
  * If the discipline selected change, we need the get the new price
  * defined by the tutor.
  */
  function onChangeDisciplinesDropdown() {
    elements.$dropdownDisciplines.on('change', getPriceHandler);
  };

  /**
  * Handler for the change event of the disciplines dropdown.
  * On change we make a ajax request to get the new values for the new
  * selected discipline.
  */
  function getPriceHandler() {
    elements.isFirstTime++;
    var params = {
      id: elements.$dropdownDisciplines.val(),
      explainerId: elements.explId
    };

    if (elements.isFirstTime > 1) {
      mixpanel.track('Tutor profile discipline dropdown', {
        tutorId: elements.explId
      });
    }

    if (params.id === null) {
      return;
    }

    $.ajax({
      type: "GET",
      url: elements.getPriceEndpoint,
      data: {
        id: elements.$dropdownDisciplines.val(),
        explainerId: elements.explId
      },
      success: function (data) {
        elements.$profilePrice.text(data + '');
      }
    });
  }

  function initTutorProfileEvents() {
    getPriceHandler();
    getUnavailableWeekdays();
    initProfileDatepicker();

    elements.$scheduleSessionBtn.on("click", scheduleSessionsHandler);
    $(".datepicker-container").on("click", ".remove", removeSchedule);
    onChangeProfileDatepicker();
    onChangeDisciplinesDropdown();

    onclickCreateDatepicker();

    sessionsHelper.onSubmitSendMessage(elements.explId);

    //free call events
    initProfileDatepicker("#free-call__datepicker");
    $('#free-call__datepicker').on('change', getFreeCallDisponibility);
    $('#free-call__form').on('submit', scheduleFreeCall);
  }

  function init() {
    initTutorProfileEvents();
  }

  return {
    init: init
  }
})();; var LEARNIFY = LEARNIFY || {};

/**
* ES5 Module Pattern
* To hide the content of the object
*/
LEARNIFY.edu = (function () {
  var elements = {
    $allTooltips: $("[data-toggle=\"tooltip\"]"),
    $allDropdowns: $(".ui.dropdown"),
  };

  /**
  * Get the route where the user is.
  */
  function getActiveRoute() {
    elements.currentRoute = $(location).attr("pathname");
  };

  function initMixpanelEvents() {
    $('body > header > nav > div.right.menu.hide-mobile > ul > li:nth-child(1) > a').click(function () {
      mixpanel.track('To login page');
    });

    $('body > header > nav > div.right.menu.hide-mobile > ul > li:nth-child(2) > a').click(function () {
      mixpanel.track('To signup page');
    });
  }

  /**
  * dependendo da route, executamos diferentes metodos para nao estar a executar sempre tudo e a testar se o elemento existe
  * so temos de ter em atencao se mudarmos as routes depois passa a nao funcionar aqui.
  */
  function initPerRoute() {
    // tive de fazer assim porque a string tinha o ID no fim
    // provavelmente isto vai acontecer noutras routes que nao me estou a lembrar agora
    if (elements.currentRoute.includes("/tutors/profile")) {
      LEARNIFY.tutorProfile.init();
    } else if (elements.currentRoute.includes("/tutors")) {
      LEARNIFY.searchTutors.init();
    } else if (elements.currentRoute.includes("/admin/sessions")) {
      LEARNIFY.dash.admin.init();
    } else if (elements.currentRoute.includes('/dashboard/messages')) {
      LEARNIFY.dash.messages.init();
    } else {
      switch (elements.currentRoute) {
        case "/":
          LEARNIFY.home.init();
          break;
        case "/account/login":
          LEARNIFY.login.init();
          break;
        case "/account/register/basic-info":
          LEARNIFY.basicInfo.init();
          break;
        case "/account/register/disciplines":
          LEARNIFY.dash.disciplines.init();
          break;
        case "/account/register":
          LEARNIFY.register.init();
          break;
        case "/dashboard/":
          LEARNIFY.dash.home.init();
          break;
        case "/dashboard/disciplines":
          LEARNIFY.dash.disciplines.init();
          break;
        case "/dashboard/profile":
          LEARNIFY.dash.editProfile.init();
          break;
        case "/dashboard/schedule":
          LEARNIFY.dash.schedule.init();
          break;
        case "/dashboard/sessions":
          LEARNIFY.dash.sessions.init();
          break;
        case "/dashboard/sessions/success":
          LEARNIFY.dash.sessionsSuccess.init();
          break;
        case "/dashboard/requests":
          LEARNIFY.dash.requests.init();
          break;
        case "/dashboard/reviews":
          LEARNIFY.dash.reviews.init();
          break;
        case "/price":
          $('.menu .item').tab();
          break;
        case "/help-center":
          LEARNIFY.helpCenter.init();
          break;
      }
    }
    // always init, not sure if is the right place to add these calls
    // call in each route, do this later
    elements.$allTooltips.tooltip();
    elements.$allDropdowns.dropdown();
  };

  /**
  * Init function
  */
  function init() {
    getActiveRoute();
    initPerRoute();
    initMixpanelEvents();
    console.log($(location).attr('pathname'));
  };

  /**
  *  Public API
  */
  return {
    init: init
  };

}());

(function ($, window, document) {
  $(function () {
    LEARNIFY.edu.init();
  });
})(window.jQuery, window, document);